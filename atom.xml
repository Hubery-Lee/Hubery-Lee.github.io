<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Hubery-Lee</title>
  
  <subtitle>è’¹è‘­è‹è‹ï¼Œç™½éœ²ä¸ºéœœ</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://hubery-lee.github.io/"/>
  <updated>2020-07-12T16:33:40.593Z</updated>
  <id>https://hubery-lee.github.io/</id>
  
  <author>
    <name>æä¼š</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Djangoå¦‚ä½•æ­å»ºwebåº”ç”¨</title>
    <link href="https://hubery-lee.github.io/2020/07/12/Django%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BAweb%E5%BA%94%E7%94%A8/"/>
    <id>https://hubery-lee.github.io/2020/07/12/Django%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BAweb%E5%BA%94%E7%94%A8/</id>
    <published>2020-07-12T13:40:31.000Z</published>
    <updated>2020-07-12T16:33:40.593Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Djangoå¦‚ä½•æ­å»ºwebåº”ç”¨"><a href="#Djangoå¦‚ä½•æ­å»ºwebåº”ç”¨" class="headerlink" title="Djangoå¦‚ä½•æ­å»ºwebåº”ç”¨"></a>Djangoå¦‚ä½•æ­å»ºwebåº”ç”¨</h1><h2 id="ğŸ›’Djangoçš„ç‰¹ç‚¹"><a href="#ğŸ›’Djangoçš„ç‰¹ç‚¹" class="headerlink" title="ğŸ›’Djangoçš„ç‰¹ç‚¹"></a>ğŸ›’Djangoçš„ç‰¹ç‚¹</h2><p>Django æœ€åˆè¢«è®¾è®¡ç”¨äºå…·æœ‰å¿«é€Ÿå¼€å‘éœ€æ±‚çš„æ–°é—»ç±»ç«™ç‚¹ï¼Œç›®çš„æ˜¯è¦å®ç°ç®€å•å¿«æ·çš„ç½‘ç«™å¼€å‘ã€‚ä»¥ä¸‹å†…å®¹ç®€è¦ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨ Django å®ç°ä¸€ä¸ªæ•°æ®åº“é©±åŠ¨çš„ Web åº”ç”¨ã€‚</p><p><span class="exturl" data-url="aHR0cHM6Ly9kb2NzLmRqYW5nb3Byb2plY3QuY29tL3poLWhhbnMvMy4wL2ludHJvL292ZXJ2aWV3Lw==">https://docs.djangoproject.com/zh-hans/3.0/intro/overview/<i class="fa fa-external-link-alt"></i></span></p><ul><li><p><strong><span class="exturl" data-url="aHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvT2JqZWN0LXJlbGF0aW9uYWxfbWFwcGluZw==">å¯¹è±¡å…³ç³»æ˜ å°„å™¨<i class="fa fa-external-link-alt"></i></span></strong> </p><p>å¯ä»¥ä½¿ç”¨å¼ºå¤§çš„ <span class="exturl" data-url="aHR0cHM6Ly9kb2NzLmRqYW5nb3Byb2plY3QuY29tL3poLWhhbnMvMy4wL3RvcGljcy9kYi9tb2RlbHMv">æ•°æ®-æ¨¡å‹è¯­å¥<i class="fa fa-external-link-alt"></i></span> æ¥æè¿°ä½ çš„æ•°æ®æ¨¡å‹ï¼Œè¿™è§£å†³äº†æ•°å¹´ä»¥æ¥åœ¨æ•°æ®åº“æ¨¡å¼ä¸­çš„éš¾é¢˜ã€‚</p></li><li><p><strong>äº«ç”¨ä¾¿æ·çš„ API</strong></p><p>å¯ä»¥ä½¿ç”¨ä¸€å¥—ä¾¿æ·è€Œä¸°å¯Œçš„ <span class="exturl" data-url="aHR0cHM6Ly9kb2NzLmRqYW5nb3Byb2plY3QuY29tL3poLWhhbnMvMy4wL3RvcGljcy9kYi9xdWVyaWVzLw==">Python API<i class="fa fa-external-link-alt"></i></span> è®¿é—®ä½ çš„æ•°æ®ã€‚APIæ˜¯åŠ¨æ€åˆ›å»ºçš„ï¼Œä¸éœ€è¦ä»£ç ç”Ÿæˆ</p></li><li><p><strong>åŠ¨æ€ç®¡ç†æ¥å£</strong></p><p>å½“ä½ çš„æ¨¡å‹å®Œæˆå®šä¹‰ï¼ŒDjango å°±ä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªä¸“ä¸šçš„ç”Ÿäº§çº§ <span class="exturl" data-url="aHR0cHM6Ly9kb2NzLmRqYW5nb3Byb2plY3QuY29tL3poLWhhbnMvMy4wL3JlZi9jb250cmliL2FkbWluLw==">ç®¡ç†æ¥å£<i class="fa fa-external-link-alt"></i></span> â€”â€”ä¸€ä¸ªå…è®¸è®¤è¯ç”¨æˆ·æ·»åŠ ã€æ›´æ”¹å’Œåˆ é™¤å¯¹è±¡çš„ Web ç«™ç‚¹ã€‚ä½ åªéœ€åœ¨ admin ç«™ç‚¹ä¸Šæ³¨å†Œä½ çš„æ¨¡å‹å³å¯ï¼š</p></li><li><p><strong>è§„åˆ’ URLs</strong></p><p>Django æ¨å´‡ä¼˜ç¾çš„ URL è®¾è®¡ï¼Œæ‰€ä»¥ä¸è¦æŠŠè¯¸å¦‚ <code>.php</code> å’Œ <code>.asp</code> ä¹‹ç±»çš„å†—ä½™çš„åç¼€æ”¾åˆ° URL é‡Œã€‚</p><p>éœ€è¦åˆ›å»ºä¸€ä¸ªå«åš URLconf çš„ Python æ¨¡å—ã€‚è¿™æ˜¯ç½‘ç«™çš„ç›®å½•ï¼Œå®ƒåŒ…å«äº†ä¸€å¼  URL å’Œ Python å›è°ƒå‡½æ•°ä¹‹é—´çš„æ˜ å°„è¡¨ã€‚URLconf ä¹Ÿæœ‰åˆ©äºå°† Python ä»£ç ä¸ URL è¿›è¡Œè§£è€¦ï¼ˆè¯‘æ³¨ï¼šä½¿å„ä¸ªæ¨¡å—åˆ†ç¦»ï¼Œç‹¬ç«‹ï¼‰</p></li><li><p><strong>ç¼–å†™è§†å›¾</strong></p><p>è§†å›¾å‡½æ•°çš„æ‰§è¡Œç»“æœåªå¯èƒ½æœ‰ä¸¤ç§ï¼šè¿”å›ä¸€ä¸ªåŒ…å«è¯·æ±‚é¡µé¢å…ƒç´ çš„ <a href="https://docs.djangoproject.com/zh-hans/3.0/ref/request-response/#django.http.HttpResponse" target="_blank" rel="noopener"><code>HttpResponse</code></a> å¯¹è±¡ï¼Œæˆ–è€…æ˜¯æŠ›å‡º <a href="https://docs.djangoproject.com/zh-hans/3.0/topics/http/views/#django.http.Http404" target="_blank" rel="noopener"><code>Http404</code></a> è¿™ç±»å¼‚å¸¸ã€‚è‡³äºæ‰§è¡Œè¿‡ç¨‹ä¸­çš„å…¶å®ƒçš„åŠ¨ä½œåˆ™ç”±ä½ å†³å®šã€‚</p></li><li><p><strong>è®¾è®¡æ¨¡æ¿</strong><br>Django å…è®¸è®¾ç½®æœç´¢æ¨¡æ¿è·¯å¾„ï¼Œè¿™æ ·å¯ä»¥æœ€å°åŒ–æ¨¡æ¿ä¹‹é—´çš„å†—ä½™ã€‚åœ¨ Django è®¾ç½®ä¸­ï¼Œä½ å¯ä»¥é€šè¿‡ DIRS å‚æ•°æŒ‡å®šä¸€ä¸ªè·¯å¾„åˆ—è¡¨ç”¨äºæ£€ç´¢æ¨¡æ¿ã€‚å¦‚æœç¬¬ä¸€ä¸ªè·¯å¾„ä¸­ä¸åŒ…å«ä»»ä½•æ¨¡æ¿ï¼Œå°±ç»§ç»­æ£€æŸ¥ç¬¬äºŒä¸ªï¼Œä»¥æ­¤ç±»æ¨ã€‚</p></li></ul><h2 id="ğŸˆé¡¹ç›®æ¡†æ¶"><a href="#ğŸˆé¡¹ç›®æ¡†æ¶" class="headerlink" title="ğŸˆé¡¹ç›®æ¡†æ¶"></a>ğŸˆé¡¹ç›®æ¡†æ¶</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mysite/</span><br><span class="line">    manage.py</span><br><span class="line">    mysite/</span><br><span class="line">        __init__.py</span><br><span class="line">        settings.py</span><br><span class="line">        urls.py</span><br><span class="line">        asgi.py</span><br><span class="line">        wsgi.py</span><br></pre></td></tr></table></figure><p>è¿™äº›ç›®å½•å’Œæ–‡ä»¶çš„ç”¨å¤„æ˜¯ï¼š</p><ul><li><p>æœ€å¤–å±‚çš„ <code>mysite/</code> æ ¹ç›®å½•åªæ˜¯ä½ é¡¹ç›®çš„å®¹å™¨ï¼Œ æ ¹ç›®å½•åç§°å¯¹Djangoæ²¡æœ‰å½±å“ï¼Œä½ å¯ä»¥å°†å®ƒé‡å‘½åä¸ºä»»ä½•ä½ å–œæ¬¢çš„åç§°ã€‚</p></li><li><p><code>manage.py</code>: ä¸€ä¸ªè®©ä½ ç”¨å„ç§æ–¹å¼ç®¡ç† Django é¡¹ç›®çš„å‘½ä»¤è¡Œå·¥å…·ã€‚ä½ å¯ä»¥é˜…è¯» <span class="exturl" data-url="aHR0cHM6Ly9kb2NzLmRqYW5nb3Byb2plY3QuY29tL3poLWhhbnMvMy4wL3JlZi9kamFuZ28tYWRtaW4v">django-admin and manage.py<i class="fa fa-external-link-alt"></i></span> è·å–æ‰€æœ‰ <code>manage.py</code> çš„ç»†èŠ‚ã€‚</p></li><li><p>é‡Œé¢ä¸€å±‚çš„ <code>mysite/</code> ç›®å½•åŒ…å«ä½ çš„é¡¹ç›®ï¼Œå®ƒæ˜¯ä¸€ä¸ªçº¯ Python åŒ…ã€‚å®ƒçš„åå­—å°±æ˜¯å½“ä½ å¼•ç”¨å®ƒå†…éƒ¨ä»»ä½•ä¸œè¥¿æ—¶éœ€è¦ç”¨åˆ°çš„ Python åŒ…åã€‚ (æ¯”å¦‚ <code>mysite.urls</code>).</p></li><li><p><code>mysite/__init__.py</code>ï¼šä¸€ä¸ªç©ºæ–‡ä»¶ï¼Œå‘Šè¯‰ Python è¿™ä¸ªç›®å½•åº”è¯¥è¢«è®¤ä¸ºæ˜¯ä¸€ä¸ª Python åŒ…ã€‚å¦‚æœä½ æ˜¯ Python åˆå­¦è€…ï¼Œé˜…è¯»å®˜æ–¹æ–‡æ¡£ä¸­çš„ <span class="exturl" data-url="aHR0cHM6Ly9kb2NzLnB5dGhvbi5vcmcvMy90dXRvcmlhbC9tb2R1bGVzLmh0bWwjdHV0LXBhY2thZ2Vz">æ›´å¤šå…³äºåŒ…çš„çŸ¥è¯†<i class="fa fa-external-link-alt"></i></span>ã€‚</p></li><li><p><code>mysite/settings.py</code>ï¼šDjango é¡¹ç›®çš„é…ç½®æ–‡ä»¶ã€‚å¦‚æœä½ æƒ³çŸ¥é“è¿™ä¸ªæ–‡ä»¶æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œè¯·æŸ¥çœ‹ <span class="exturl" data-url="aHR0cHM6Ly9kb2NzLmRqYW5nb3Byb2plY3QuY29tL3poLWhhbnMvMy4wL3RvcGljcy9zZXR0aW5ncy8=">Django é…ç½®<i class="fa fa-external-link-alt"></i></span> äº†è§£ç»†èŠ‚ã€‚</p></li><li><p><code>mysite/urls.py</code>ï¼šDjango é¡¹ç›®çš„ URL å£°æ˜ï¼Œå°±åƒä½ ç½‘ç«™çš„â€œç›®å½•â€ã€‚é˜…è¯» <span class="exturl" data-url="aHR0cHM6Ly9kb2NzLmRqYW5nb3Byb2plY3QuY29tL3poLWhhbnMvMy4wL3RvcGljcy9odHRwL3VybHMv">URLè°ƒåº¦å™¨<i class="fa fa-external-link-alt"></i></span> æ–‡æ¡£æ¥è·å–æ›´å¤šå…³äº URL çš„å†…å®¹ã€‚</p></li><li><p><code>mysite/asgi.py</code>ï¼šä½œä¸ºä½ çš„é¡¹ç›®çš„è¿è¡Œåœ¨ ASGI å…¼å®¹çš„WebæœåŠ¡å™¨ä¸Šçš„å…¥å£ã€‚é˜…è¯» <span class="exturl" data-url="aHR0cHM6Ly9kb2NzLmRqYW5nb3Byb2plY3QuY29tL3poLWhhbnMvMy4wL2hvd3RvL2RlcGxveW1lbnQvd3NnaS8=">å¦‚ä½•ä½¿ç”¨ WSGI è¿›è¡Œéƒ¨ç½²<i class="fa fa-external-link-alt"></i></span> äº†è§£æ›´å¤šç»†èŠ‚ã€‚</p></li><li><p><code>mysite/wsgi.py</code>ï¼šä½œä¸ºä½ çš„é¡¹ç›®çš„è¿è¡Œåœ¨ WSGI å…¼å®¹çš„WebæœåŠ¡å™¨ä¸Šçš„å…¥å£ã€‚é˜…è¯» <span class="exturl" data-url="aHR0cHM6Ly9kb2NzLmRqYW5nb3Byb2plY3QuY29tL3poLWhhbnMvMy4wL2hvd3RvL2RlcGxveW1lbnQvd3NnaS8=">å¦‚ä½•ä½¿ç”¨ WSGI è¿›è¡Œéƒ¨ç½²<i class="fa fa-external-link-alt"></i></span> äº†è§£æ›´å¤šç»†èŠ‚ã€‚</p></li></ul><h2 id="ğŸåº”ç”¨æ¡†æ¶"><a href="#ğŸåº”ç”¨æ¡†æ¶" class="headerlink" title="ğŸåº”ç”¨æ¡†æ¶"></a>ğŸåº”ç”¨æ¡†æ¶</h2><h3 id="ğŸåº”ç”¨ä¸é¡¹ç›®çš„å…³ç³»"><a href="#ğŸåº”ç”¨ä¸é¡¹ç›®çš„å…³ç³»" class="headerlink" title="ğŸåº”ç”¨ä¸é¡¹ç›®çš„å…³ç³»"></a>ğŸåº”ç”¨ä¸é¡¹ç›®çš„å…³ç³»</h3><p><img src="/2020/07/12/Djangoå¦‚ä½•æ­å»ºwebåº”ç”¨/%E6%A0%B9%E7%9B%AE%E5%BD%95.png" alt></p><h3 id="ğŸ”±åˆ›å»ºåº”ç”¨çš„æ¡†æ¶"><a href="#ğŸ”±åˆ›å»ºåº”ç”¨çš„æ¡†æ¶" class="headerlink" title="ğŸ”±åˆ›å»ºåº”ç”¨çš„æ¡†æ¶"></a>ğŸ”±åˆ›å»ºåº”ç”¨çš„æ¡†æ¶</h3><p>åˆ›å»ºä¸€ä¸ª <code>polls</code> ç›®å½•ï¼Œå®ƒçš„ç›®å½•ç»“æ„å¤§è‡´å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">polls/</span><br><span class="line">    __init__.py</span><br><span class="line">    admin.py</span><br><span class="line">    apps.py</span><br><span class="line">    migrations/</span><br><span class="line">        __init__.py</span><br><span class="line">    models.py</span><br><span class="line">    tests.py</span><br><span class="line">    views.py</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªç›®å½•ç»“æ„åŒ…æ‹¬äº†æŠ•ç¥¨åº”ç”¨çš„å…¨éƒ¨å†…å®¹ã€‚</p><h3 id="â—åº”ç”¨çš„è°ƒè¯•æ¨¡å—"><a href="#â—åº”ç”¨çš„è°ƒè¯•æ¨¡å—" class="headerlink" title="â—åº”ç”¨çš„è°ƒè¯•æ¨¡å—"></a>â—åº”ç”¨çš„è°ƒè¯•æ¨¡å—</h3><p><strong><code>ä¸ºä»€ä¹ˆè¦è¿›è¡Œè°ƒè¯•ï¼Ÿ</code><span class="exturl" data-url="aHR0cHM6Ly9kb2NzLmRqYW5nb3Byb2plY3QuY29tL3poLWhhbnMvMy4wL2ludHJvL3R1dG9yaWFsMDUv">å‚è€ƒ<i class="fa fa-external-link-alt"></i></span></strong></p><ul><li><h4 id="æµ‹è¯•å°†èŠ‚çº¦ä½ çš„æ—¶é—´"><a href="#æµ‹è¯•å°†èŠ‚çº¦ä½ çš„æ—¶é—´" class="headerlink" title="æµ‹è¯•å°†èŠ‚çº¦ä½ çš„æ—¶é—´"></a>æµ‹è¯•å°†èŠ‚çº¦ä½ çš„æ—¶é—´</h4><p>å½“æŸäººå†™å‡ºé”™è¯¯çš„ä»£ç æ—¶ï¼Œè‡ªåŠ¨åŒ–æµ‹è¯•è¿˜èƒ½å¸®åŠ©ä½ å®šä½é”™è¯¯ä»£ç çš„ä½ç½®ã€‚</p></li><li><h4 id="æµ‹è¯•ä¸ä»…èƒ½å‘ç°é”™è¯¯ï¼Œè€Œä¸”èƒ½é¢„é˜²é”™è¯¯"><a href="#æµ‹è¯•ä¸ä»…èƒ½å‘ç°é”™è¯¯ï¼Œè€Œä¸”èƒ½é¢„é˜²é”™è¯¯" class="headerlink" title="æµ‹è¯•ä¸ä»…èƒ½å‘ç°é”™è¯¯ï¼Œè€Œä¸”èƒ½é¢„é˜²é”™è¯¯"></a>æµ‹è¯•ä¸ä»…èƒ½å‘ç°é”™è¯¯ï¼Œè€Œä¸”èƒ½é¢„é˜²é”™è¯¯</h4><p>æµ‹è¯•å°±å¥½åƒæ˜¯ä»å†…éƒ¨ä»”ç»†æ£€æŸ¥ä½ çš„ä»£ç ï¼Œå½“æœ‰äº›åœ°æ–¹å‡ºé”™æ—¶ï¼Œè¿™äº›åœ°æ–¹å°†ä¼šå˜å¾—å¾ˆæ˜¾çœ¼â€”â€”<em>å°±ç®—ä½ è‡ªå·±æ²¡æœ‰æ„è¯†åˆ°é‚£é‡Œå†™é”™äº†</em>ã€‚</p></li><li><h4 id="æµ‹è¯•ä½¿ä½ çš„ä»£ç æ›´æœ‰å¸å¼•åŠ›"><a href="#æµ‹è¯•ä½¿ä½ çš„ä»£ç æ›´æœ‰å¸å¼•åŠ›" class="headerlink" title="æµ‹è¯•ä½¿ä½ çš„ä»£ç æ›´æœ‰å¸å¼•åŠ›"></a>æµ‹è¯•ä½¿ä½ çš„ä»£ç æ›´æœ‰å¸å¼•åŠ›</h4><p>å¤æ‚çš„åº”ç”¨å¯èƒ½ç”±å›¢é˜Ÿç»´æŠ¤ã€‚æµ‹è¯•çš„å­˜åœ¨ä¿è¯äº†åä½œè€…ä¸ä¼šä¸å°å¿ƒç ´åäº†äº†ä½ çš„ä»£ç ï¼ˆä¹Ÿä¿è¯ä½ ä¸ä¼šä¸å°å¿ƒå¼„åä»–ä»¬çš„ï¼‰ã€‚</p></li></ul><p><strong>unittest å’Œdjango.test   TestCase ç±»ä¼¼</strong></p><h2 id="â“å¦‚ä½•ç¼–å†™å¯é‡ç”¨ç¨‹åº"><a href="#â“å¦‚ä½•ç¼–å†™å¯é‡ç”¨ç¨‹åº" class="headerlink" title="â“å¦‚ä½•ç¼–å†™å¯é‡ç”¨ç¨‹åº"></a>â“å¦‚ä½•ç¼–å†™å¯é‡ç”¨ç¨‹åº</h2><h3 id="â˜¯å¯é‡ç”¨å¾ˆé‡è¦"><a href="#â˜¯å¯é‡ç”¨å¾ˆé‡è¦" class="headerlink" title="â˜¯å¯é‡ç”¨å¾ˆé‡è¦"></a>â˜¯å¯é‡ç”¨å¾ˆé‡è¦</h3><p>å¯é‡ç”¨æ€§æ˜¯ Python çš„æ ¹æœ¬ã€‚<span class="exturl" data-url="aHR0cHM6Ly9weXBpLnB5dGhvbi5vcmcvcHlwaQ==">The Python Package Index (PyPI)<i class="fa fa-external-link-alt"></i></span> æœ‰è®¸å¤§é‡çš„åŒ…ï¼Œéƒ½å¯è¢«ç”¨åœ¨ä½ è‡ªå·±çš„ Python é¡¹ç›®ä¸­ã€‚åŒæ ·å¯ä»¥åœ¨ <span class="exturl" data-url="aHR0cHM6Ly9kamFuZ29wYWNrYWdlcy5vcmcv">Django Packages<i class="fa fa-external-link-alt"></i></span> ä¸­æŸ¥æ‰¾å·²å‘å¸ƒçš„å¯é‡ç”¨åº”ç”¨ï¼Œä¹Ÿå¯å°†å…¶å¼•å…¥åˆ°ä½ çš„é¡¹ç›®ä¸­ã€‚Django æœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ª Python åŒ…ï¼Œä¹Ÿå°±æ˜¯è¯´ä½ å¯ä»¥å°†å·²æœ‰çš„ Python åŒ…æˆ– Django åº”ç”¨å¹¶å…¥ä½ çš„é¡¹ç›®ã€‚ä½ åªéœ€è¦ç¼–å†™å±äºä½ çš„é‚£éƒ¨åˆ†å³å¯ã€‚</p><h3 id="ğŸš€â€‹ä½ çš„é¡¹ç›®å’Œå¯å¤ç”¨åº”ç”¨Â¶"><a href="#ğŸš€â€‹ä½ çš„é¡¹ç›®å’Œå¯å¤ç”¨åº”ç”¨Â¶" class="headerlink" title="ğŸš€â€‹ä½ çš„é¡¹ç›®å’Œå¯å¤ç”¨åº”ç”¨Â¶"></a>ğŸš€â€‹ä½ çš„é¡¹ç›®å’Œå¯å¤ç”¨åº”ç”¨<span class="exturl" data-url="aHR0cHM6Ly9kb2NzLmRqYW5nb3Byb2plY3QuY29tL3poLWhhbnMvMy4wL2ludHJvL3JldXNhYmxlLWFwcHMvI3lvdXItcHJvamVjdC1hbmQteW91ci1yZXVzYWJsZS1hcHA=">Â¶<i class="fa fa-external-link-alt"></i></span></h3><p>é€šè¿‡å‰é¢çš„æ•™ç¨‹ï¼Œæˆ‘ä»¬çš„å·¥ç¨‹åº”è¯¥çœ‹èµ·æ¥åƒè¿™æ ·:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">mysite/</span><br><span class="line">    manage.py</span><br><span class="line">    mysite/</span><br><span class="line">        __init__.py</span><br><span class="line">        settings.py</span><br><span class="line">        urls.py</span><br><span class="line">        asgi.py</span><br><span class="line">        wsgi.py</span><br><span class="line">    polls/</span><br><span class="line">        __init__.py</span><br><span class="line">        admin.py</span><br><span class="line">        apps.py</span><br><span class="line">        migrations/</span><br><span class="line">            __init__.py</span><br><span class="line">            0001_initial.py</span><br><span class="line">        models.py</span><br><span class="line">        static/</span><br><span class="line">            polls/</span><br><span class="line">                images/</span><br><span class="line">                    background.gif</span><br><span class="line">                style.css</span><br><span class="line">        templates/</span><br><span class="line">            polls/</span><br><span class="line">                detail.html</span><br><span class="line">                index.html</span><br><span class="line">                results.html</span><br><span class="line">        tests.py</span><br><span class="line">        urls.py</span><br><span class="line">        views.py</span><br><span class="line">    templates/</span><br><span class="line">        admin/</span><br><span class="line">            base_site.html</span><br></pre></td></tr></table></figure><p>ç›®å½• <code>polls</code> ç°åœ¨å¯ä»¥è¢«æ‹·è´è‡³ä¸€ä¸ªæ–°çš„ Django å·¥ç¨‹ï¼Œä¸”ç«‹åˆ»è¢«å¤ç”¨ã€‚ä¸è¿‡ç°åœ¨è¿˜ä¸æ˜¯å‘å¸ƒå®ƒçš„æ—¶å€™ã€‚ä¸ºäº†è¿™æ ·åšï¼Œæˆ‘ä»¬éœ€è¦æ‰“åŒ…è¿™ä¸ªåº”ç”¨ï¼Œä¾¿äºå…¶ä»–äººå®‰è£…å®ƒã€‚</p><h3 id="ğŸ’¯æ‰“åŒ…ä½ çš„åº”ç”¨"><a href="#ğŸ’¯æ‰“åŒ…ä½ çš„åº”ç”¨" class="headerlink" title="ğŸ’¯æ‰“åŒ…ä½ çš„åº”ç”¨"></a>ğŸ’¯æ‰“åŒ…ä½ çš„åº”ç”¨</h3><p>ç›®å‰ï¼Œæ‰“åŒ… Python ç¨‹åºéœ€è¦å·¥å…·ï¼Œæœ‰è®¸å¤šå·¥å…·å¯ä»¥å®Œæˆæ­¤é¡¹å·¥ä½œã€‚åœ¨æ­¤æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ <span class="exturl" data-url="aHR0cHM6Ly9weXBpLm9yZy9wcm9qZWN0L3NldHVwdG9vbHMv">setuptools<i class="fa fa-external-link-alt"></i></span> æ¥æ‰“åŒ…æˆ‘ä»¬çš„ç¨‹åºã€‚</p><p><strong><code>å…·ä½“</code><span class="exturl" data-url="aHR0cHM6Ly9kb2NzLmRqYW5nb3Byb2plY3QuY29tL3poLWhhbnMvMy4wL2ludHJvL3JldXNhYmxlLWFwcHMv">å‚è€ƒé“¾æ¥<i class="fa fa-external-link-alt"></i></span></strong></p>]]></content>
    
    <summary type="html">
    
      åˆ©ç”¨pythonå’Œdjangoæ­å»ºwebåº”ç”¨
    
    </summary>
    
    
      <category term="Webåº”ç”¨" scheme="https://Hubery-Lee.github.io/categories/Web%E5%BA%94%E7%94%A8/"/>
    
    
      <category term="web" scheme="https://Hubery-Lee.github.io/tags/web/"/>
    
      <category term="django" scheme="https://Hubery-Lee.github.io/tags/django/"/>
    
      <category term="æ•°æ®åº“sqlite" scheme="https://Hubery-Lee.github.io/tags/%E6%95%B0%E6%8D%AE%E5%BA%93sqlite/"/>
    
  </entry>
  
  <entry>
    <title>æ•°æ®æ‹Ÿåˆ</title>
    <link href="https://hubery-lee.github.io/2020/06/07/%E6%95%B0%E6%8D%AE%E6%8B%9F%E5%90%88/"/>
    <id>https://hubery-lee.github.io/2020/06/07/%E6%95%B0%E6%8D%AE%E6%8B%9F%E5%90%88/</id>
    <published>2020-06-06T16:34:13.000Z</published>
    <updated>2020-06-06T16:39:49.904Z</updated>
    
    <content type="html"><![CDATA[<h1 id="æ•°æ®æ‹Ÿåˆ"><a href="#æ•°æ®æ‹Ÿåˆ" class="headerlink" title="æ•°æ®æ‹Ÿåˆ"></a>æ•°æ®æ‹Ÿåˆ</h1><p>[toc]</p><h2 id="1-é—®é¢˜æè¿°"><a href="#1-é—®é¢˜æè¿°" class="headerlink" title="1.é—®é¢˜æè¿°"></a>1.é—®é¢˜æè¿°</h2><p>æ‰‹é‡Œæœ‰ä¸‰ç»„æ•°æ®ï¼Œç”¨æ¥åˆ†ææ¢æµ‹å™¨æ•£å°„ä½“ææ–™åšåº¦ä¸æ¢æµ‹å™¨æ•ˆç‡ä¹‹é—´çš„å…³ç³»ã€‚éœ€è¦å¯¹ä¸‰ç»„æ•°æ®è¿›è¡Œç”»æ•£ç‚¹å›¾ï¼Œå¹¶è¿›è¡Œæ‹Ÿåˆã€‚æ‹Ÿåˆå‡½æ•°é‡‡ç”¨å¦‚ä¸‹å½¢å¼<br>$$<br>\eta = 1- exp(-\mu x)<br>$$<br>å‡†å¤‡é‡‡ç”¨ä¸‰ç§æ–¹æ³•è¿›è¡Œæ•°æ®æ‹Ÿåˆï¼Œæ•°æ®åˆ†æè½¯ä»¶rootã€matlabå’Œpython.</p><h2 id="2-ä¸‰ç§æ•°æ®åˆ†æè½¯ä»¶çš„æ•°æ®æ‹Ÿåˆå®ç°"><a href="#2-ä¸‰ç§æ•°æ®åˆ†æè½¯ä»¶çš„æ•°æ®æ‹Ÿåˆå®ç°" class="headerlink" title="2.ä¸‰ç§æ•°æ®åˆ†æè½¯ä»¶çš„æ•°æ®æ‹Ÿåˆå®ç°"></a>2.ä¸‰ç§æ•°æ®åˆ†æè½¯ä»¶çš„æ•°æ®æ‹Ÿåˆå®ç°</h2><h3 id="2-1-matlabçš„æ•°æ®æ‹Ÿåˆå®ç°"><a href="#2-1-matlabçš„æ•°æ®æ‹Ÿåˆå®ç°" class="headerlink" title="2.1 matlabçš„æ•°æ®æ‹Ÿåˆå®ç°"></a>2.1 matlabçš„æ•°æ®æ‹Ÿåˆå®ç°</h3><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">%% è¯»å…¥æ•°æ®x,y</span></span><br><span class="line">x=<span class="number">5</span>:<span class="number">5</span>:<span class="number">100</span>;</span><br><span class="line">y1=textread('dataout1.txt'); //textreadè¯»å…¥æ•°æ®</span><br><span class="line">y2=textread(<span class="string">'dataout2.txt'</span>);</span><br><span class="line">y3=textread(<span class="string">'dataout3.txt'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">%% è‡ªå®šä¹‰å‡½æ•°å½¢å¼æ•°æ®æ‹Ÿåˆ</span></span><br><span class="line">myfittype = fittype(<span class="string">'1. - exp(a*x)'</span>,...</span><br><span class="line">    <span class="string">'dependent'</span>,&#123;<span class="string">'y'</span>&#125;,<span class="string">'independent'</span>,&#123;<span class="string">'x'</span>&#125;,...</span><br><span class="line">    <span class="string">'coefficients'</span>,&#123;<span class="string">'a'</span>&#125;);</span><br><span class="line"></span><br><span class="line">myfit1 = fit(x',y1,myfittype);</span><br><span class="line"><span class="built_in">plot</span>(myfit1,<span class="string">'r-'</span>,x,y1,<span class="string">'r*'</span>);</span><br><span class="line"><span class="built_in">hold</span> on</span><br><span class="line">myfit2 = fit(x',y2,myfittype);</span><br><span class="line"><span class="built_in">plot</span>(myfit2,<span class="string">'b-'</span>,x,y2,<span class="string">'bo'</span>);</span><br><span class="line"><span class="built_in">hold</span> on</span><br><span class="line">myfit3 = fit(x',y3,myfittype);</span><br><span class="line"><span class="built_in">plot</span>(myfit3,<span class="string">'g-'</span>,x,y3,<span class="string">'gx'</span>);</span><br></pre></td></tr></table></figure><p><img src="/2020/06/07/æ•°æ®æ‹Ÿåˆ/fittedData.png" alt="fittedData"></p><h3 id="2-2-rootä¸­çš„æ•°æ®æ‹Ÿåˆå®ç°"><a href="#2-2-rootä¸­çš„æ•°æ®æ‹Ÿåˆå®ç°" class="headerlink" title="2.2 rootä¸­çš„æ•°æ®æ‹Ÿåˆå®ç°"></a>2.2 rootä¸­çš„æ•°æ®æ‹Ÿåˆå®ç°</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å‚è€ƒ root tutorial/graphs/zdemo.C  /fit/FittingDemo.C</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"iostream"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"fstream"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"vector"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"cstring"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"string.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> NMAX=<span class="number">20</span>;</span><br><span class="line"><span class="keyword">double</span> xx[NMAX],yy[NMAX];</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ReadData</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"> </span><br><span class="line">  ReadData(<span class="built_in">string</span> fname)</span><br><span class="line">  &#123;</span><br><span class="line">    filename=fname;</span><br><span class="line">  &#125;;</span><br><span class="line">  ~ReadData()&#123;&#125;;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">void</span> <span class="title">GetData</span><span class="params">()</span></span>;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">  <span class="built_in">string</span> filename;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">ReadData::GetData</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="function">ifstream <span class="title">input</span><span class="params">(filename)</span></span>;</span><br><span class="line">  <span class="keyword">double</span> a,b;</span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="keyword">double</span>&gt; x,y;</span><br><span class="line">  <span class="keyword">int</span> i=<span class="number">0</span>;</span><br><span class="line">  <span class="keyword">while</span>(!input.eof())</span><br><span class="line">    &#123;</span><br><span class="line">      i++;</span><br><span class="line">      a=i*<span class="number">5</span>;</span><br><span class="line">      input&gt;&gt;b;</span><br><span class="line">      x.push_back(a);</span><br><span class="line">      y.push_back(<span class="number">1.0</span>-(b/<span class="number">1.e6</span>));</span><br><span class="line">    &#125;</span><br><span class="line">  input.<span class="built_in">close</span>();</span><br><span class="line">  i=i<span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;i&amp;&amp;j&lt;NMAX;j++)</span><br><span class="line">    &#123;</span><br><span class="line">      xx[j]=x[j],yy[j]=y[j];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">plot</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function">ReadData <span class="title">a1</span><span class="params">(<span class="string">"./EJ200-100/data.txt"</span>)</span></span>;</span><br><span class="line">  a1.GetData();</span><br><span class="line"></span><br><span class="line">  TGraph *g1 =<span class="keyword">new</span> TGraph(NMAX,xx,yy);</span><br><span class="line">  g1-&gt;SetLineColor(<span class="number">38</span>);</span><br><span class="line">  g1-&gt;SetMarkerColor(kBlue);</span><br><span class="line">  g1-&gt;SetMarkerStyle(<span class="number">21</span>);</span><br><span class="line">  g1-&gt;SetMarkerSize(<span class="number">1.1</span>);</span><br><span class="line">  g1-&gt;Draw(<span class="string">"AP"</span>);</span><br><span class="line">  </span><br><span class="line">  <span class="function">ReadData <span class="title">a2</span><span class="params">(<span class="string">"./EJ200-140/data.txt"</span>)</span></span>;</span><br><span class="line">  a2.GetData();</span><br><span class="line"></span><br><span class="line">  TGraph *gr2 = <span class="keyword">new</span> TGraph(NMAX,xx,yy);</span><br><span class="line">  gr2-&gt;SetLineColor(<span class="number">38</span>);</span><br><span class="line">  gr2-&gt;SetMarkerColor(kRed);</span><br><span class="line">  gr2-&gt;SetMarkerStyle(<span class="number">29</span>);</span><br><span class="line">  gr2-&gt;SetMarkerSize(<span class="number">1.5</span>);</span><br><span class="line">  gr2-&gt;Draw(<span class="string">"P"</span>);</span><br><span class="line"></span><br><span class="line">  <span class="function">ReadData <span class="title">a3</span><span class="params">(<span class="string">"./EJ200-180/data.txt"</span>)</span></span>;</span><br><span class="line">  a3.GetData();</span><br><span class="line"></span><br><span class="line">  TGraph *gr3 = <span class="keyword">new</span> TGraph(NMAX,xx,yy);</span><br><span class="line"></span><br><span class="line">  gr3-&gt;SetLineColor(<span class="number">38</span>);</span><br><span class="line">  gr3-&gt;SetMarkerColor(<span class="number">6</span>);</span><br><span class="line">  gr3-&gt;SetMarkerStyle(<span class="number">8</span>);</span><br><span class="line">  gr3-&gt;SetMarkerSize(<span class="number">1.1</span>);</span><br><span class="line">  gr3-&gt;Draw(<span class="string">"P"</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">//////////////////</span></span><br><span class="line">  <span class="comment">////</span></span><br><span class="line">  <span class="comment">//      elta = 1-exp(a*x) //æ‹Ÿåˆå‡½æ•°å½¢å¼</span></span><br><span class="line"></span><br><span class="line">  TF1 *fun =<span class="keyword">new</span> TF1(<span class="string">"#elta = 1-exp(A*x)"</span>,<span class="string">"1.-exp([0]*x)"</span>,<span class="number">0</span>,<span class="number">100</span>);</span><br><span class="line">  fun-&gt;SetLineColor(kBlue);fun-&gt;SetLineStyle(<span class="number">2</span>);</span><br><span class="line">  g1-&gt;Fit(fun);</span><br><span class="line"></span><br><span class="line">  fun-&gt;SetLineColor(kRed);fun-&gt;SetLineStyle(<span class="number">2</span>);</span><br><span class="line">  gr2-&gt;Fit(fun);</span><br><span class="line"></span><br><span class="line">  fun-&gt;SetLineColor(<span class="number">6</span>);fun-&gt;SetLineStyle(<span class="number">2</span>);</span><br><span class="line">  gr3-&gt;Fit(fun);</span><br><span class="line"></span><br><span class="line">  <span class="comment">//////////////////</span></span><br><span class="line">  <span class="comment">//</span></span><br><span class="line">  <span class="comment">//  legend</span></span><br><span class="line">  TLegend *lg=<span class="keyword">new</span> TLegend(<span class="number">0.6</span>,<span class="number">0.65</span>,<span class="number">0.88</span>,<span class="number">0.85</span>);</span><br><span class="line">  lg-&gt;SetTextFont(<span class="number">62</span>);</span><br><span class="line">  lg-&gt;SetTextAlign(<span class="number">12</span>);</span><br><span class="line">  lg-&gt;SetTextSize(<span class="number">0.04</span>);</span><br><span class="line">  lg-&gt;AddEntry(g1,<span class="string">"100keV"</span>,<span class="string">"p"</span>);</span><br><span class="line">  lg-&gt;AddEntry(gr2,<span class="string">"140keV"</span>,<span class="string">"p"</span>);</span><br><span class="line">  lg-&gt;AddEntry(gr3,<span class="string">"180keV"</span>,<span class="string">"p"</span>);</span><br><span class="line">  lg-&gt;AddEntry(fun,<span class="string">" #eta = 1-exp(#mu *x)"</span>,<span class="string">"l"</span>);</span><br><span class="line">  lg-&gt;Draw();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/2020/06/07/æ•°æ®æ‹Ÿåˆ/c1.png" alt="c1"></p><h3 id="2-3-pythonä¸­çš„æ•°æ®æ‹Ÿåˆå®ç°"><a href="#2-3-pythonä¸­çš„æ•°æ®æ‹Ÿåˆå®ç°" class="headerlink" title="2.3 pythonä¸­çš„æ•°æ®æ‹Ÿåˆå®ç°"></a>2.3 pythonä¸­çš„æ•°æ®æ‹Ÿåˆå®ç°</h3><p>python ä¸­åšæ•°æ®åˆ†æå¸¸ç”¨çš„å‡ ä¸ªåŒ…<code>matplotlib,numpy,scipy,pandas</code></p><ul><li>scipyä¸­çš„curve_fitå‡½æ•°</li><li>lmfitä¸­çš„fitå‡½æ•°</li></ul><p>ä¸‹é¢ä»è¿™ä¸¤ç§åŒ…æ¥æ‹Ÿåˆè¿™ä¸¤ç»„æ•°æ®ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="comment"># @Time    : 2020/6/6 17:52</span></span><br><span class="line"><span class="comment"># @Author  : Hubery-Lee  </span></span><br><span class="line"><span class="comment"># @Email   : hrbeulh@126.com</span></span><br><span class="line"></span><br><span class="line"><span class="comment">##   case 1: curve_fit</span></span><br><span class="line"><span class="comment">##   case 2: lmfit</span></span><br><span class="line"><span class="comment">##</span></span><br><span class="line"><span class="comment"># Header</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> scipy.optimize <span class="keyword">import</span> curve_fit</span><br><span class="line"><span class="keyword">from</span> lmfit <span class="keyword">import</span> Model</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Define function</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(x, a)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1.</span> - np.exp(a * x)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Read data from text</span></span><br><span class="line">x = np.linspace(<span class="number">5</span>, <span class="number">100</span>, <span class="number">20</span>)</span><br><span class="line">y1 = np.loadtxt(<span class="string">'dataout1.txt'</span>)</span><br><span class="line">y2 = np.loadtxt(<span class="string">'dataout2.txt'</span>)</span><br><span class="line">y3 = np.loadtxt(<span class="string">'dataout3.txt'</span>)</span><br><span class="line"><span class="comment">#  plot data</span></span><br><span class="line">plt.plot(x, y1, <span class="string">'bo'</span>, label=<span class="string">'100 keV'</span>)</span><br><span class="line">plt.plot(x, y2, <span class="string">'r*'</span>, label=<span class="string">'140 keV'</span>)</span><br><span class="line">plt.plot(x, y3, <span class="string">'gx'</span>, label=<span class="string">'180 keV'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">## case 1:</span></span><br><span class="line"><span class="comment">## https://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.curve_fit.html</span></span><br><span class="line"><span class="comment"># Fit for the parameters a of the function func:</span></span><br><span class="line">popt1, pcov1 = curve_fit(func, x, y1)</span><br><span class="line"><span class="comment"># popt  # output: array([ 2.55423706, 1.35190947, 0.47450618])</span></span><br><span class="line">plt.plot(x, func(x, *popt1), <span class="string">'b-'</span>,</span><br><span class="line">         label=<span class="string">'100 keV fit: a=%5.3f'</span> % tuple(popt1))</span><br><span class="line"></span><br><span class="line">popt2, pcov2 = curve_fit(func, x, y2)</span><br><span class="line"><span class="comment"># popt  # output: array([ 2.55423706, 1.35190947, 0.47450618])</span></span><br><span class="line">plt.plot(x, func(x, *popt2), <span class="string">'r-'</span>,</span><br><span class="line">         label=<span class="string">'140 keV fit: a=%5.3f'</span> % tuple(popt2))</span><br><span class="line"></span><br><span class="line">popt3, pcov3 = curve_fit(func, x, y3)</span><br><span class="line"><span class="comment"># popt  # output: array([ 2.55423706, 1.35190947, 0.47450618])</span></span><br><span class="line">plt.plot(x, func(x, *popt3), <span class="string">'g-'</span>,</span><br><span class="line">         label=<span class="string">'180 keV fit: a=%5.3f'</span> % tuple(popt3))</span><br><span class="line"></span><br><span class="line"><span class="comment"># # In the case of parameters a need be constrainted</span></span><br><span class="line"><span class="comment"># # Constrain the optimization to the region of</span></span><br><span class="line"><span class="comment"># # 0 &lt;= a &lt;= 3, 0 &lt;= b &lt;= 1 and 0 &lt;= c &lt;= 0.5</span></span><br><span class="line"><span class="comment"># popt, pcov = curve_fit(func, xdata, ydata, bounds=(0, [3., 1., 0.5]))</span></span><br><span class="line"><span class="comment"># popt  # output: array([ 2.43708906, 1. , 0.35015434])</span></span><br><span class="line"><span class="comment"># plt.plot(xdata, func(xdata, *popt), 'g--',</span></span><br><span class="line"><span class="comment">#          label='fit: a=%5.3f, b=%5.3f, c=%5.3f' % tuple(popt))</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## case 2:</span></span><br><span class="line"><span class="comment">## https://lmfit.github.io/lmfit-py/model.html</span></span><br><span class="line"><span class="comment"># Fitting</span></span><br><span class="line">gmodel = Model(func)</span><br><span class="line">result = gmodel.fit(y1, x=x, a=<span class="number">-0.02</span>)  <span class="comment"># Fit from initial values (5,5,1)</span></span><br><span class="line">print(result.fit_report())</span><br><span class="line"></span><br><span class="line"><span class="comment"># Plot</span></span><br><span class="line"><span class="comment">#plt.plot(x, y1, 'bo', label='raw data')</span></span><br><span class="line"><span class="comment">#plt.plot(x, result.init_fit, 'b--', label='init_fit')</span></span><br><span class="line"><span class="comment">#plt.plot(x, result.best_fit, 'k--', label='best_fit')</span></span><br><span class="line">plt.plot(x, result.best_fit, <span class="string">'k--'</span>, label=<span class="string">'100 keV lmfit'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># draw option</span></span><br><span class="line"><span class="comment"># Labels</span></span><br><span class="line">plt.title(<span class="string">r'Fitting Function $\eta = 1.0-exp(a*x)$'</span>)</span><br><span class="line">plt.xlabel(<span class="string">'x/mm'</span>)</span><br><span class="line">plt.ylabel(<span class="string">r'$\eta$'</span>)  <span class="comment"># å…¬å¼çš„æ·»åŠ  latexé£æ ¼ https://matplotlib.org/tutorials/text/mathtext.html</span></span><br><span class="line">plt.legend()</span><br><span class="line">leg = plt.legend()  <span class="comment"># remove the frame of Legend, personal choice</span></span><br><span class="line">leg.get_frame().set_linewidth(<span class="number">0.0</span>)  <span class="comment"># remove the frame of Legend, personal choice</span></span><br><span class="line"><span class="comment"># leg.get_frame().set_edgecolor('b')  # change the color of Legend frame</span></span><br><span class="line"><span class="comment"># plt.show()</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Export figurey</span></span><br><span class="line"><span class="comment"># plt.savefig('fit1.eps', format='eps', dpi=1000)</span></span><br><span class="line"><span class="comment"># plt.savefig('fit1.pdf', format='pdf', dpi=1000, figsize=(8, 6), facecolor='w', edgecolor='k')</span></span><br><span class="line">plt.savefig(<span class="string">'myfit.jpg'</span>, format=<span class="string">'jpg'</span>, dpi=<span class="number">1000</span>, figsize=(<span class="number">8</span>, <span class="number">6</span>), facecolor=<span class="string">'w'</span>, edgecolor=<span class="string">'k'</span>)</span><br></pre></td></tr></table></figure><p><img src="/2020/06/07/æ•°æ®æ‹Ÿåˆ/myfit.jpg" alt="myfit"></p>]]></content>
    
    <summary type="html">
    
      ä»‹ç»matlab,root,pythonå¦‚ä½•ä½¿ç”¨è¿›è¡Œè‡ªå®šä¹‰å‡½æ•°è¿›è¡Œæ•°æ®æ‹Ÿåˆ
    
    </summary>
    
    
      <category term="æ•°æ®æ‹Ÿåˆ" scheme="https://Hubery-Lee.github.io/categories/%E6%95%B0%E6%8D%AE%E6%8B%9F%E5%90%88/"/>
    
    
      <category term="root" scheme="https://Hubery-Lee.github.io/tags/root/"/>
    
      <category term="matlab" scheme="https://Hubery-Lee.github.io/tags/matlab/"/>
    
      <category term="python" scheme="https://Hubery-Lee.github.io/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>Geant4ä¸­å¦‚ä½•æ·»åŠ å¤æ‚ç»„ä»¶</title>
    <link href="https://hubery-lee.github.io/2020/06/05/Geant4%E4%B8%AD%E5%A6%82%E4%BD%95%E6%B7%BB%E5%8A%A0%E5%A4%8D%E6%9D%82%E7%BB%84%E4%BB%B6/"/>
    <id>https://hubery-lee.github.io/2020/06/05/Geant4%E4%B8%AD%E5%A6%82%E4%BD%95%E6%B7%BB%E5%8A%A0%E5%A4%8D%E6%9D%82%E7%BB%84%E4%BB%B6/</id>
    <published>2020-06-05T00:12:15.000Z</published>
    <updated>2020-06-07T14:38:01.130Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Geant4ä¸­å¦‚ä½•æ·»åŠ å¤æ‚ç»„ä»¶"><a href="#Geant4ä¸­å¦‚ä½•æ·»åŠ å¤æ‚ç»„ä»¶" class="headerlink" title="Geant4ä¸­å¦‚ä½•æ·»åŠ å¤æ‚ç»„ä»¶"></a>Geant4ä¸­å¦‚ä½•æ·»åŠ å¤æ‚ç»„ä»¶</h1><h2 id="1-bool-è¿ç®—"><a href="#1-bool-è¿ç®—" class="headerlink" title="1. bool è¿ç®—"></a>1. bool è¿ç®—</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"G4SubtractionSolid.hh"</span></span></span><br><span class="line"></span><br><span class="line"> G4SubtractionSolid*Tsubtraction = <span class="keyword">new</span> G4SubtractionSolid(<span class="string">"PipeWall-Strips"</span>,solidPWall,solidStrips,rotz0,G4ThreeVector());</span><br></pre></td></tr></table></figure><p>ç”¨ä¾‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//=====================================</span></span><br><span class="line"> <span class="comment">// åœ†æŸ±å½¢å‡†ç›´å™¨</span></span><br><span class="line"> <span class="comment">//</span></span><br><span class="line"> <span class="keyword">double</span> I_R1=<span class="number">90.0</span>*mm;<span class="comment">//,I_R2=100.0*mm;</span></span><br><span class="line"> <span class="comment">//double O_R1=97.1*mm,O_R2=107.1*mm;</span></span><br><span class="line"> <span class="keyword">double</span> O_R1=<span class="number">140.0</span>*mm;<span class="comment">//,O_R2=135.4*mm;</span></span><br><span class="line"> <span class="keyword">double</span> C_z =<span class="number">150.0</span>*mm;</span><br><span class="line"></span><br><span class="line"> pSPhi= <span class="number">0.</span>*degree;</span><br><span class="line"> pDPhi= <span class="number">360.</span>*degree;</span><br><span class="line"></span><br><span class="line"> G4Tubs* solidCol =   </span><br><span class="line">   <span class="keyword">new</span> G4Tubs(<span class="string">"Collimator"</span>,     I_R1, O_R1,C_z,pSPhi,pDPhi);     <span class="comment">//its size</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> <span class="comment">//====================================</span></span><br><span class="line"> <span class="comment">// void in collimator</span></span><br><span class="line"> pSPhi = <span class="number">0.</span>;</span><br><span class="line"> pDPhi = <span class="number">2.0</span>*pi/(<span class="number">90.0</span>*pi);</span><br><span class="line"></span><br><span class="line"> G4Tubs* solidVoidC = <span class="keyword">new</span> G4Tubs(<span class="string">"VCollimator"</span>,I_R1<span class="number">-0.1</span>*mm, O_R1+<span class="number">0.1</span>*mm,C_z+<span class="number">0.1</span>*mm,pSPhi,pDPhi);</span><br><span class="line"></span><br><span class="line"> <span class="comment">// G4SubtractionSolid* subtraction[94];</span></span><br><span class="line"> G4SubtractionSolid* subtraction[<span class="number">141</span>];</span><br><span class="line"></span><br><span class="line"> <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=<span class="number">141</span>;i++)&#123;</span><br><span class="line">   G4RotationMatrix* rotz= <span class="keyword">new</span> G4RotationMatrix;</span><br><span class="line">   rotz-&gt;rotateZ(<span class="number">-2</span>*i*<span class="number">2.0</span>*pi/(<span class="number">90.0</span>*pi));</span><br><span class="line"></span><br><span class="line">   <span class="keyword">if</span>(i==<span class="number">1</span>)</span><br><span class="line">     subtraction[<span class="number">0</span>]=</span><br><span class="line"> <span class="keyword">new</span> G4SubtractionSolid(<span class="string">"Collimator-Void"</span>, solidCol, solidVoidC,rotz,G4ThreeVector(<span class="number">0.0</span>*mm,<span class="number">0.0</span>*mm,<span class="number">10.0</span>*mm));</span><br><span class="line">   <span class="keyword">else</span></span><br><span class="line">     subtraction[i<span class="number">-1</span>]=</span><br><span class="line"> <span class="keyword">new</span> G4SubtractionSolid(<span class="string">"Collimator-Void"</span>, subtraction[i<span class="number">-2</span>], solidVoidC,rotz,G4ThreeVector(<span class="number">0.0</span>*mm,<span class="number">0.0</span>*mm,<span class="number">10.0</span>*mm));</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> G4LogicalVolume* logicCol =                         </span><br><span class="line">   <span class="keyword">new</span> G4LogicalVolume(subtraction[<span class="number">140</span>],          <span class="comment">//its solid</span></span><br><span class="line">                       col_mat,           <span class="comment">//its material</span></span><br><span class="line">                       <span class="string">"Collimator"</span>);            <span class="comment">//its name</span></span><br><span class="line"></span><br><span class="line"> G4PVPlacement* physCol = </span><br><span class="line">   <span class="keyword">new</span> G4PVPlacement(<span class="number">0</span>,                     <span class="comment">//no rotation</span></span><br><span class="line">                     G4ThreeVector(<span class="number">0.</span>*mm,<span class="number">0.</span>*mm,<span class="number">160.0</span>*mm),<span class="comment">//65.0*mm),       //at (0,0,0)</span></span><br><span class="line">                     logicCol,              <span class="comment">//its logical volume</span></span><br><span class="line">                     <span class="string">"Collimator"</span>,                 <span class="comment">//its name</span></span><br><span class="line">                     logicWorld,            <span class="comment">//its mother  volume</span></span><br><span class="line">                     <span class="literal">false</span>,                 <span class="comment">//no boolean operation</span></span><br><span class="line">                     <span class="number">0</span>,                     <span class="comment">//copy number</span></span><br><span class="line">                     checkOverlaps);        <span class="comment">//overlaps checking</span></span><br></pre></td></tr></table></figure><p>å»ºå‡ºæ¥çš„ç»“æœï¼šåœ†æŸ±å½¢å‡†ç›´å™¨</p><p><img src="/2020/06/05/Geant4ä¸­å¦‚ä½•æ·»åŠ å¤æ‚ç»„ä»¶/11-37-25.png" alt></p><h2 id="2-Assembleç»„ä»¶"><a href="#2-Assembleç»„ä»¶" class="headerlink" title="2. Assembleç»„ä»¶"></a>2. Assembleç»„ä»¶</h2><p>é—ªçƒä½“pixelé˜µåˆ—æ„å»ºä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">//*************************************************     </span></span><br><span class="line"> <span class="comment">// AssembleNBD World</span></span><br><span class="line"> <span class="comment">//*************************************************</span></span><br><span class="line"> G4double sizeXY = <span class="number">100.77</span>*mm+<span class="number">2.</span>*mm;</span><br><span class="line"> G4double sizeZ  = <span class="number">100.14</span>*mm;</span><br><span class="line"></span><br><span class="line"> G4Box* solidAssembleNBD =   </span><br><span class="line">   <span class="keyword">new</span> G4Box(<span class="string">"AssembleNBD"</span>,     <span class="number">0.5</span>*sizeXY, <span class="number">0.5</span>*sizeXY, <span class="number">0.5</span>*sizeZ);     <span class="comment">//its size</span></span><br><span class="line"> </span><br><span class="line"> logicAssembleNBD =                         </span><br><span class="line">   <span class="keyword">new</span> G4LogicalVolume(solidAssembleNBD,          <span class="comment">//its solid</span></span><br><span class="line">                       world_mat,           <span class="comment">//its material</span></span><br><span class="line">                       <span class="string">"AssembleNBD"</span>);            <span class="comment">//its name</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> <span class="comment">//***************</span></span><br><span class="line"> <span class="comment">//test for one NBD</span></span><br><span class="line"></span><br><span class="line"> physAssembleNBD = </span><br><span class="line">   <span class="keyword">new</span> G4PVPlacement(<span class="number">0</span>,                     <span class="comment">//no rotation</span></span><br><span class="line">                     G4ThreeVector(<span class="number">0.0</span>*cm,<span class="number">0.0</span>*cm,<span class="number">-85.007</span>*cm),       <span class="comment">//at (0,0,0)</span></span><br><span class="line">                     logicAssembleNBD,      <span class="comment">//its logical volume</span></span><br><span class="line">                     <span class="string">"physAssembleNBD"</span>,         <span class="comment">//its name</span></span><br><span class="line">                     expHall_logV,          <span class="comment">//its mother  volume</span></span><br><span class="line">                     <span class="literal">false</span>,                 <span class="comment">//no boolean operation</span></span><br><span class="line">                     <span class="number">0</span>,                     <span class="comment">//copy number</span></span><br><span class="line">       checkOverlaps);        <span class="comment">//overlaps checking</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//*************************************************</span></span><br><span class="line"> <span class="comment">// EJ200 scintillator</span></span><br><span class="line"> <span class="comment">//*************************************************</span></span><br><span class="line"> <span class="comment">//</span></span><br><span class="line"> <span class="comment">//      ------------- Volumes --------------</span></span><br><span class="line"> <span class="comment">//  10X10X50 mm3 EJ-200/BC408</span></span><br><span class="line"> <span class="comment">//  spacing is 65 um between two EJ-200 with reflector</span></span><br><span class="line"> <span class="comment">//  </span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//  </span></span><br><span class="line"> <span class="comment">// EJ200 reflector box</span></span><br><span class="line"> <span class="comment">//----------------------------------</span></span><br><span class="line"> <span class="comment">// 100.770X100.770X50.070 mm3</span></span><br><span class="line"> <span class="comment">// 10X10+0.07*11; 50 + 0.07</span></span><br><span class="line"></span><br><span class="line"> G4double ej200_x=<span class="number">10</span>*mm, ej200_y=<span class="number">10</span>*mm, ej200_z=<span class="number">50</span>*mm; <span class="comment">//full size of ej200</span></span><br><span class="line"> G4double rowNb_ej200=<span class="number">10</span>, colNb_ej200=<span class="number">10</span>; <span class="comment">// 10X10 ej200</span></span><br><span class="line"> G4double gap=<span class="number">0.070</span>*mm; <span class="comment">// gap between two ej200</span></span><br><span class="line"></span><br><span class="line"> G4double EJ200_Box_x = ej200_x*rowNb_ej200/<span class="number">2</span>+gap*(rowNb_ej200+<span class="number">1</span>)/<span class="number">2</span>;</span><br><span class="line"> G4double EJ200_Box_y = ej200_y*colNb_ej200/<span class="number">2</span>+gap*(colNb_ej200+<span class="number">1</span>)/<span class="number">2</span>;</span><br><span class="line"> G4double EJ200_Box_z = (ej200_z+gap)/<span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"> <span class="comment">//  mother volume of 10 X 10  EJ200  </span></span><br><span class="line"> G4double Assemble_x = EJ200_Box_x; </span><br><span class="line"> G4double Assemble_y = EJ200_Box_y;</span><br><span class="line"> G4double Assemble_z = EJ200_Box_z;</span><br><span class="line"></span><br><span class="line"> G4Box* Assemble_solidV = <span class="keyword">new</span> G4Box(<span class="string">"Assemble_solidV"</span>, </span><br><span class="line"> Assemble_x, Assemble_y, Assemble_z);</span><br><span class="line"> Assemble_logV  = <span class="keyword">new</span> G4LogicalVolume(Assemble_solidV, ESR, <span class="string">"Assemble_logV"</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">G4double Assemble_px = <span class="number">0</span>;  <span class="comment">// put it at (0,0, EJ200_Box_z)</span></span><br><span class="line"> G4double Assemble_py = <span class="number">0</span>;</span><br><span class="line"> G4double Assemble_pz = EJ200_Box_z;  </span><br><span class="line"> Assemble_physV = <span class="keyword">new</span> G4PVPlacement(<span class="number">0</span>,</span><br><span class="line">                            G4ThreeVector(Assemble_px, Assemble_py, Assemble_pz),</span><br><span class="line">                            Assemble_logV,</span><br><span class="line">                            <span class="string">"Assemble_physV"</span>,</span><br><span class="line">                            logicAssembleNBD,</span><br><span class="line">                            <span class="literal">false</span>,</span><br><span class="line">                            <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line"> <span class="comment">//</span></span><br><span class="line"> <span class="comment">// each EJ-200</span></span><br><span class="line"> <span class="comment">//-------------------------------</span></span><br><span class="line"></span><br><span class="line"> G4double EJ200_x = ej200_x/<span class="number">2</span>;  <span class="comment">// half size</span></span><br><span class="line"> G4double EJ200_y = ej200_y/<span class="number">2</span>;</span><br><span class="line"> G4double EJ200_z = ej200_z/<span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"> G4Box* EJ200_solidV = <span class="keyword">new</span> G4Box(<span class="string">"EJ200_solidV"</span>, EJ200_x, EJ200_y, EJ200_z);</span><br><span class="line"> EJ200_logV = <span class="keyword">new</span> G4LogicalVolume(EJ200_solidV, EJ200, <span class="string">"EJ200_logV"</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> <span class="comment">// create Assembly of EJ200 array Box</span></span><br><span class="line"> <span class="comment">//</span></span><br><span class="line"> G4AssemblyVolume* assemblyEJ200 = <span class="keyword">new</span> G4AssemblyVolume();</span><br><span class="line"></span><br><span class="line"> <span class="comment">// Rotation and translation of the logical volume</span></span><br><span class="line"> G4RotationMatrix rotationMatrixEJ200; </span><br><span class="line"> <span class="function">G4ThreeVector <span class="title">positionEJ200</span><span class="params">(<span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>)</span></span>;</span><br><span class="line"> G4Transform3D transform3DEJ200;</span><br><span class="line"></span><br><span class="line"> <span class="comment">// Fill the assembly by EJ200</span></span><br><span class="line"> <span class="comment">//</span></span><br><span class="line"> G4int max_x = rowNb_ej200; </span><br><span class="line"> G4int max_y = colNb_ej200;</span><br><span class="line"> <span class="keyword">for</span>(G4int x_row_num = <span class="number">0</span>; x_row_num &lt; max_x; x_row_num++ )&#123;</span><br><span class="line">   <span class="keyword">for</span>(G4int y_col_num = <span class="number">0</span>; y_col_num &lt; max_y; y_col_num++ )&#123;  </span><br><span class="line">     positionEJ200.setX( -EJ200_Box_x + (x_row_num+<span class="number">1</span>)*gap + (<span class="number">2</span>*x_row_num+<span class="number">1</span>)*EJ200_x );</span><br><span class="line">     positionEJ200.setY( -EJ200_Box_y + (y_col_num+<span class="number">1</span>)*gap + (<span class="number">2</span>*y_col_num+<span class="number">1</span>)*EJ200_y );</span><br><span class="line">     positionEJ200.setZ( <span class="number">0.0</span>*mm );</span><br><span class="line">     transform3DEJ200 = G4Transform3D(rotationMatrixEJ200, positionEJ200);</span><br><span class="line">     assemblyEJ200-&gt;AddPlacedVolume(EJ200_logV, transform3DEJ200);</span><br><span class="line">   &#125;</span><br><span class="line"> &#125;  </span><br><span class="line"></span><br><span class="line"> <span class="comment">// Place the Assembly</span></span><br><span class="line"> <span class="comment">//</span></span><br><span class="line"> positionEJ200.setX(<span class="number">0.0</span> ); positionEJ200.setY(<span class="number">0.0</span> ); positionEJ200.setZ(<span class="number">-0.5</span>*gap);</span><br><span class="line"> transform3DEJ200 = G4Transform3D(rotationMatrixEJ200, positionEJ200);</span><br><span class="line"> assemblyEJ200-&gt;MakeImprint(Assemble_logV, transform3DEJ200);</span><br></pre></td></tr></table></figure><p>é—ªçƒä½“æ¢æµ‹å™¨èŠ¯å—é˜µåˆ—ï¼š</p><p><img src="/2020/06/05/Geant4ä¸­å¦‚ä½•æ·»åŠ å¤æ‚ç»„ä»¶/15-21-17.png" alt></p><h2 id="3-Parameterised"><a href="#3-Parameterised" class="headerlink" title="3. Parameterised"></a>3. Parameterised</h2><p>å…‰å¯¼æ„å»ºä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"G4PVParameterised.hh"</span> <span class="comment">//å¾—åŒ…å«G4PVParameterisedå¤´æ–‡ä»¶</span></span></span><br><span class="line"></span><br><span class="line">  <span class="comment">//</span></span><br><span class="line">  <span class="comment">// Light Guide top mother volume</span></span><br><span class="line">  <span class="comment">//-------------------------------------</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// The defination of light guide</span></span><br><span class="line">  <span class="comment">// define mother volume of light guide</span></span><br><span class="line">  <span class="comment">// half size of volume</span></span><br><span class="line">  G4double LightGuide_x = ej200_x*rowNb_ej200/<span class="number">2</span>+gap*(rowNb_ej200+<span class="number">1</span>)/<span class="number">2</span>; </span><br><span class="line">  G4double LightGuide_y = ej200_y*colNb_ej200/<span class="number">2</span>+gap*(colNb_ej200+<span class="number">1</span>)/<span class="number">2</span>;</span><br><span class="line">  G4double LightGuide_z = <span class="number">3</span>*mm/<span class="number">2</span>;</span><br><span class="line">  gap = <span class="number">0.07</span>*mm; <span class="comment">// gap between the boxes which is used to put</span></span><br><span class="line">            <span class="comment">// the reflector </span></span><br><span class="line">  G4Box* LightGuide_top_motherV = <span class="keyword">new</span> G4Box(<span class="string">"LightGuide_top_motherV"</span>,</span><br><span class="line">                                LightGuide_x, LightGuide_y, LightGuide_z);</span><br><span class="line">  LightGuide_top_mother_logV = <span class="keyword">new</span> G4LogicalVolume(LightGuide_top_motherV,</span><br><span class="line">                                ESR, <span class="comment">// ESR reflector</span></span><br><span class="line">                                <span class="string">"LightGuide_top_mother_logV"</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">  LightGuide_top_mother_physV = <span class="keyword">new</span> G4PVPlacement(<span class="number">0</span>,</span><br><span class="line">        G4ThreeVector(<span class="number">0</span>, <span class="number">0</span>, (grease_pz-grease_z)-LightGuide_z),</span><br><span class="line">        LightGuide_top_mother_logV,</span><br><span class="line">        <span class="string">"LightGuide_top_mother_physV"</span>,</span><br><span class="line">        logicAssembleNBD,</span><br><span class="line">        <span class="literal">false</span>,</span><br><span class="line">        <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">//</span></span><br><span class="line">  <span class="comment">// Light Guide top </span></span><br><span class="line">  <span class="comment">//-------------------------------------------</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// top part of light guide</span></span><br><span class="line">  <span class="comment">// it consists of 5X5 boxes with same height</span></span><br><span class="line">  <span class="comment">// TopX =&gt; x of each box in the top part, </span></span><br><span class="line">  <span class="comment">// TopY =&gt; y of each box in the top part,</span></span><br><span class="line">  <span class="comment">// TopHeight =&gt; height of each box, they are same.</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// here, the value is the full size of box</span></span><br><span class="line">  G4double TopX[<span class="number">5</span>] = &#123;<span class="number">12.3</span>*mm, <span class="number">22.3</span>*mm, <span class="number">31.15</span>*mm, <span class="number">22.3</span>*mm, <span class="number">12.3</span>*mm&#125;;</span><br><span class="line">  G4double TopY[<span class="number">5</span>] = &#123;<span class="number">12.3</span>*mm, <span class="number">22.3</span>*mm, <span class="number">31.15</span>*mm, <span class="number">22.3</span>*mm, <span class="number">12.3</span>*mm&#125;;</span><br><span class="line">  G4double TopHeight = <span class="number">3.0</span>*mm;</span><br><span class="line"></span><br><span class="line">  G4int rowNb = <span class="number">5</span>;</span><br><span class="line">  G4int colNb = <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line">  G4double TopGap = gap; <span class="comment">// ESR materials</span></span><br><span class="line">  G4double x0, y0; <span class="comment">// coordinate of the left bottom corner</span></span><br><span class="line">  x0 = -LightGuide_x;</span><br><span class="line">  y0 = -LightGuide_y;</span><br><span class="line">  <span class="comment">// left bottom conner of X-Y plane (-A, -A)</span></span><br><span class="line">  <span class="comment">// this box is a seed of other boxes</span></span><br><span class="line">  G4Box* LightGuide_top_solidV = <span class="keyword">new</span> G4Box(<span class="string">"LightGuide_top_solidV"</span>,</span><br><span class="line">           TopX[<span class="number">0</span>]/<span class="number">2</span>, TopY[<span class="number">0</span>]/<span class="number">2</span>, TopHeight/<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">  LightGuide_top_logV = <span class="keyword">new</span> G4LogicalVolume(LightGuide_top_solidV,</span><br><span class="line">                                        BC800, <span class="comment">// light guide material</span></span><br><span class="line">                                        <span class="string">"LightGuide_top_logV"</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// all the coordinates are relative to the coordinate system of LightGuide_mother_logV </span></span><br><span class="line">  G4double LightGuide_top_px = x0;</span><br><span class="line">  G4double LightGuide_top_py = y0;</span><br><span class="line">  G4double LightGuide_top_pz = <span class="number">0</span>*mm;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//G4VPVParameterisation </span></span><br><span class="line">  APNISLGParameterisation *lightGuide_para_top = </span><br><span class="line">  <span class="keyword">new</span> APNISLGParameterisation(</span><br><span class="line">  rowNb, colNb, <span class="comment">// number of row and column</span></span><br><span class="line">   TopX, TopY,</span><br><span class="line">  TopGap, TopHeight,</span><br><span class="line">  LightGuide_top_px, LightGuide_top_py, LightGuide_top_pz,</span><br><span class="line">  BC800, ESR);</span><br><span class="line"></span><br><span class="line">  LightGuide_top_physV = <span class="keyword">new</span> G4PVParameterised(<span class="string">"LightGuide_top_physV"</span>,</span><br><span class="line">  LightGuide_top_logV, LightGuide_top_mother_logV,</span><br><span class="line">  kUndefined, rowNb*colNb, lightGuide_para_top);</span><br><span class="line"></span><br><span class="line">  <span class="comment">//</span></span><br><span class="line">  <span class="comment">// Light Guide bottom mother volume</span></span><br><span class="line">  <span class="comment">//-------------------------------------------</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// Bottom part of light guide, half size</span></span><br><span class="line">  G4double LightGuide_z_ = <span class="number">18</span>*mm/<span class="number">2</span>;</span><br><span class="line">  G4Box* LightGuide_bottom_motherV = <span class="keyword">new</span> G4Box(<span class="string">"LightGuide_bottom_motherV"</span>,</span><br><span class="line">                                LightGuide_x, LightGuide_y, LightGuide_z_);</span><br><span class="line">  LightGuide_bottom_mother_logV = <span class="keyword">new</span> G4LogicalVolume(LightGuide_bottom_motherV,</span><br><span class="line">                                ESR, <span class="comment">// ESR reflector</span></span><br><span class="line">                                <span class="string">"LightGuide_bottom_mother_logV"</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">  LightGuide_bottom_mother_physV = <span class="keyword">new</span> G4PVPlacement(<span class="number">0</span>,</span><br><span class="line">        G4ThreeVector(<span class="number">0</span>, <span class="number">0</span>, (grease_pz-grease_z)-LightGuide_z*<span class="number">2</span>-LightGuide_z_),</span><br><span class="line">        LightGuide_bottom_mother_logV,</span><br><span class="line">        <span class="string">"LightGuide_bottom_mother_physV"</span>,</span><br><span class="line">        logicAssembleNBD,</span><br><span class="line">        <span class="literal">false</span>,</span><br><span class="line">        <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="comment">//</span></span><br><span class="line">  <span class="comment">// Light Guide bottom</span></span><br><span class="line">  <span class="comment">//---------------------------------------------</span></span><br><span class="line"></span><br><span class="line">  G4double BottomX[<span class="number">3</span>] = &#123;<span class="number">12.3</span>*mm, <span class="number">75.89</span>*mm, <span class="number">12.3</span>*mm&#125;;</span><br><span class="line">  G4double BottomY[<span class="number">3</span>] = &#123;<span class="number">12.3</span>*mm, <span class="number">75.89</span>*mm, <span class="number">12.3</span>*mm&#125;;</span><br><span class="line">  G4double BottomHeight = LightGuide_z_*<span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">  G4int rowNb_ = <span class="number">3</span>;</span><br><span class="line">  G4int colNb_ = <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line">  G4double BottomGap = gap; <span class="comment">// ESR materials</span></span><br><span class="line">  <span class="comment">// left bottom conner of X-Y plane (-A, -A)</span></span><br><span class="line">  <span class="comment">// this box is a seed of other boxes</span></span><br><span class="line">  G4Box* LightGuide_bottom_solidV = <span class="keyword">new</span> G4Box(<span class="string">"LightGuide_bottom_solidV"</span>,</span><br><span class="line">                        BottomX[<span class="number">0</span>]/<span class="number">2</span>, BottomY[<span class="number">0</span>]/<span class="number">2</span>, BottomHeight/<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">  LightGuide_bottom_logV = <span class="keyword">new</span> G4LogicalVolume(LightGuide_bottom_solidV,</span><br><span class="line">                                        BC800, <span class="comment">// light guide material</span></span><br><span class="line">                                        <span class="string">"LightGuide_bottom_logV"</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="comment">// all the coordinates are relative to the coordinate system of LightGuide_mother_logV </span></span><br><span class="line">  G4double LightGuide_bottom_px = x0;</span><br><span class="line">  G4double LightGuide_bottom_py = y0;</span><br><span class="line">  G4double LightGuide_bottom_pz = <span class="number">0</span>*mm;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//G4VPVParameterisation </span></span><br><span class="line">  APNISLGParameterisation *lightGuide_para_bottom =</span><br><span class="line">                <span class="keyword">new</span> APNISLGParameterisation(</span><br><span class="line">                                rowNb_, colNb_, <span class="comment">// number of row and column</span></span><br><span class="line">                                BottomX, BottomY,</span><br><span class="line">                                BottomGap, BottomHeight,</span><br><span class="line">                                LightGuide_bottom_px, LightGuide_bottom_py, LightGuide_bottom_pz,</span><br><span class="line">                                BC800, ESR);</span><br><span class="line">  LightGuide_bottom_physV = <span class="keyword">new</span> G4PVParameterised(<span class="string">"LightGuide_bottom_physV"</span>,</span><br><span class="line">                                LightGuide_bottom_logV, LightGuide_bottom_mother_logV,</span><br><span class="line">                                kUndefined, rowNb_*colNb_, lightGuide_para_bottom);</span><br></pre></td></tr></table></figure><p>å…‰å¯¼æ„å»ºå›¾ï¼š</p><p><img src="/2020/06/05/Geant4ä¸­å¦‚ä½•æ·»åŠ å¤æ‚ç»„ä»¶/15-00-25.png" alt></p>]]></content>
    
    <summary type="html">
    
      Geant4æ„å»ºå¤æ‚ç»„ä»¶ï¼Œboolè¿ç®—ï¼Œassemble,parameterised
    
    </summary>
    
    
      <category term="Geant4" scheme="https://Hubery-Lee.github.io/categories/Geant4/"/>
    
    
      <category term="geant4" scheme="https://Hubery-Lee.github.io/tags/geant4/"/>
    
  </entry>
  
  <entry>
    <title>è¿­ä»£é‡å»ºç®—æ³•çš„åŸºæœ¬æ€æƒ³</title>
    <link href="https://hubery-lee.github.io/2020/06/05/%E8%BF%AD%E4%BB%A3%E9%87%8D%E5%BB%BA%E7%AE%97%E6%B3%95%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%80%9D%E6%83%B3/"/>
    <id>https://hubery-lee.github.io/2020/06/05/%E8%BF%AD%E4%BB%A3%E9%87%8D%E5%BB%BA%E7%AE%97%E6%B3%95%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%80%9D%E6%83%B3/</id>
    <published>2020-06-04T16:15:12.000Z</published>
    <updated>2020-06-09T08:35:36.095Z</updated>
    
    <content type="html"><![CDATA[<h1 id="è¿­ä»£é‡å»ºç®—æ³•çš„åŸºæœ¬æ€æƒ³"><a href="#è¿­ä»£é‡å»ºç®—æ³•çš„åŸºæœ¬æ€æƒ³" class="headerlink" title="è¿­ä»£é‡å»ºç®—æ³•çš„åŸºæœ¬æ€æƒ³"></a>è¿­ä»£é‡å»ºç®—æ³•çš„åŸºæœ¬æ€æƒ³</h1><h2 id="åŸºæœ¬æ€æƒ³"><a href="#åŸºæœ¬æ€æƒ³" class="headerlink" title="åŸºæœ¬æ€æƒ³"></a>åŸºæœ¬æ€æƒ³</h2><p>å›¾åƒé‡å»ºé™¤äº†é€šè¿‡ä¸­å¿ƒåˆ‡ç‰‡å®šç†æ¥å®ç°å¤–ï¼Œè¿˜å¯ä»¥é€šè¿‡è§£çº¿æ€§æ–¹ç¨‹ç»„æ¥å¾—åˆ°ã€‚å¯¹äºäºŒç»´å›¾åƒå°±æ˜¯åƒç´ ï¼Œå¯¹äºä¸‰ç»´å›¾åƒå°±æ˜¯ä½“ç´ ã€‚</p><p><img src="/2020/06/05/è¿­ä»£é‡å»ºç®—æ³•çš„åŸºæœ¬æ€æƒ³/image-20200604225353193.png" alt="image-20200604225353193"></p><p>$\left{\begin{array}{c}x_{1}+x_{2}+x_{3}=p_{1} \ x_{4}+x_{5}+x_{6}=p_{2} \ x_{7}+x_{8}+x_{9}=p_{3} \ x_{3}+x_{6}+x_{9}=p_{4} \ x_{2}+x_{5}+x_{8}=p_{5} \ x_{1}+x_{4}+x_{7}=p_{6} \ 2(\sqrt{2}-1) x_{4}+(2-\sqrt{2}) x_{7}+2(\sqrt{2}-1) x_{8}=p_{7} \ \sqrt{2} x_{1}+\sqrt{2} x_{5}+\sqrt{2} x_{9}=p_{8} \ 2(\sqrt{2}-1) x_{2}+(2-\sqrt{2}) x_{3}+2(\sqrt{2}-1) x_{6}=p_{9}\end{array}\right.$</p><p>è¿™ä¸ªæ–¹ç¨‹ç»„ä¹Ÿå¯ä»¥ç”¨çŸ©é˜µçš„å½¢å¼å†™å‡º<br>$$<br>AX=p<br>$$<br>å…¶ä¸­ï¼Œ$X=\left[x_{1}, x_{2}, \ldots, x_{9}\right]^{T}, \quad P=\left[p_{1}, p_{2}, \ldots, p_{9}\right]^{T}$è¿­ä»£ç®—æ³•çš„æ€æƒ³ä½¿å°†$AX=p$å˜æ¢æˆï¼Œè¿­ä»£å½¢å¼<br>$$<br>X^{(i+1)}=GX^{(i)}+b<br>$$<br>é€šè¿‡ä¸åŒçš„å˜æ¢æ–¹å¼å˜æˆè¿­ä»£æ ¼å¼ï¼Œå°±é•¿ç”Ÿäº†ä¸åŒçš„çš„è¿­ä»£ç®—æ³•ã€‚æ¯”å¦‚ï¼š</p><h2 id="å¸¸ç”¨è¿­ä»£ç®—æ³•"><a href="#å¸¸ç”¨è¿­ä»£ç®—æ³•" class="headerlink" title="å¸¸ç”¨è¿­ä»£ç®—æ³•"></a>å¸¸ç”¨è¿­ä»£ç®—æ³•</h2><h3 id="ä»£æ•°è¿­ä»£é‡å»ºæŠ€æœ¯ï¼ˆAROï¼Œalgebraic-reconstruction-technique"><a href="#ä»£æ•°è¿­ä»£é‡å»ºæŠ€æœ¯ï¼ˆAROï¼Œalgebraic-reconstruction-technique" class="headerlink" title="ä»£æ•°è¿­ä»£é‡å»ºæŠ€æœ¯ï¼ˆAROï¼Œalgebraic reconstruction technique)"></a>ä»£æ•°è¿­ä»£é‡å»ºæŠ€æœ¯ï¼ˆAROï¼Œalgebraic reconstruction technique)</h3><p>ART ç®—æ³•æ˜¯ä¸ªâ€œè¡Œè¿ç®—â€ç®—æ³•ã€‚å®ƒæ¯æ¬¡è€ƒè™‘ä¸€æ¡å°„çº¿å°±æ›´æ–°ä¸€æ¬¡å›¾åƒã€‚ART ç®—æ³•çš„è¡¨è¾¾å¼æ˜¯ </p><p>$$<br>X^{ä¸‹ä¸€ä¸ª}=X^{\text {å½“å‰}}-\frac{A_{i} X^{\text {å½“å‰}}-p_{i}}{\left|A_{i}\right|^{2}} A_{i}^{T}<br>$$<br>$A_iX$ æ‰§è¡Œçš„æ˜¯æ²¿ç€ç¬¬$i$æ¡å°„çº¿çš„æŠ•å½±è¿ç®—ï¼Œ$p_i$ æ˜¯åœ¨ç¬¬ $i $ä¸ªæ¢æµ‹åƒå…ƒä¸Šæµ‹åˆ°çš„æŠ•å½±æ•°æ®ï¼Œ$\left|A_{i}\right|^{2}=\sum_{j} a_{i j}^{2}$æ˜¯æ²¿ç€ç¬¬ $i$ æ¡å°„çº¿ä¸Šå„â€œè´¡çŒ®â€å› å­çš„å¹³æ–¹å’Œï¼Œ$cA^{T}<em>{i}$ æ˜¯æŠŠæ•°å€¼ $c $æ²¿ç€ç¬¬$ i$ æ¡å°„çº¿åšåæŠ•å½±ã€‚å¦‚æœæˆ‘ä»¬æŠŠä¸Šé¢çš„ç®—æ³•æ”¹å†™æˆä¸‹é¢çš„å½¢å¼ .<br>$$<br>X^{\text {next }}=X^{\text {current }}-\left(\frac{A</em>{i} X^{\text {current }}}{\left|A_{i}\right|}-\frac{p_{i}}{\left|A_{i}\right|}\right) \frac{A_{i}^{T}}{\left|A_{i}\right|}<br>$$<br>è¯¥ç®—æ³•çš„å‡ ä½•æ„ä¹‰å°±æ¯”è¾ƒæ˜æ˜¾äº†:</p><p><img src="/2020/06/05/è¿­ä»£é‡å»ºç®—æ³•çš„åŸºæœ¬æ€æƒ³/image-20200604233955301.png" alt="image-20200604233955301"></p><h3 id="æœ€å¤§æœŸæœ›æå¤§ä¼¼ç„¶ç®—æ³•ï¼ˆML-EMï¼ŒMaximum-Likelihood-Expectation-Maximizationï¼‰"><a href="#æœ€å¤§æœŸæœ›æå¤§ä¼¼ç„¶ç®—æ³•ï¼ˆML-EMï¼ŒMaximum-Likelihood-Expectation-Maximizationï¼‰" class="headerlink" title="æœ€å¤§æœŸæœ›æå¤§ä¼¼ç„¶ç®—æ³•ï¼ˆML-EMï¼ŒMaximum-Likelihood Expectation-Maximizationï¼‰"></a>æœ€å¤§æœŸæœ›æå¤§ä¼¼ç„¶ç®—æ³•ï¼ˆML-EMï¼ŒMaximum-Likelihood Expectation-Maximizationï¼‰</h3><p><img src="/2020/06/05/è¿­ä»£é‡å»ºç®—æ³•çš„åŸºæœ¬æ€æƒ³/image-20200604234408677.png" alt="image-20200604234408677"></p><p><img src="/2020/06/05/è¿­ä»£é‡å»ºç®—æ³•çš„åŸºæœ¬æ€æƒ³/image-20200604234429947.png" alt="image-20200604234429947"></p><p><img src="/2020/06/05/è¿­ä»£é‡å»ºç®—æ³•çš„åŸºæœ¬æ€æƒ³/image-20200604234506653.png" alt="image-20200604234506653"></p><p><img src="/2020/06/05/è¿­ä»£é‡å»ºç®—æ³•çš„åŸºæœ¬æ€æƒ³/image-20200604234525715.png" alt="image-20200604234525715"></p><p><img src="/2020/06/05/è¿­ä»£é‡å»ºç®—æ³•çš„åŸºæœ¬æ€æƒ³/image-20200604234558326.png" alt="image-20200604234558326"></p><p><img src="/2020/06/05/è¿­ä»£é‡å»ºç®—æ³•çš„åŸºæœ¬æ€æƒ³/image-20200604234618809.png" alt="image-20200604234618809"></p><p><img src="/2020/06/05/è¿­ä»£é‡å»ºç®—æ³•çš„åŸºæœ¬æ€æƒ³/image-20200604234633400.png" alt="image-20200604234633400"></p><p><strong>å‚è€ƒæ–‡çŒ®ï¼š</strong></p><p>[1] æ›¾æ›´ç”Ÿï¼ŒåŒ»å­¦å›¾åƒé‡å»º</p>]]></content>
    
    <summary type="html">
    
      è¿­ä»£é‡å»ºçš„åŸºæœ¬æ€æƒ³
    
    </summary>
    
    
      <category term="å›¾åƒé‡å»º" scheme="https://Hubery-Lee.github.io/categories/%E5%9B%BE%E5%83%8F%E9%87%8D%E5%BB%BA/"/>
    
    
      <category term="è¿­ä»£é‡å»º" scheme="https://Hubery-Lee.github.io/tags/%E8%BF%AD%E4%BB%A3%E9%87%8D%E5%BB%BA/"/>
    
  </entry>
  
  <entry>
    <title>PET_SPECTæˆåƒä¸CTæˆåƒçš„åŒºåˆ«</title>
    <link href="https://hubery-lee.github.io/2020/06/03/PET-SPECT%E6%88%90%E5%83%8F%E4%B8%8ECT%E6%88%90%E5%83%8F%E7%9A%84%E5%8C%BA%E5%88%AB/"/>
    <id>https://hubery-lee.github.io/2020/06/03/PET-SPECT%E6%88%90%E5%83%8F%E4%B8%8ECT%E6%88%90%E5%83%8F%E7%9A%84%E5%8C%BA%E5%88%AB/</id>
    <published>2020-06-03T12:38:26.000Z</published>
    <updated>2020-06-04T16:25:51.276Z</updated>
    
    <content type="html"><![CDATA[<h1 id="PET-SPECTæˆåƒä¸CTæˆåƒçš„åŒºåˆ«"><a href="#PET-SPECTæˆåƒä¸CTæˆåƒçš„åŒºåˆ«" class="headerlink" title="PET/SPECTæˆåƒä¸CTæˆåƒçš„åŒºåˆ«"></a>PET/SPECTæˆåƒä¸CTæˆåƒçš„åŒºåˆ«</h1><h2 id="æˆåƒåŸç†çš„åŒºåˆ«"><a href="#æˆåƒåŸç†çš„åŒºåˆ«" class="headerlink" title="æˆåƒåŸç†çš„åŒºåˆ«"></a>æˆåƒåŸç†çš„åŒºåˆ«</h2><p>PETå’ŒSPECTæ˜¯å±äºå‘å°„æˆåƒï¼ŒCTå±äºé€å°„æˆåƒã€‚</p><p>æ‰€è°“å‘å°„å‹æˆåƒå°±æ˜¯æŠŠæ”¾å°„æºæ”¾åœ¨ç—…äººèº«ä½“çš„å†…éƒ¨ï¼Œæ”¾å°„çº¿ä»ç—…äººèº«ä½“å†…éƒ¨å°„å‡ºï¼Œæœ€åè¢«æ¢æµ‹å™¨æ¥æ”¶ã€‚ å…·æœ‰çŸ­åŠè¡°æœŸçš„æ”¾å°„æ€§çš„åŸå­å¯ä»¥ç”±å›æ—‹åŠ é€Ÿå™¨æˆ–æ ¸ååº”å †ç”Ÿäº§å‡ºæ¥ã€‚è¿™äº›æ”¾å°„æ€§å…ƒç´ å†ç”¨æ¥åˆ¶é€ æ”¾å°„æ€§è¯ç‰©ã€‚ é€šå¸¸æ”¾å°„æ€§è¯ç‰©æ˜¯é€šè¿‡æ‰‹è‡‚é™è„‰è¡€ç®¡æ³¨å°„è€Œè¿›å…¥ä½“å†…çš„ã€‚æ”¾å°„æ€§è¯ç‰©è¿›å…¥äººä½“åä¼šè·Ÿè¸ªç—…ç†è¿‡ç¨‹ã€‚æ”¾å°„æ€§è¯ç‰©ä¹Ÿå¯ä»¥é€šè¿‡ç—…äººçš„å‘¼å¸é“æˆ–æ¶ˆåŒ–é“è¿›å…¥äººä½“ã€‚æ”¾å°„æ€§è¯ç‰©å®é™…ä¸Šæ˜¯ä¸ªåˆ†å­è½½ä½“ï¼Œå®ƒä¾é™„äºç‰¹å®šçš„ç”Ÿç†ç»„ç»‡æˆ–ç—…ç†è¿‡ç¨‹ã€‚æ”¾å°„æ€§ç‰©è´¨åœ¨è¯ç‰©çš„å¸¦é¢†ä¸‹åœ¨äººä½“å†…åšæœ‰ç›®çš„çš„åˆ†å¸ƒã€‚å‘å°„å‹æ–­å±‚æˆåƒçš„ç›®çš„å°±æ˜¯è¦å¾—åˆ°ä¸€ä¸ªæ”¾å°„<br>æ€§ç‰©è´¨åœ¨äººä½“å†…éƒ¨çš„åˆ†å¸ƒå›¾ã€‚ </p><p><img src="/2020/06/03/PET-SPECTæˆåƒä¸CTæˆåƒçš„åŒºåˆ«/image-20200603105809886.png" alt="image-20200603105809886"></p><p>PETå’ŒSPECTçš„ä¸»è¦åŒºåˆ«æ˜¯é‡‡ç”¨çš„æ ¸è¯ä¸åŒï¼ŒPETå…¨ç¨‹å«æ­£ç”µå­å‘å°„æˆåƒï¼Œé€šå¸¸é‡‡ç”¨çš„æ˜¯èƒ½å¤Ÿå‘å°„æ­£ç”µå­çš„æ ¸è¯ï¼Œå¦‚==C-11ï¼ŒN-13ï¼ŒO-15å’Œ F-18==ï¼Œåœ¨æ”¾å°„æ€§è¡°é€€æ—¶ä¼šé‡Šæ”¾å‡ºæ­£ç”µå­ (å³å¸¦ä¸€ä¸ªæ­£ç”µè·çš„ç”µå­)ã€‚æ­£ç”µå­åœ¨è‡ªç„¶ç•Œä¸­ç”Ÿå­˜çš„æ—¶é—´ååˆ†çŸ­æš‚ï¼Œå› ä¸ºåœ¨è‡ªç„¶ç•Œä¸­æ­£ç”µå­å¾ˆå¿«å°±ä¼šé‡åˆ°ä¸€ä¸ª (å¸¦è´Ÿç”µçš„) ç”µå­ã€‚å½“æ­£ç”µå­ä¸ç”µå­å‘ç”Ÿä½œç”¨æ—¶ï¼Œå®ƒä»¬çš„è´¨é‡ä¼šæ¹®ç­ (å³å®Œå…¨æ¶ˆå¤±)ï¼Œå®ƒä»¬çš„è´¨é‡å®Œå…¨è½¬æ¢ä¸ºèƒ½é‡è€Œäº§ç”Ÿå‡ºä¸¤ä¸ªèƒ½é‡ä¸º 511 keV çš„ä¼½ç›å…‰å­ã€‚è¿™ä¸¤ä¸ªå…‰å­æ²¿ç€ç›¸éš” 180Âº è§’çš„æ–¹å‘ä¼ æ’­ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒä»¬åœ¨ä¸€æ¡ç›´çº¿ä¸Šæœç›¸åçš„æ–¹å‘å°„å‡ºã€‚æœ‰ä¸€ç§ç‰¹æ®Šçš„ä¼½ç›ç…§ç›¸æœºå¯ä¸“é—¨ç”¨æ¥æ£€æµ‹è¿™ä¸€å¯¹å…‰å­ã€‚è¿™ç§ç‰¹æ®Šçš„ä¼½ç›ç…§ç›¸æœºè¿ç”¨çš„æ˜¯åŒæ—¶æ£€æµ‹æŠ€æœ¯ã€‚å½“ä¸¤ä¸ªæ¢æµ‹å™¨åŒæ—¶å„æ¥æ”¶åˆ°ä¸€ä¸ªèƒ½é‡ä¸º 511 keV çš„ä¼½ç›å…‰å­æ—¶ï¼Œè¯´æ˜åœ¨è¿æ¥è¿™ä¸¤ä¸ªæ¢æµ‹å™¨çš„çº¿æ®µä¸Šæ›¾ç»æœ‰è¿‡ä¸€ä¸ªæ­£ç”µå­ã€‚</p><p><img src="/2020/06/03/PET-SPECTæˆåƒä¸CTæˆåƒçš„åŒºåˆ«/image-20200603110137644.png" alt="image-20200603110137644"></p><p>è€ŒSPECTå…¨ç§°å«å•å…‰å­å‘å°„æ–­å±‚æˆåƒï¼Œé‡‡ç”¨å‘å°„å•ä¸ªå…‰å­çš„æ ¸è¯ï¼Œå¦‚$^{99}Tcã€^{131}Iã€^{113}Inã€^{67}Gaã€^{201}Tlã€^{113}Xn$;</p><p><img src="/2020/06/03/PET-SPECTæˆåƒä¸CTæˆåƒçš„åŒºåˆ«/image-20200603111107360.png" alt="image-20200603111107360"></p><p><img src="/2020/06/03/PET-SPECTæˆåƒä¸CTæˆåƒçš„åŒºåˆ«/image-20200603111146266.png" alt="image-20200603111146266"></p><h2 id="å›¾åƒé‡å»ºæ–¹æ³•ä¸Šçš„ä¸åŒç‚¹"><a href="#å›¾åƒé‡å»ºæ–¹æ³•ä¸Šçš„ä¸åŒç‚¹" class="headerlink" title="å›¾åƒé‡å»ºæ–¹æ³•ä¸Šçš„ä¸åŒç‚¹"></a>å›¾åƒé‡å»ºæ–¹æ³•ä¸Šçš„ä¸åŒç‚¹</h2><p>å‘å°„æˆåƒéœ€è¦å¯¹æˆåƒä»‹è´¨è¿›è¡Œå°„çº¿è¡°å‡ä¿®æ­£ï¼›</p><p><img src="/2020/06/03/PET-SPECTæˆåƒä¸CTæˆåƒçš„åŒºåˆ«/image-20200603111313807.png" alt="image-20200603111313807"></p><p><img src="/2020/06/03/PET-SPECTæˆåƒä¸CTæˆåƒçš„åŒºåˆ«/image-20200603111400117.png" alt="image-20200603111400117"></p><p><img src="/2020/06/03/PET-SPECTæˆåƒä¸CTæˆåƒçš„åŒºåˆ«/image-20200603111438883.png" alt="image-20200603111438883"></p><p><img src="/2020/06/03/PET-SPECTæˆåƒä¸CTæˆåƒçš„åŒºåˆ«/image-20200603111455329.png" alt="image-20200603111455329"></p><p><img src="/2020/06/03/PET-SPECTæˆåƒä¸CTæˆåƒçš„åŒºåˆ«/image-20200603111535455.png" alt="image-20200603111535455"></p><p><img src="/2020/06/03/PET-SPECTæˆåƒä¸CTæˆåƒçš„åŒºåˆ«/image-20200603111656132.png" alt="image-20200603111656132"></p><p>æ¯”è¾ƒå¤æ‚ã€‚</p><p><strong>å‚è€ƒæ–‡çŒ®ï¼š</strong></p>]]></content>
    
    <summary type="html">
    
      é€å°„æˆåƒå’Œå‘å°„æˆåƒçš„åŒºåˆ«
    
    </summary>
    
    
      <category term="åŒ»å­¦å›¾åƒé‡å»º" scheme="https://Hubery-Lee.github.io/categories/%E5%8C%BB%E5%AD%A6%E5%9B%BE%E5%83%8F%E9%87%8D%E5%BB%BA/"/>
    
    
      <category term="PET" scheme="https://Hubery-Lee.github.io/tags/PET/"/>
    
      <category term="SPECT" scheme="https://Hubery-Lee.github.io/tags/SPECT/"/>
    
      <category term="CT" scheme="https://Hubery-Lee.github.io/tags/CT/"/>
    
  </entry>
  
  <entry>
    <title>å¦‚ä½•æ­å»ºæ„ŸçŸ¥å™¨å¹¶ä½¿ç”¨å…¶è¿›è¡Œåˆ†ç±»</title>
    <link href="https://hubery-lee.github.io/2020/06/02/%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA%E6%84%9F%E7%9F%A5%E5%99%A8%E5%B9%B6%E4%BD%BF%E7%94%A8%E5%85%B6%E8%BF%9B%E8%A1%8C%E5%88%86%E7%B1%BB/"/>
    <id>https://hubery-lee.github.io/2020/06/02/%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA%E6%84%9F%E7%9F%A5%E5%99%A8%E5%B9%B6%E4%BD%BF%E7%94%A8%E5%85%B6%E8%BF%9B%E8%A1%8C%E5%88%86%E7%B1%BB/</id>
    <published>2020-06-02T15:25:50.000Z</published>
    <updated>2020-06-04T16:26:45.661Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ğŸ˜‹å¦‚ä½•æ­å»ºæ„ŸçŸ¥å™¨å¹¶ä½¿ç”¨å…¶è¿›è¡Œåˆ†ç±»"><a href="#ğŸ˜‹å¦‚ä½•æ­å»ºæ„ŸçŸ¥å™¨å¹¶ä½¿ç”¨å…¶è¿›è¡Œåˆ†ç±»" class="headerlink" title="ğŸ˜‹å¦‚ä½•æ­å»ºæ„ŸçŸ¥å™¨å¹¶ä½¿ç”¨å…¶è¿›è¡Œåˆ†ç±»"></a>ğŸ˜‹å¦‚ä½•æ­å»ºæ„ŸçŸ¥å™¨å¹¶ä½¿ç”¨å…¶è¿›è¡Œåˆ†ç±»</h1><p>[toc]</p><h2 id="ğŸ’¨python-ç¼–ç¨‹åŸºç¡€ï¼Œéœ€è¦æŒæ¡å‡ ä¸ªåº“"><a href="#ğŸ’¨python-ç¼–ç¨‹åŸºç¡€ï¼Œéœ€è¦æŒæ¡å‡ ä¸ªåº“" class="headerlink" title="ğŸ’¨python ç¼–ç¨‹åŸºç¡€ï¼Œéœ€è¦æŒæ¡å‡ ä¸ªåº“"></a>ğŸ’¨python ç¼–ç¨‹åŸºç¡€ï¼Œéœ€è¦æŒæ¡å‡ ä¸ªåº“</h2><ul><li>numpy</li><li>pandas</li><li>matplotlib</li></ul><h2 id="ğŸ’–ä»€ä¹ˆæ˜¯æ„ŸçŸ¥å™¨ï¼Ÿ"><a href="#ğŸ’–ä»€ä¹ˆæ˜¯æ„ŸçŸ¥å™¨ï¼Ÿ" class="headerlink" title="ğŸ’–ä»€ä¹ˆæ˜¯æ„ŸçŸ¥å™¨ï¼Ÿ"></a>ğŸ’–ä»€ä¹ˆæ˜¯æ„ŸçŸ¥å™¨ï¼Ÿ</h2><h3 id="ğŸˆç¥ç»å…ƒä¸æœºå™¨å­¦ä¹ æ„ŸçŸ¥æœº"><a href="#ğŸˆç¥ç»å…ƒä¸æœºå™¨å­¦ä¹ æ„ŸçŸ¥æœº" class="headerlink" title="ğŸˆç¥ç»å…ƒä¸æœºå™¨å­¦ä¹ æ„ŸçŸ¥æœº"></a>ğŸˆç¥ç»å…ƒä¸æœºå™¨å­¦ä¹ æ„ŸçŸ¥æœº</h3><p>ä¿¡å·åœ¨ç¥ç»å…ƒä¸­çš„ä¼ æ’­è¿‡ç¨‹å¦‚ä¸‹ï¼šä¿¡å·é€šè¿‡ç¥ç»ç²’è´¨ä¸ç¥ç»å…ƒæ ‘çªç»“åˆï¼Œé€šè¿‡ç¥ç»ç»†èƒçš„è®¤çŸ¥å¤„ç†ï¼ˆåˆ†ç±»ç­‰ï¼‰ï¼Œç”±ç¥ç»æœ«æ¢¢è¾“å‡ºä¿¡å·ã€‚</p><p><img src="/2020/06/02/å¦‚ä½•æ­å»ºæ„ŸçŸ¥å™¨å¹¶ä½¿ç”¨å…¶è¿›è¡Œåˆ†ç±»/image-20200602160802363.png" alt="image-20200602160802363"><img src="/2020/06/02/å¦‚ä½•æ­å»ºæ„ŸçŸ¥å™¨å¹¶ä½¿ç”¨å…¶è¿›è¡Œåˆ†ç±»/image-20200602161216932.png" alt="image-20200602161216932"></p><p>æ„ŸçŸ¥å™¨ç±»ä¼¼äºç”Ÿç‰©ç¥ç»ç³»ç»Ÿä¸­çš„ç¥ç»å…ƒã€‚ç‰¹å¾æ•°æ®$x_1,x_2,...x_m$ï¼Œä½œä¸ºè¾“å…¥ä¿¡å·ï¼Œæƒé‡å› å­$\omega_1,\omega_2,...\omega_m$,ä½œä¿¡å·æ¥æ”¶å•å…ƒï¼Œæ¿€æ´»å‡½æ•°ç”¨äºæ ¹æ®$\omega x$è¾“å…¥ä¿¡å·äº§ç”Ÿè¾“å‡ºåˆ†ç±»ç»“æœã€‚å…¶ä¸­ï¼Œ$x_0=1,\omega_0=y_0$</p><p><img src="/2020/06/02/å¦‚ä½•æ­å»ºæ„ŸçŸ¥å™¨å¹¶ä½¿ç”¨å…¶è¿›è¡Œåˆ†ç±»/image-20200602160731313.png" alt="image-20200602160731313"></p><p>æ„ŸçŸ¥æœºçš„åŸºæœ¬æ•°å­¦åŸç†ï¼Œæ—¢æ˜¯é€»è¾‘å›å½’/çº¿æ€§å›å½’ï¼Œç›´ç™½ä¸€ç‚¹å°±æ˜¯å¤§å­¦ç‰©ç†å®éªŒä¸­çš„å®éªŒæ•°æ®å¤„ç†ï¼Œæ•°æ®æ‹Ÿåˆå’Œç±»ä¼¼æœ€å°äºŒä¹˜æ³•çš„è¯¯å·®åˆ†æï¼›</p><p><img src="/2020/06/02/å¦‚ä½•æ­å»ºæ„ŸçŸ¥å™¨å¹¶ä½¿ç”¨å…¶è¿›è¡Œåˆ†ç±»/1.png" alt></p><p>ä¸ºäº†ä½¿æ‹Ÿåˆæˆ–åˆ†ç±»æ•ˆæœæœ€å¥½ï¼Œéœ€è¦æ±‚ä¸€ç»„$\omega$,è¦æ±‚æ–¹å·®æœ€å°å³ä¸‹å¼æœ€å°ï¼š$\widehat y$ä¸ºé¢„æµ‹æ•°æ®ï¼Œ${(i)}$ä¸ºç¬¬iä¸ªæ ·æœ¬ï¼Œä¸‹æ ‡ä¸ºç‰¹å¾</p><p>$$<br>\begin{equation}<br>J(\boldsymbol{w})=\frac{1}{2} \sum_{i}\left(y^{(i)}-\widehat y^{(i)}\right)^{2}<br>\end{equation}<br>$$</p><p>çº¿æ€§å›å½’æˆ–é€»è¾‘å›å½’å¾—ç›®çš„æ˜¯æ ¹æ®å·²æœ‰æ•°æ®å‘ç°è§„å¾‹æˆ–ç°è±¡ï¼Œå»ºç«‹ç›¸åº”å¾—æ¨¡å‹ï¼Œæœ€ç»ˆç›®çš„æ˜¯åˆ©ç”¨æ¨¡å‹è¿›è¡Œé¢„æµ‹ï¼›æœºå™¨å­¦ä¹ ç®—æ³•å°±æ˜¯ä¸€ç§äº‹ç‰©è§„å¾‹å»ºæ¨¡æŠ€æœ¯ã€‚è®­ç»ƒæœºå™¨å­¦ä¹ ç®—æ³•ï¼Œå¹¶ç”¨å…¶å¯¹æ–°çš„æ•°æ®è¿›è¡Œé¢„æµ‹æˆ–åˆ†ç±»ã€‚</p><p><img src="/2020/06/02/å¦‚ä½•æ­å»ºæ„ŸçŸ¥å™¨å¹¶ä½¿ç”¨å…¶è¿›è¡Œåˆ†ç±»/image-20200602220300807.png" alt="image-20200602220300807"></p><p><img src="/2020/06/02/å¦‚ä½•æ­å»ºæ„ŸçŸ¥å™¨å¹¶ä½¿ç”¨å…¶è¿›è¡Œåˆ†ç±»/image-20200602220058431.png" alt="image-20200602220058431"></p><p>æœºå™¨å­¦ä¹ ç®—æ³•çš„æ ¸å¿ƒæ—¢æ˜¯è·å¾—è¾ƒåˆç†çš„$\omega$, è¦æƒ³è·å¾—$\omega$å°±éœ€è¦åˆ©ç”¨æ•°æ®é›†å¯¹ç®—æ³•è¿›è¡Œè®­ç»ƒã€‚æ ·æœ¬æ•°æ®è¾“å…¥ï¼Œé¢„æµ‹å€¼$\widehat y$ä¸å®é™…å€¼ä¹‹é—´ä¼šæœ‰åå·®ã€‚è¦æ±‚è®­ç»ƒæ ·æœ¬è¶³å¤Ÿå¤šçš„æƒ…å†µä¸‹ï¼Œåå·®å˜å°ï¼Œé€æ¸æ”¶æ•›ã€‚é‚£ä¹ˆï¼Œæ¯ä¸ªè®­ç»ƒæ ·æœ¬è¿›è¡Œè®­ç»ƒæ—¶ï¼Œå‡éœ€å¯¹æƒé‡å› å­è¿›è¡Œæ›´æ–°ã€‚</p><p>$$<br>w_{j}:=w_{j}+\Delta w_{j}\<br>$$</p><h3 id="ğŸš²æœ€ç®€å•çš„æ„ŸçŸ¥æœº"><a href="#ğŸš²æœ€ç®€å•çš„æ„ŸçŸ¥æœº" class="headerlink" title="ğŸš²æœ€ç®€å•çš„æ„ŸçŸ¥æœº"></a>ğŸš²æœ€ç®€å•çš„æ„ŸçŸ¥æœº</h3><p>æƒé‡æ›´æ–°æ–¹æ³•å¦‚ä¸‹<br>$$<br>\begin{equation}\Delta w_{j}=\eta\left(y^{(i)}-\hat{y}^{(i)}\right) x_{j}^{(i)}\end{equation}<br>$$<br>å…¶ä¸­ï¼Œ$\eta$æˆä¸ºå­¦ä¹ ç‡<br><img src="/2020/06/02/å¦‚ä½•æ­å»ºæ„ŸçŸ¥å™¨å¹¶ä½¿ç”¨å…¶è¿›è¡Œåˆ†ç±»/2.png" alt></p><h3 id="ğŸ›´è‡ªé€‚åº”çº¿æ€§ç¥ç»å…ƒä¸å­¦ä¹ çš„æ”¶æ•›æ€§"><a href="#ğŸ›´è‡ªé€‚åº”çº¿æ€§ç¥ç»å…ƒä¸å­¦ä¹ çš„æ”¶æ•›æ€§" class="headerlink" title="ğŸ›´è‡ªé€‚åº”çº¿æ€§ç¥ç»å…ƒä¸å­¦ä¹ çš„æ”¶æ•›æ€§"></a>ğŸ›´è‡ªé€‚åº”çº¿æ€§ç¥ç»å…ƒä¸å­¦ä¹ çš„æ”¶æ•›æ€§</h3><p>å…¶é‡‡ç”¨çº¿æ€§æ¿€æ´»å‡½æ•°$\phi(z)=z$ï¼Œé‚£ä¹ˆï¼›<br><img src="/2020/06/02/å¦‚ä½•æ­å»ºæ„ŸçŸ¥å™¨å¹¶ä½¿ç”¨å…¶è¿›è¡Œåˆ†ç±»/3.png" alt><br><img src="/2020/06/02/å¦‚ä½•æ­å»ºæ„ŸçŸ¥å™¨å¹¶ä½¿ç”¨å…¶è¿›è¡Œåˆ†ç±»/image-20200602223450727.png" alt="image-20200602223450727"></p><p>æƒé‡æ›´æ–°é‡‡ç”¨æ¢¯åº¦ä¸‹é™æ³•ï¼š<br><img src="/2020/06/02/å¦‚ä½•æ­å»ºæ„ŸçŸ¥å™¨å¹¶ä½¿ç”¨å…¶è¿›è¡Œåˆ†ç±»/4.png" alt></p><h2 id="ğŸœå¦‚ä½•æ­å»ºæ„ŸçŸ¥æœºå¹¶è¿›è¡Œåˆ†ç±»ï¼Ÿ"><a href="#ğŸœå¦‚ä½•æ­å»ºæ„ŸçŸ¥æœºå¹¶è¿›è¡Œåˆ†ç±»ï¼Ÿ" class="headerlink" title="ğŸœå¦‚ä½•æ­å»ºæ„ŸçŸ¥æœºå¹¶è¿›è¡Œåˆ†ç±»ï¼Ÿ"></a>ğŸœå¦‚ä½•æ­å»ºæ„ŸçŸ¥æœºå¹¶è¿›è¡Œåˆ†ç±»ï¼Ÿ</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># coding: utf-8</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> matplotlib.colors <span class="keyword">import</span> ListedColormap</span><br><span class="line"></span><br><span class="line"><span class="comment"># # Implementing a perceptron learning algorithm in Python</span></span><br><span class="line"><span class="comment"># ## An object-oriented perceptron API</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Perceptron</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="string">"""Perceptron classifier.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Parameters</span></span><br><span class="line"><span class="string">    ------------</span></span><br><span class="line"><span class="string">    eta : float</span></span><br><span class="line"><span class="string">      Learning rate (between 0.0 and 1.0)</span></span><br><span class="line"><span class="string">    n_iter : int</span></span><br><span class="line"><span class="string">      Passes over the training dataset.</span></span><br><span class="line"><span class="string">    random_state : int</span></span><br><span class="line"><span class="string">      Random number generator seed for random weight</span></span><br><span class="line"><span class="string">      initialization.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Attributes</span></span><br><span class="line"><span class="string">    -----------</span></span><br><span class="line"><span class="string">    w_ : 1d-array</span></span><br><span class="line"><span class="string">      Weights after fitting.</span></span><br><span class="line"><span class="string">    errors_ : list</span></span><br><span class="line"><span class="string">      Number of misclassifications (updates) in each epoch.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, eta=<span class="number">0.01</span>, n_iter=<span class="number">50</span>, random_state=<span class="number">1</span>)</span>:</span></span><br><span class="line">        self.eta = eta</span><br><span class="line">        self.n_iter = n_iter</span><br><span class="line">        self.random_state = random_state</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">fit</span><span class="params">(self, X, y)</span>:</span></span><br><span class="line">        <span class="string">"""Fit training data.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        Parameters</span></span><br><span class="line"><span class="string">        ----------</span></span><br><span class="line"><span class="string">        X : &#123;array-like&#125;, shape = [n_samples, n_features]</span></span><br><span class="line"><span class="string">          Training vectors, where n_samples is the number of samples and</span></span><br><span class="line"><span class="string">          n_features is the number of features.</span></span><br><span class="line"><span class="string">        y : array-like, shape = [n_samples]</span></span><br><span class="line"><span class="string">          Target values.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        Returns</span></span><br><span class="line"><span class="string">        -------</span></span><br><span class="line"><span class="string">        self : object</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        rgen = np.random.RandomState(self.random_state)</span><br><span class="line">        self.w_ = rgen.normal(loc=<span class="number">0.0</span>, scale=<span class="number">0.01</span>, size=<span class="number">1</span> + X.shape[<span class="number">1</span>])</span><br><span class="line">        self.errors_ = []</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> _ <span class="keyword">in</span> range(self.n_iter):</span><br><span class="line">            errors = <span class="number">0</span></span><br><span class="line">            <span class="keyword">for</span> xi, target <span class="keyword">in</span> zip(X, y):</span><br><span class="line">                update = self.eta * (target - self.predict(xi))</span><br><span class="line">                self.w_[<span class="number">1</span>:] += update * xi</span><br><span class="line">                self.w_[<span class="number">0</span>] += update</span><br><span class="line">                errors += int(update != <span class="number">0.0</span>)</span><br><span class="line">            self.errors_.append(errors)</span><br><span class="line">        <span class="keyword">return</span> self</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">net_input</span><span class="params">(self, X)</span>:</span></span><br><span class="line">        <span class="string">"""Calculate net input"""</span></span><br><span class="line">        <span class="keyword">return</span> np.dot(X, self.w_[<span class="number">1</span>:]) + self.w_[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">predict</span><span class="params">(self, X)</span>:</span></span><br><span class="line">        <span class="string">"""Return class label after unit step"""</span></span><br><span class="line">        <span class="keyword">return</span> np.where(self.net_input(X) &gt;= <span class="number">0.0</span>, <span class="number">1</span>, <span class="number">-1</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ## Training a perceptron model on the Iris dataset</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ...</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ### Reading-in the Iris data</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">df = pd.read_csv(<span class="string">'https://archive.ics.uci.edu/ml/'</span></span><br><span class="line">        <span class="string">'machine-learning-databases/iris/iris.data'</span>, header=<span class="literal">None</span>)</span><br><span class="line">df.tail()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># </span></span><br><span class="line"><span class="comment"># ### Note:</span></span><br><span class="line"><span class="comment"># </span></span><br><span class="line"><span class="comment"># </span></span><br><span class="line"><span class="comment"># You can find a copy of the Iris dataset (and all other datasets used in this book) in the code bundle of this book, which you can use if you are working offline or the UCI server at https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data is temporarily unavailable. For instance, to load the Iris dataset from a local directory, you can replace the line </span></span><br><span class="line"><span class="comment"># </span></span><br><span class="line"><span class="comment">#     df = pd.read_csv('https://archive.ics.uci.edu/ml/'</span></span><br><span class="line"><span class="comment">#         'machine-learning-databases/iris/iris.data', header=None)</span></span><br><span class="line"><span class="comment">#  </span></span><br><span class="line"><span class="comment"># by</span></span><br><span class="line"><span class="comment">#  </span></span><br><span class="line"><span class="comment">#     df = pd.read_csv('your/local/path/to/iris.data', header=None)</span></span><br><span class="line"><span class="comment"># </span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">df = pd.read_csv(<span class="string">'iris.data'</span>, header=<span class="literal">None</span>)</span><br><span class="line">df.tail()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ### Plotting the Iris data</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># select setosa and versicolor</span></span><br><span class="line">y = df.iloc[<span class="number">0</span>:<span class="number">100</span>, <span class="number">4</span>].values</span><br><span class="line">y = np.where(y == <span class="string">'Iris-setosa'</span>, <span class="number">-1</span>, <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># extract sepal length and petal length</span></span><br><span class="line">X = df.iloc[<span class="number">0</span>:<span class="number">100</span>, [<span class="number">0</span>, <span class="number">2</span>]].values</span><br><span class="line"></span><br><span class="line"><span class="comment"># plot data</span></span><br><span class="line">plt.scatter(X[:<span class="number">50</span>, <span class="number">0</span>], X[:<span class="number">50</span>, <span class="number">1</span>],</span><br><span class="line">            color=<span class="string">'red'</span>, marker=<span class="string">'o'</span>, label=<span class="string">'setosa'</span>)</span><br><span class="line">plt.scatter(X[<span class="number">50</span>:<span class="number">100</span>, <span class="number">0</span>], X[<span class="number">50</span>:<span class="number">100</span>, <span class="number">1</span>],</span><br><span class="line">            color=<span class="string">'blue'</span>, marker=<span class="string">'x'</span>, label=<span class="string">'versicolor'</span>)</span><br><span class="line"></span><br><span class="line">plt.xlabel(<span class="string">'sepal length [cm]'</span>)</span><br><span class="line">plt.ylabel(<span class="string">'petal length [cm]'</span>)</span><br><span class="line">plt.legend(loc=<span class="string">'upper left'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># plt.savefig('images/02_06.png', dpi=300)</span></span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ### Training the perceptron model</span></span><br><span class="line">ppn = Perceptron(eta=<span class="number">0.1</span>, n_iter=<span class="number">10</span>)</span><br><span class="line">ppn.fit(X, y)</span><br><span class="line">plt.plot(range(<span class="number">1</span>, len(ppn.errors_) + <span class="number">1</span>), ppn.errors_, marker=<span class="string">'o'</span>)</span><br><span class="line">plt.xlabel(<span class="string">'Epochs'</span>)</span><br><span class="line">plt.ylabel(<span class="string">'Number of updates'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># plt.savefig('images/02_07.png', dpi=300)</span></span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line"><span class="comment"># ### A function for plotting decision regions</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">plot_decision_regions</span><span class="params">(X, y, classifier, resolution=<span class="number">0.02</span>)</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># setup marker generator and color map</span></span><br><span class="line">    markers = (<span class="string">'s'</span>, <span class="string">'x'</span>, <span class="string">'o'</span>, <span class="string">'^'</span>, <span class="string">'v'</span>)</span><br><span class="line">    colors = (<span class="string">'red'</span>, <span class="string">'blue'</span>, <span class="string">'lightgreen'</span>, <span class="string">'gray'</span>, <span class="string">'cyan'</span>)</span><br><span class="line">    cmap = ListedColormap(colors[:len(np.unique(y))])</span><br><span class="line"></span><br><span class="line">    <span class="comment"># plot the decision surface</span></span><br><span class="line">    x1_min, x1_max = X[:, <span class="number">0</span>].min() - <span class="number">1</span>, X[:, <span class="number">0</span>].max() + <span class="number">1</span></span><br><span class="line">    x2_min, x2_max = X[:, <span class="number">1</span>].min() - <span class="number">1</span>, X[:, <span class="number">1</span>].max() + <span class="number">1</span></span><br><span class="line">    xx1, xx2 = np.meshgrid(np.arange(x1_min, x1_max, resolution),</span><br><span class="line">                           np.arange(x2_min, x2_max, resolution))</span><br><span class="line">    Z = classifier.predict(np.array([xx1.ravel(), xx2.ravel()]).T)</span><br><span class="line">    Z = Z.reshape(xx1.shape)</span><br><span class="line">    plt.contourf(xx1, xx2, Z, alpha=<span class="number">0.3</span>, cmap=cmap)</span><br><span class="line">    plt.xlim(xx1.min(), xx1.max())</span><br><span class="line">    plt.ylim(xx2.min(), xx2.max())</span><br><span class="line"></span><br><span class="line">    <span class="comment"># plot class samples</span></span><br><span class="line">    <span class="keyword">for</span> idx, cl <span class="keyword">in</span> enumerate(np.unique(y)):</span><br><span class="line">        plt.scatter(x=X[y == cl, <span class="number">0</span>], </span><br><span class="line">                    y=X[y == cl, <span class="number">1</span>],</span><br><span class="line">                    alpha=<span class="number">0.8</span>, </span><br><span class="line">                    c=colors[idx],</span><br><span class="line">                    marker=markers[idx], </span><br><span class="line">                    label=cl, </span><br><span class="line">                    edgecolor=<span class="string">'black'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">plot_decision_regions(X, y, classifier=ppn)</span><br><span class="line">plt.xlabel(<span class="string">'sepal length [cm]'</span>)</span><br><span class="line">plt.ylabel(<span class="string">'petal length [cm]'</span>)</span><br><span class="line">plt.legend(loc=<span class="string">'upper left'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># plt.savefig('images/02_08.png', dpi=300)</span></span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#################################################################</span></span><br><span class="line"><span class="comment">## Adaptive linear neurons and the convergence of learning</span></span><br><span class="line"><span class="comment"># ...</span></span><br><span class="line"><span class="comment"># ## Minimizing cost functions with gradient descent</span></span><br><span class="line"><span class="comment"># ## Implementing an adaptive linear neuron in Python</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AdalineGD</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="string">"""ADAptive LInear NEuron classifier.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Parameters</span></span><br><span class="line"><span class="string">    ------------</span></span><br><span class="line"><span class="string">    eta : float</span></span><br><span class="line"><span class="string">      Learning rate (between 0.0 and 1.0)</span></span><br><span class="line"><span class="string">    n_iter : int</span></span><br><span class="line"><span class="string">      Passes over the training dataset.</span></span><br><span class="line"><span class="string">    random_state : int</span></span><br><span class="line"><span class="string">      Random number generator seed for random weight</span></span><br><span class="line"><span class="string">      initialization.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Attributes</span></span><br><span class="line"><span class="string">    -----------</span></span><br><span class="line"><span class="string">    w_ : 1d-array</span></span><br><span class="line"><span class="string">      Weights after fitting.</span></span><br><span class="line"><span class="string">    cost_ : list</span></span><br><span class="line"><span class="string">      Sum-of-squares cost function value in each epoch.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, eta=<span class="number">0.01</span>, n_iter=<span class="number">50</span>, random_state=<span class="number">1</span>)</span>:</span></span><br><span class="line">        self.eta = eta</span><br><span class="line">        self.n_iter = n_iter</span><br><span class="line">        self.random_state = random_state</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">fit</span><span class="params">(self, X, y)</span>:</span></span><br><span class="line">        <span class="string">""" Fit training data.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        Parameters</span></span><br><span class="line"><span class="string">        ----------</span></span><br><span class="line"><span class="string">        X : &#123;array-like&#125;, shape = [n_samples, n_features]</span></span><br><span class="line"><span class="string">          Training vectors, where n_samples is the number of samples and</span></span><br><span class="line"><span class="string">          n_features is the number of features.</span></span><br><span class="line"><span class="string">        y : array-like, shape = [n_samples]</span></span><br><span class="line"><span class="string">          Target values.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        Returns</span></span><br><span class="line"><span class="string">        -------</span></span><br><span class="line"><span class="string">        self : object</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        rgen = np.random.RandomState(self.random_state)</span><br><span class="line">        self.w_ = rgen.normal(loc=<span class="number">0.0</span>, scale=<span class="number">0.01</span>, size=<span class="number">1</span> + X.shape[<span class="number">1</span>])</span><br><span class="line">        self.cost_ = []</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(self.n_iter):</span><br><span class="line">            net_input = self.net_input(X)</span><br><span class="line">            <span class="comment"># Please note that the "activation" method has no effect</span></span><br><span class="line">            <span class="comment"># in the code since it is simply an identity function. We</span></span><br><span class="line">            <span class="comment"># could write `output = self.net_input(X)` directly instead.</span></span><br><span class="line">            <span class="comment"># The purpose of the activation is more conceptual, i.e.,  </span></span><br><span class="line">            <span class="comment"># in the case of logistic regression (as we will see later), </span></span><br><span class="line">            <span class="comment"># we could change it to</span></span><br><span class="line">            <span class="comment"># a sigmoid function to implement a logistic regression classifier.</span></span><br><span class="line">            output = self.activation(net_input)</span><br><span class="line">            errors = (y - output)</span><br><span class="line">            self.w_[<span class="number">1</span>:] += self.eta * X.T.dot(errors)</span><br><span class="line">            self.w_[<span class="number">0</span>] += self.eta * errors.sum()</span><br><span class="line">            cost = (errors**<span class="number">2</span>).sum() / <span class="number">2.0</span></span><br><span class="line">            self.cost_.append(cost)</span><br><span class="line">        <span class="keyword">return</span> self</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">net_input</span><span class="params">(self, X)</span>:</span></span><br><span class="line">        <span class="string">"""Calculate net input"""</span></span><br><span class="line">        <span class="keyword">return</span> np.dot(X, self.w_[<span class="number">1</span>:]) + self.w_[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">activation</span><span class="params">(self, X)</span>:</span></span><br><span class="line">        <span class="string">"""Compute linear activation"""</span></span><br><span class="line">        <span class="keyword">return</span> X</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">predict</span><span class="params">(self, X)</span>:</span></span><br><span class="line">        <span class="string">"""Return class label after unit step"""</span></span><br><span class="line">        <span class="keyword">return</span> np.where(self.activation(self.net_input(X)) &gt;= <span class="number">0.0</span>, <span class="number">1</span>, <span class="number">-1</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">fig, ax = plt.subplots(nrows=<span class="number">1</span>, ncols=<span class="number">2</span>, figsize=(<span class="number">10</span>, <span class="number">4</span>))</span><br><span class="line"></span><br><span class="line">ada1 = AdalineGD(n_iter=<span class="number">10</span>, eta=<span class="number">0.01</span>).fit(X, y)</span><br><span class="line">ax[<span class="number">0</span>].plot(range(<span class="number">1</span>, len(ada1.cost_) + <span class="number">1</span>), np.log10(ada1.cost_), marker=<span class="string">'o'</span>)</span><br><span class="line">ax[<span class="number">0</span>].set_xlabel(<span class="string">'Epochs'</span>)</span><br><span class="line">ax[<span class="number">0</span>].set_ylabel(<span class="string">'log(Sum-squared-error)'</span>)</span><br><span class="line">ax[<span class="number">0</span>].set_title(<span class="string">'Adaline - Learning rate 0.01'</span>)</span><br><span class="line"></span><br><span class="line">ada2 = AdalineGD(n_iter=<span class="number">10</span>, eta=<span class="number">0.0001</span>).fit(X, y)</span><br><span class="line">ax[<span class="number">1</span>].plot(range(<span class="number">1</span>, len(ada2.cost_) + <span class="number">1</span>), ada2.cost_, marker=<span class="string">'o'</span>)</span><br><span class="line">ax[<span class="number">1</span>].set_xlabel(<span class="string">'Epochs'</span>)</span><br><span class="line">ax[<span class="number">1</span>].set_ylabel(<span class="string">'Sum-squared-error'</span>)</span><br><span class="line">ax[<span class="number">1</span>].set_title(<span class="string">'Adaline - Learning rate 0.0001'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># plt.savefig('images/02_11.png', dpi=300)</span></span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ## Improving gradient descent through feature scaling</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># standardize features</span></span><br><span class="line">X_std = np.copy(X)</span><br><span class="line">X_std[:, <span class="number">0</span>] = (X[:, <span class="number">0</span>] - X[:, <span class="number">0</span>].mean()) / X[:, <span class="number">0</span>].std()</span><br><span class="line">X_std[:, <span class="number">1</span>] = (X[:, <span class="number">1</span>] - X[:, <span class="number">1</span>].mean()) / X[:, <span class="number">1</span>].std()</span><br><span class="line"></span><br><span class="line">ada = AdalineGD(n_iter=<span class="number">15</span>, eta=<span class="number">0.01</span>)</span><br><span class="line">ada.fit(X_std, y)</span><br><span class="line"></span><br><span class="line">plot_decision_regions(X_std, y, classifier=ada)</span><br><span class="line">plt.title(<span class="string">'Adaline - Gradient Descent'</span>)</span><br><span class="line">plt.xlabel(<span class="string">'sepal length [standardized]'</span>)</span><br><span class="line">plt.ylabel(<span class="string">'petal length [standardized]'</span>)</span><br><span class="line">plt.legend(loc=<span class="string">'upper left'</span>)</span><br><span class="line">plt.tight_layout()</span><br><span class="line"><span class="comment"># plt.savefig('images/02_14_1.png', dpi=300)</span></span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line">plt.plot(range(<span class="number">1</span>, len(ada.cost_) + <span class="number">1</span>), ada.cost_, marker=<span class="string">'o'</span>)</span><br><span class="line">plt.xlabel(<span class="string">'Epochs'</span>)</span><br><span class="line">plt.ylabel(<span class="string">'Sum-squared-error'</span>)</span><br><span class="line"></span><br><span class="line">plt.tight_layout()</span><br><span class="line"><span class="comment"># plt.savefig('images/02_14_2.png', dpi=300)</span></span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ## Large scale machine learning and stochastic gradient descent</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AdalineSGD</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="string">"""ADAptive LInear NEuron classifier.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Parameters</span></span><br><span class="line"><span class="string">    ------------</span></span><br><span class="line"><span class="string">    eta : float</span></span><br><span class="line"><span class="string">      Learning rate (between 0.0 and 1.0)</span></span><br><span class="line"><span class="string">    n_iter : int</span></span><br><span class="line"><span class="string">      Passes over the training dataset.</span></span><br><span class="line"><span class="string">    shuffle : bool (default: True)</span></span><br><span class="line"><span class="string">      Shuffles training data every epoch if True to prevent cycles.</span></span><br><span class="line"><span class="string">    random_state : int</span></span><br><span class="line"><span class="string">      Random number generator seed for random weight</span></span><br><span class="line"><span class="string">      initialization.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Attributes</span></span><br><span class="line"><span class="string">    -----------</span></span><br><span class="line"><span class="string">    w_ : 1d-array</span></span><br><span class="line"><span class="string">      Weights after fitting.</span></span><br><span class="line"><span class="string">    cost_ : list</span></span><br><span class="line"><span class="string">      Sum-of-squares cost function value averaged over all</span></span><br><span class="line"><span class="string">      training samples in each epoch.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        </span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, eta=<span class="number">0.01</span>, n_iter=<span class="number">10</span>, shuffle=True, random_state=None)</span>:</span></span><br><span class="line">        self.eta = eta</span><br><span class="line">        self.n_iter = n_iter</span><br><span class="line">        self.w_initialized = <span class="literal">False</span></span><br><span class="line">        self.shuffle = shuffle</span><br><span class="line">        self.random_state = random_state</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">fit</span><span class="params">(self, X, y)</span>:</span></span><br><span class="line">        <span class="string">""" Fit training data.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        Parameters</span></span><br><span class="line"><span class="string">        ----------</span></span><br><span class="line"><span class="string">        X : &#123;array-like&#125;, shape = [n_samples, n_features]</span></span><br><span class="line"><span class="string">          Training vectors, where n_samples is the number of samples and</span></span><br><span class="line"><span class="string">          n_features is the number of features.</span></span><br><span class="line"><span class="string">        y : array-like, shape = [n_samples]</span></span><br><span class="line"><span class="string">          Target values.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        Returns</span></span><br><span class="line"><span class="string">        -------</span></span><br><span class="line"><span class="string">        self : object</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        self._initialize_weights(X.shape[<span class="number">1</span>])</span><br><span class="line">        self.cost_ = []</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(self.n_iter):</span><br><span class="line">            <span class="keyword">if</span> self.shuffle:</span><br><span class="line">                X, y = self._shuffle(X, y)</span><br><span class="line">            cost = []</span><br><span class="line">            <span class="keyword">for</span> xi, target <span class="keyword">in</span> zip(X, y):</span><br><span class="line">                cost.append(self._update_weights(xi, target))</span><br><span class="line">            avg_cost = sum(cost) / len(y)</span><br><span class="line">            self.cost_.append(avg_cost)</span><br><span class="line">        <span class="keyword">return</span> self</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">partial_fit</span><span class="params">(self, X, y)</span>:</span></span><br><span class="line">        <span class="string">"""Fit training data without reinitializing the weights"""</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> self.w_initialized:</span><br><span class="line">            self._initialize_weights(X.shape[<span class="number">1</span>])</span><br><span class="line">        <span class="keyword">if</span> y.ravel().shape[<span class="number">0</span>] &gt; <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">for</span> xi, target <span class="keyword">in</span> zip(X, y):</span><br><span class="line">                self._update_weights(xi, target)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            self._update_weights(X, y)</span><br><span class="line">        <span class="keyword">return</span> self</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_shuffle</span><span class="params">(self, X, y)</span>:</span></span><br><span class="line">        <span class="string">"""Shuffle training data"""</span></span><br><span class="line">        r = self.rgen.permutation(len(y))</span><br><span class="line">        <span class="keyword">return</span> X[r], y[r]</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_initialize_weights</span><span class="params">(self, m)</span>:</span></span><br><span class="line">        <span class="string">"""Initialize weights to small random numbers"""</span></span><br><span class="line">        self.rgen = np.random.RandomState(self.random_state)</span><br><span class="line">        self.w_ = self.rgen.normal(loc=<span class="number">0.0</span>, scale=<span class="number">0.01</span>, size=<span class="number">1</span> + m)</span><br><span class="line">        self.w_initialized = <span class="literal">True</span></span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_update_weights</span><span class="params">(self, xi, target)</span>:</span></span><br><span class="line">        <span class="string">"""Apply Adaline learning rule to update the weights"""</span></span><br><span class="line">        output = self.activation(self.net_input(xi))</span><br><span class="line">        error = (target - output)</span><br><span class="line">        self.w_[<span class="number">1</span>:] += self.eta * xi.dot(error)</span><br><span class="line">        self.w_[<span class="number">0</span>] += self.eta * error</span><br><span class="line">        cost = <span class="number">0.5</span> * error**<span class="number">2</span></span><br><span class="line">        <span class="keyword">return</span> cost</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">net_input</span><span class="params">(self, X)</span>:</span></span><br><span class="line">        <span class="string">"""Calculate net input"""</span></span><br><span class="line">        <span class="keyword">return</span> np.dot(X, self.w_[<span class="number">1</span>:]) + self.w_[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">activation</span><span class="params">(self, X)</span>:</span></span><br><span class="line">        <span class="string">"""Compute linear activation"""</span></span><br><span class="line">        <span class="keyword">return</span> X</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">predict</span><span class="params">(self, X)</span>:</span></span><br><span class="line">        <span class="string">"""Return class label after unit step"""</span></span><br><span class="line">        <span class="keyword">return</span> np.where(self.activation(self.net_input(X)) &gt;= <span class="number">0.0</span>, <span class="number">1</span>, <span class="number">-1</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ada = AdalineSGD(n_iter=<span class="number">15</span>, eta=<span class="number">0.01</span>, random_state=<span class="number">1</span>)</span><br><span class="line">ada.fit(X_std, y)</span><br><span class="line"></span><br><span class="line">plot_decision_regions(X_std, y, classifier=ada)</span><br><span class="line">plt.title(<span class="string">'Adaline - Stochastic Gradient Descent'</span>)</span><br><span class="line">plt.xlabel(<span class="string">'sepal length [standardized]'</span>)</span><br><span class="line">plt.ylabel(<span class="string">'petal length [standardized]'</span>)</span><br><span class="line">plt.legend(loc=<span class="string">'upper left'</span>)</span><br><span class="line"></span><br><span class="line">plt.tight_layout()</span><br><span class="line"><span class="comment"># plt.savefig('images/02_15_1.png', dpi=300)</span></span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line">plt.plot(range(<span class="number">1</span>, len(ada.cost_) + <span class="number">1</span>), ada.cost_, marker=<span class="string">'o'</span>)</span><br><span class="line">plt.xlabel(<span class="string">'Epochs'</span>)</span><br><span class="line">plt.ylabel(<span class="string">'Average Cost'</span>)</span><br><span class="line"></span><br><span class="line">plt.tight_layout()</span><br><span class="line"><span class="comment"># plt.savefig('images/02_15_2.png', dpi=300)</span></span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line">ada.partial_fit(X_std[<span class="number">0</span>, :], y[<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># # Summary</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ...</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># --- </span></span><br><span class="line"><span class="comment"># </span></span><br><span class="line"><span class="comment"># Readers may ignore the following cell</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      ç¥ç»å…ƒä¸æœºå™¨å­¦ä¹ æ„ŸçŸ¥å™¨
    
    </summary>
    
    
      <category term="æœºå™¨å­¦ä¹ " scheme="https://Hubery-Lee.github.io/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="æ„ŸçŸ¥å™¨" scheme="https://Hubery-Lee.github.io/tags/%E6%84%9F%E7%9F%A5%E5%99%A8/"/>
    
      <category term="ç¥ç»å…ƒ" scheme="https://Hubery-Lee.github.io/tags/%E7%A5%9E%E7%BB%8F%E5%85%83/"/>
    
  </entry>
  
  <entry>
    <title>äºŒç»´å›¾åƒé‡å»ºçš„ä¸€èˆ¬æµç¨‹</title>
    <link href="https://hubery-lee.github.io/2020/06/02/%E4%BA%8C%E7%BB%B4%E5%9B%BE%E5%83%8F%E9%87%8D%E5%BB%BA%E7%9A%84%E4%B8%80%E8%88%AC%E6%B5%81%E7%A8%8B/"/>
    <id>https://hubery-lee.github.io/2020/06/02/%E4%BA%8C%E7%BB%B4%E5%9B%BE%E5%83%8F%E9%87%8D%E5%BB%BA%E7%9A%84%E4%B8%80%E8%88%AC%E6%B5%81%E7%A8%8B/</id>
    <published>2020-06-02T15:01:15.000Z</published>
    <updated>2020-07-12T16:32:49.772Z</updated>
    
    <content type="html"><![CDATA[<h1 id="äºŒç»´å›¾åƒé‡å»ºçš„ä¸€èˆ¬æµç¨‹"><a href="#äºŒç»´å›¾åƒé‡å»ºçš„ä¸€èˆ¬æµç¨‹" class="headerlink" title="äºŒç»´å›¾åƒé‡å»ºçš„ä¸€èˆ¬æµç¨‹"></a>äºŒç»´å›¾åƒé‡å»ºçš„ä¸€èˆ¬æµç¨‹</h1><p>[toc]</p><h2 id="â“ä»€ä¹ˆæ˜¯å›¾åƒé‡å»ºï¼Ÿ"><a href="#â“ä»€ä¹ˆæ˜¯å›¾åƒé‡å»ºï¼Ÿ" class="headerlink" title="â“ä»€ä¹ˆæ˜¯å›¾åƒé‡å»ºï¼Ÿ"></a>â“ä»€ä¹ˆæ˜¯å›¾åƒé‡å»ºï¼Ÿ</h2><p>æ–­å±‚æˆåƒé¡¾åæ€ä¹‰å°±æ˜¯è¦å¾—åˆ°ä¸€ä¸ªç‰©ä½“å†…éƒ¨çš„æˆªé¢å›¾åƒã€‚æ¯”å¦‚ä½ æƒ³çŸ¥é“è¥¿ç“œé‡Œé¢æ˜¯ä»€ä¹ˆæ ·çš„ï¼Œæœ€ç®€å•çš„åŠæ³•å°±æ˜¯æŠŠè¥¿ç“œåˆ‡å¼€ (å›¾1.1)ã€‚æ˜¾ç„¶å¯¹ç—…äººæ¥è¯´ï¼Œè¿™æ˜¯ä¸‡ä¸å¯è¡Œä¹‹ä¸¾ã€‚æˆ‘ä»¬çœŸæƒ³æœ‰ä¸ªåŠæ³•ï¼Œä¸ç”¨åŠ¨åˆ€ï¼Œå°±å¯æŠŠç—…äººå†…éƒ¨çœ‹å¾—æ¸…æ¸…æ¥šæ¥šã€‚</p><p>å¦ä¸€ä¸ªä¾‹å­ã€‚ä½ æƒ³åˆ°ä¸€ä¸ªç¾ä¸½çš„è¡—å¿ƒå…¬å›­å»å‚è§‚ã€‚å¯æƒœï¼Œå…¬å›­æ­£åœ¨ç»´ä¿®ï¼Œæ¸¸äººä¸å¾—å…¥å†…ã€‚ä½ åªå¥½åœ¨å…¬å›­çš„å¤–å›´èµ°èµ°ï¼Œæ‹å‡ å¼ ç…§ç‰‡ã€‚å…¬å›­<br>å†…æœ‰ä¸¤æ£µå‚å¤©å¤§æ ‘ï¼Œæä¸ºå£®è§‚ã€‚ä½ åœ¨å…¬å›­çš„ä¸œé¢å’Œå—é¢å¯¹å…¬å›­æ‹äº†ç…§ ï¼Œé¢‡ä¸ºæ»¡æ„ã€‚å›åˆ°å®¶åï¼Œä½ ç”¨ä½ çš„å¾—æ„ç…§ç‰‡ï¼Œå±…ç„¶ç”»å‡ºäº†å…¬å›­åœ°å›¾ï¼Œå¹¶ç¡®å®šäº†é‚£ä¸¤æ£µæ ‘çš„ä½ç½® (å›¾1.2å³)ã€‚å…¶å®ï¼Œè¦ç¡®å®šé‚£ä¸¤æ£µæ ‘çš„ä½ç½®å¹¶ä¸éš¾ã€‚ä½ åªè¦æŠŠé‚£ä¸¤å¼ ç…§ç‰‡æŒ‰åŸæœ¬çš„æ–¹ä½æ”¾å¥½ã€‚ä»ç…§ç‰‡ä¸Šçš„æ¯æ£µæ ‘ç”»å‡ºä¸€æ¡å‚çº¿ã€‚</p><p><img src="/2020/06/02/äºŒç»´å›¾åƒé‡å»ºçš„ä¸€èˆ¬æµç¨‹/image-20200601090416943.png" alt="image-20200601090416943"><img src="/2020/06/02/äºŒç»´å›¾åƒé‡å»ºçš„ä¸€èˆ¬æµç¨‹/image-20200601090501929.png" alt="image-20200601090501929"></p><h2 id="ğŸ’«å›¾åƒé‡å»ºçš„ç®—æ³•æ€æƒ³æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#ğŸ’«å›¾åƒé‡å»ºçš„ç®—æ³•æ€æƒ³æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="ğŸ’«å›¾åƒé‡å»ºçš„ç®—æ³•æ€æƒ³æ˜¯ä»€ä¹ˆï¼Ÿ"></a>ğŸ’«å›¾åƒé‡å»ºçš„ç®—æ³•æ€æƒ³æ˜¯ä»€ä¹ˆï¼Ÿ</h2><p>æ–­å±‚æˆåƒæ˜¯ä¸ªæ•°å­¦é—®é¢˜ã€‚è®©æˆ‘ä»¬ä¸€èµ·åšä¸ªæœ‰è¶£çš„æ•°å­¦ä¹ é¢˜å§ã€‚è¿™é‡Œæœ‰ä¸ª 2x2 çš„çŸ©é˜µã€‚ çŸ©é˜µä¸­çš„å…ƒç´ çš„æ•°å€¼æš‚æ—¶ä¿å¯†ã€‚æˆ‘ç»™ä½ ä¸€äº›æš—ç¤ºï¼š ç¬¬ä¸€è¡Œçš„å’Œæ˜¯ 5ã€‚ç¬¬äºŒè¡Œçš„å’Œæ˜¯ 4ã€‚ç¬¬ä¸€åˆ—çš„å’Œæ˜¯ 7ã€‚ç¬¬äºŒåˆ—çš„å’Œæ˜¯ 2 (å›¾1.3)ã€‚ä½ å¯ä»¥ç®—å‡ºè¿™ä¸ª 2x2 çŸ©é˜µå—?</p><p><img src="/2020/06/02/äºŒç»´å›¾åƒé‡å»ºçš„ä¸€èˆ¬æµç¨‹/image-20200601090809554.png" alt="image-20200601090809554"></p><p>è¿™ä¸ªé—®é¢˜å¯ä»¥ç”¨è§£æ–¹ç¨‹ç»„çš„æ–¹æ³•è§£å†³ã€‚è®¾é‚£äº›çŸ©é˜µå…ƒç´ ä¸ºæœªçŸ¥æ•°ï¼Œåˆ—ä¸€ä¸ªçº¿æ€§æ–¹ç¨‹ç»„ï¼š<br>$$<br>\begin{equation}<br>\begin{aligned}<br>x_1+x_2=5;\<br>x_3+x_4=4;\<br>x_1+x_3=7;\<br>x_2+x_4=2;\<br>\end{aligned}<br>\end{equation}<br>$$</p><p>è§£è¿™ä¸ªæ–¹ç¨‹ç»„ä¾¿å¾—åˆ°;</p><p>$$<br>\begin{equation}x_1=3,x_2=2,x_3=4,x_4=0\end{equation}<br>$$<br>é€šè¿‡æ¢æµ‹ç‰©ä½“çš„æŠ•å½±æ•°æ®ï¼Œé‡å»ºå‡ºç‰©ä½“çš„å®é™…å†…éƒ¨æ„é€ ã€‚è¿™å°±æ˜¯å›¾åƒé‡å»ºçš„ä¸€èˆ¬æ€æƒ³ã€‚</p><h2 id="âœ”å›¾åƒé‡å»ºç®—æ³•çš„æ•°å­¦åŸºç¡€æœ‰å“ªäº›ï¼Ÿ"><a href="#âœ”å›¾åƒé‡å»ºç®—æ³•çš„æ•°å­¦åŸºç¡€æœ‰å“ªäº›ï¼Ÿ" class="headerlink" title="âœ”å›¾åƒé‡å»ºç®—æ³•çš„æ•°å­¦åŸºç¡€æœ‰å“ªäº›ï¼Ÿ"></a>âœ”å›¾åƒé‡å»ºç®—æ³•çš„æ•°å­¦åŸºç¡€æœ‰å“ªäº›ï¼Ÿ</h2><h3 id="ğŸ•ä¸­å¿ƒåˆ‡ç‰‡å®šç†"><a href="#ğŸ•ä¸­å¿ƒåˆ‡ç‰‡å®šç†" class="headerlink" title="ğŸ•ä¸­å¿ƒåˆ‡ç‰‡å®šç†"></a>ğŸ•ä¸­å¿ƒåˆ‡ç‰‡å®šç†</h3><p>ä¸­å¿ƒåˆ‡ç‰‡å®šç†æ˜¯æ–­å±‚æˆåƒçš„ç†è®ºåŸºç¡€ã€‚è¿™ä¸ªå®šç†è¿˜æœ‰å…¶å®ƒçš„ç§°è°“ï¼Œå¦‚æŠ•å½±åˆ‡ç‰‡å®šç†å’Œå‚…é‡Œå¶ä¸­å¿ƒåˆ‡ç‰‡å®šç†ã€‚äºŒç»´å›¾åƒçš„ä¸­å¿ƒåˆ‡ç‰‡å®šç†æŒ‡å‡ºï¼šäºŒç»´å‡½æ•° f(x, y) çš„æŠ•å½± p(s) ä¹‹å‚…é‡Œå¶å˜æ¢ P(Ï‰) ç­‰äºå‡½æ•° f(x, y) çš„å‚…é‡Œå¶å˜æ¢ F(Ï‰x, Ï‰y) æ²¿ä¸æ¢æµ‹å™¨å¹³è¡Œçš„æ–¹å‘è¿‡åŸç‚¹çš„ç‰‡æ®µã€‚</p><p><img src="/2020/06/02/äºŒç»´å›¾åƒé‡å»ºçš„ä¸€èˆ¬æµç¨‹/image-20200601104859436.png" alt="image-20200601104859436"></p><p><img src="/2020/06/02/äºŒç»´å›¾åƒé‡å»ºçš„ä¸€èˆ¬æµç¨‹/image-20200601105629394.png" alt></p><h3 id="ğŸš©ä¸ºä»€ä¹ˆè¦å¼•å…¥æ»¤æ³¢ï¼Ÿ"><a href="#ğŸš©ä¸ºä»€ä¹ˆè¦å¼•å…¥æ»¤æ³¢ï¼Ÿ" class="headerlink" title="ğŸš©ä¸ºä»€ä¹ˆè¦å¼•å…¥æ»¤æ³¢ï¼Ÿ"></a>ğŸš©ä¸ºä»€ä¹ˆè¦å¼•å…¥æ»¤æ³¢ï¼Ÿ</h3><p><img src="/2020/06/02/äºŒç»´å›¾åƒé‡å»ºçš„ä¸€èˆ¬æµç¨‹/image-20200601105835965.png" alt><br><img src="/2020/06/02/äºŒç»´å›¾åƒé‡å»ºçš„ä¸€èˆ¬æµç¨‹/image-20200601105911448.png" alt></p><p>ç¬¬äºŒä¸ªæ–¹æ¡ˆé€šå¸¸è¢«ç§°ä½œå¤„ç†FBP (Filtered Backprojection å…ˆæ»¤æ³¢ååæŠ•å½±) ç®—æ³•ã€‚ç¬¬äºŒä¸ªæ–¹æ¡ˆæ¯”ç¬¬ä¸€ä¸ªæ–¹æ¡ˆçŸ¥ååº¦é«˜å¾—å¤šã€‚åœ¨æ–­å±‚æˆåƒé¢†åŸŸé‡Œï¼Œå‡½æ•°|Ï‰| è¢«ç§°ä½œæ–œå¡æ»¤æ³¢å™¨ã€‚</p><h3 id="â¤æœ‰å“ªäº›æ»¤æ³¢é‡å»ºæ–¹æ³•ï¼Ÿ"><a href="#â¤æœ‰å“ªäº›æ»¤æ³¢é‡å»ºæ–¹æ³•ï¼Ÿ" class="headerlink" title="â¤æœ‰å“ªäº›æ»¤æ³¢é‡å»ºæ–¹æ³•ï¼Ÿ"></a>â¤æœ‰å“ªäº›æ»¤æ³¢é‡å»ºæ–¹æ³•ï¼Ÿ</h3><p>==<strong>æ»¤æ³¢çš„æ€æƒ³</strong>==ï¼šåœ¨ä¸­å¿ƒåˆ‡ç‰‡å®šç†ä¸­ï¼Œæ—‹è½¬ä¸­å¿ƒè¢«åˆ‡ç‰‡æ¶‚æŠ¹çš„æ›´æµ“å¯†ï¼Œè¿™å°†å¯¼è‡´å›¾åƒåƒç´ æ¯”è¾ƒå‡åŒ€ï¼ˆä½é¢‘åŒºåŸŸï¼›é«˜é¢‘åŒºåŸŸæ˜¯æŒ‡å›¾åƒå¯¹æ¯”åº¦æ¯”è¾ƒå¤§çš„å›¾åƒè¾¹ç¼˜åŒºåŸŸï¼‰ï¼Œè¿›è€Œé‡æ„çš„å›¾åƒä¸­å¿ƒåŒºåŸŸæ¯”è¾ƒæ¨¡ç³Šã€‚é‚£ä¹ˆæ»¤æ³¢å™¨çš„æ€æƒ³æ˜¯å°†ä¸­å¿ƒåˆ‡ç‰‡å‡½æ•°ä¹˜ä»¥ä¸€ä¸ªä¸æ—‹è½¬ä¸­å¿ƒè·ç¦»ç›¸å…³çš„æƒé‡å› å­ï¼Œä½¿å¾—åˆ‡ç‰‡åœ¨å›¾åƒä¸Šæ¶‚æŠ¹çš„æ¯”è¾ƒå‡åŒ€ã€‚è¿™æ ·é‡æ„å‡ºæ¥çš„å›¾åƒæ‰ä¸ä¼šå‡ºç°æ—‹è½¬ä¸­å¿ƒæ¨¡ç³Šçš„ç°è±¡ã€‚ä¸‹é¢ä»‹ç»ä¸€ä¸‹æœ‰å“ªäº›å›¾åƒé‡å»ºåŠæ»¤æ³¢æ–¹æ³•ã€‚</p><h4 id="ğŸ›´æ–¹æ³•1"><a href="#ğŸ›´æ–¹æ³•1" class="headerlink" title="ğŸ›´æ–¹æ³•1"></a>ğŸ›´æ–¹æ³•1</h4><p><img src="/2020/06/02/äºŒç»´å›¾åƒé‡å»ºçš„ä¸€èˆ¬æµç¨‹/image-20200601111126392.png" alt></p><h4 id="ğŸ›µæ–¹æ³•2"><a href="#ğŸ›µæ–¹æ³•2" class="headerlink" title="ğŸ›µæ–¹æ³•2"></a>ğŸ›µæ–¹æ³•2</h4><img src="/2020/06/02/äºŒç»´å›¾åƒé‡å»ºçš„ä¸€èˆ¬æµç¨‹/ image-20200601111254399.png" alt="image-20200601111254399" style="zoom:80%;"><p><img src="/2020/06/02/äºŒç»´å›¾åƒé‡å»ºçš„ä¸€èˆ¬æµç¨‹/image-20200601111254399.png" alt></p><h4 id="ğŸæ–¹æ³•3"><a href="#ğŸæ–¹æ³•3" class="headerlink" title="ğŸæ–¹æ³•3"></a>ğŸæ–¹æ³•3</h4><p><img src="/2020/06/02/äºŒç»´å›¾åƒé‡å»ºçš„ä¸€èˆ¬æµç¨‹/image-20200601111406287.png" alt><br><img src="/2020/06/02/äºŒç»´å›¾åƒé‡å»ºçš„ä¸€èˆ¬æµç¨‹/image-20200601111430225.png" alt></p><h4 id="ğŸ§­ç®—æ³•ä¸€è§ˆè¡¨"><a href="#ğŸ§­ç®—æ³•ä¸€è§ˆè¡¨" class="headerlink" title="ğŸ§­ç®—æ³•ä¸€è§ˆè¡¨"></a>ğŸ§­ç®—æ³•ä¸€è§ˆè¡¨</h4><p><img src="/2020/06/02/äºŒç»´å›¾åƒé‡å»ºçš„ä¸€èˆ¬æµç¨‹/image-20200601111533233.png" alt></p><h2 id="ğŸ‘¼æ‰‡å½¢æŸæŠ•å½±ç®—æ³•å¦‚ä½•è½¬æ¢åˆ°å¹³è¡ŒæŸæŠ•å½±ç®—æ³•"><a href="#ğŸ‘¼æ‰‡å½¢æŸæŠ•å½±ç®—æ³•å¦‚ä½•è½¬æ¢åˆ°å¹³è¡ŒæŸæŠ•å½±ç®—æ³•" class="headerlink" title="ğŸ‘¼æ‰‡å½¢æŸæŠ•å½±ç®—æ³•å¦‚ä½•è½¬æ¢åˆ°å¹³è¡ŒæŸæŠ•å½±ç®—æ³•"></a>ğŸ‘¼æ‰‡å½¢æŸæŠ•å½±ç®—æ³•å¦‚ä½•è½¬æ¢åˆ°å¹³è¡ŒæŸæŠ•å½±ç®—æ³•</h2><p>==<strong>åŸºæœ¬æ€æƒ³</strong>==ï¼šæ ¹æ®åˆ©ç”¨ç‚¹æ‰©æ•£å‡½æ•°çš„ç§»åŠ¨ä¸å˜æ€§ï¼Œå¯å°†æ‰‡å½¢æŸæŠ•å½±é‡ç»„æˆå¹³è¡ŒæŸæŠ•å½±ï¼›ç„¶è€Œï¼Œåœ¨è¿›è¡Œé‡ç»„æ—¶å°†éœ€è¦è¿›è¡Œæ’å€¼è¿ç®—ï¼Œè¿™å°†å¯¼å…¥ä¸å¿…è¦çš„è¯¯å·®ã€‚æ•…è€Œéœ€è¦æ ¹æ®é‡ç»„å˜æ¢åŸç†ï¼Œé‡‡ç”¨å˜é‡æ›¿æ¢åŸç†ï¼Œå°†é€‚ç”¨äºå¹³è¡ŒæŸæŠ•å½±ç®—æ³•ä¸­çš„å˜é‡æ›¿æ¢æˆæ‰‡å½¢æŸä¸­çš„è½¬æ¢å…³ç³»ã€‚</p><h3 id="ğŸšç‚¹æ‰©æ•£å‡½æ•°çš„ç§»åŠ¨ä¸å˜æ€§"><a href="#ğŸšç‚¹æ‰©æ•£å‡½æ•°çš„ç§»åŠ¨ä¸å˜æ€§" class="headerlink" title="ğŸšç‚¹æ‰©æ•£å‡½æ•°çš„ç§»åŠ¨ä¸å˜æ€§"></a>ğŸšç‚¹æ‰©æ•£å‡½æ•°çš„ç§»åŠ¨ä¸å˜æ€§</h3><p><img src="/2020/06/02/äºŒç»´å›¾åƒé‡å»ºçš„ä¸€èˆ¬æµç¨‹/image-20200602082326836.png" alt="image-20200602082326836"></p><p>å¯¹äºå¹³è¡Œå…‰æŸæˆåƒï¼Œæˆ‘ä»¬ç”¨æä¸ºé‡è¦çš„ä¸­å¿ƒåˆ‡ç‰‡å®šç†æ¨å¯¼å‡ºäº†ä¸€äº›å›¾åƒé‡å»ºçš„ç®—æ³•ã€‚å¯æ˜¯ï¼Œå¯¹ä¸æ‰‡å½¢æŸæˆåƒï¼Œæˆ‘ä»¬å¹¶æ²¡æœ‰ç›¸åº”çš„ä¸­å¿ƒåˆ‡ç‰‡å®šç†ã€‚æˆ‘ä»¬åªå¥½æƒ³ä¸ªåˆ«çš„åŠæ³•æ¥æ¨å¯¼æ‰‡å½¢æŸçš„å›¾åƒé‡å»ºç®—æ³•ã€‚è¿™ä¸ªåŠæ³•å°±æ˜¯æŠŠæ‰‡å½¢æŸçš„æˆåƒé—®é¢˜è½¬åŒ–æˆå¹³è¡Œå…‰æŸçš„æˆåƒé—®é¢˜ï¼ŒæŠŠå¹³è¡Œå…‰æŸå›¾åƒé‡å»ºçš„ç®—æ³•ä¿®æ­£ä¸€ä¸‹ç„¶ååº”ç”¨äºè§£å†³æ‰‡å½¢æŸçš„æˆåƒé—®é¢˜ä¸­ã€‚ </p><p>å‡å®šæ¢æµ‹å™¨æ˜¯åŒ€é€Ÿåœ°ç»•ç‰©ä½“è½¬åŠ¨ï¼Œè€Œä¸”æ•°æ®é‡‡æ ·çš„è§’åº¦åŒºé—´ä¹Ÿæ˜¯å‡åŒ€çš„ã€‚åœ¨è¿™ä¸ªå‡è®¾ä¸‹ï¼Œå¹³è¡Œå…‰æŸçš„æŠ•å½±/åæŠ•å½±çš„ç‚¹æ‰©æ•£å‡½æ•° (PSF) æ˜¯ç§»åŠ¨ä¸å˜çš„ã€‚æ¢å¥è¯è¯´ï¼Œå¦‚æœä½ æŠŠä¸€ä¸ªç‚¹æºæ”¾åœ¨ x-y å¹³é¢ä¸Šã€‚æ”¾åˆ°å“ªé‡Œåˆ°æ— æ‰€è°“ï¼Œåªè¦æ”¾åœ¨æ¢æµ‹å™¨çš„è§†é‡å†…å°±å¥½ã€‚</p><p><img src="/2020/06/02/äºŒç»´å›¾åƒé‡å»ºçš„ä¸€èˆ¬æµç¨‹/image-20200602083037903.png" alt="image-20200602083037903"></p><p><img src="/2020/06/02/äºŒç»´å›¾åƒé‡å»ºçš„ä¸€èˆ¬æµç¨‹/image-20200602083341855.png" alt="image-20200602083341855"></p><h3 id="ğŸ³æ‰‡å½¢æŸå°„çº¿å¦‚ä½•ç”¨å¹³è¡ŒæŸæ¥æè¿°"><a href="#ğŸ³æ‰‡å½¢æŸå°„çº¿å¦‚ä½•ç”¨å¹³è¡ŒæŸæ¥æè¿°" class="headerlink" title="ğŸ³æ‰‡å½¢æŸå°„çº¿å¦‚ä½•ç”¨å¹³è¡ŒæŸæ¥æè¿°"></a>ğŸ³æ‰‡å½¢æŸå°„çº¿å¦‚ä½•ç”¨å¹³è¡ŒæŸæ¥æè¿°</h3><p>ä¸€ä¸ªç›´æˆªäº†å½“çš„æ–¹æ³•æ˜¯æŠŠæ‰€æœ‰çš„æ‰‡å½¢æŸå°„çº¿æ”¾åœ¨ä¸€èµ·è¿›è¡Œåˆ†ç»„ï¼ŒæŠŠäº’ç›¸å¹³è¡Œçš„å°„çº¿åˆ†åœ¨ä¸€ç»„ï¼Œè¿™æ ·å°±æŠŠæ‰‡å½¢æŸçš„æˆåƒé—®é¢˜ç®€åŒ–ä¸ºå¹³è¡Œå…‰æŸçš„æˆåƒé—®é¢˜ã€‚æ­£å¦‚å›¾3.4æ‰€ç¤ºï¼Œæ¯ä¸€æ¡æ‰‡å½¢æŸçš„å°„çº¿éƒ½åˆšå¥½å¯¹åº”ä¸€æ¡å¹³è¡Œå…‰æŸçš„å°„çº¿ã€‚è¿™ä¸¤æ¡çº¿æ˜¯å®Œå…¨é‡åˆçš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ¯ä¸€ä¸ªæ‰‡å½¢æŸçš„æ•°æ® g(Î³, Î²) éƒ½åˆšå¥½å¯¹åº”ä¸€ä¸ªå¹³è¡Œå…‰æŸçš„æ•°æ® p(s, Î¸)ï¼Œå®ƒä»¬çš„åæ ‡æ»¡è¶³ä¸‹åˆ—å…³ç³»:<br>$$<br>\theta = \gamma +\beta \<br>s=Dsin\gamma<br>$$<br>å…¶ä¸­ $$D$$ ä¸ºç„¦è·ï¼Œä¹Ÿå°±æ˜¯ä»æ‰‡å½¢çš„ç„¦ç‚¹åˆ°æ—‹è½¬ä¸­å¿ƒçš„è·ç¦»ã€‚å½“ä¸Šé¢è¿™ä¸¤ä¸ªå…³ç³»æˆç«‹æ—¶ï¼Œè¿™ä¸¤ä¸ªæˆåƒç³»ç»Ÿæ‰€æµ‹çš„æ•°æ®æ˜¯ç›¸åŒçš„:<br>$$<br>p(s,\theta)=g(\gamma,\beta)<br>$$<br><img src="/2020/06/02/äºŒç»´å›¾åƒé‡å»ºçš„ä¸€èˆ¬æµç¨‹/image-20200602083414444.png" alt="image-20200602083414444"></p><p><img src="/2020/06/02/äºŒç»´å›¾åƒé‡å»ºçš„ä¸€èˆ¬æµç¨‹/image-20200602084149649.png" alt="image-20200602084149649"></p><p><img src="/2020/06/02/äºŒç»´å›¾åƒé‡å»ºçš„ä¸€èˆ¬æµç¨‹/image-20200602084308687.png" alt="image-20200602084308687"></p><p><img src="/2020/06/02/äºŒç»´å›¾åƒé‡å»ºçš„ä¸€èˆ¬æµç¨‹/image-20200602084333949.png" alt="image-20200602084333949"></p><p><strong>å‚è€ƒæ–‡çŒ®ï¼š</strong></p><p>[1] æ›¾æ›´ç”Ÿï¼ŒåŒ»å­¦å›¾åƒé‡å»º</p>]]></content>
    
    <summary type="html">
    
      æè¿°äºŒç»´CTå›¾åƒé‡å»ºç®—æ³•çš„ä¸€èˆ¬æ€æƒ³
    
    </summary>
    
    
      <category term="å›¾åƒé‡å»º" scheme="https://Hubery-Lee.github.io/categories/%E5%9B%BE%E5%83%8F%E9%87%8D%E5%BB%BA/"/>
    
    
      <category term="äºŒç»´CTå›¾åƒé‡å»º" scheme="https://Hubery-Lee.github.io/tags/%E4%BA%8C%E7%BB%B4CT%E5%9B%BE%E5%83%8F%E9%87%8D%E5%BB%BA/"/>
    
  </entry>
  
  <entry>
    <title>åˆ©ç”¨VSCodeè°ƒè¯•Geant4é¡¹ç›®å’ŒQté¡¹ç›®</title>
    <link href="https://hubery-lee.github.io/2020/05/19/%E5%88%A9%E7%94%A8VSCode%E8%B0%83%E8%AF%95Geant4%E9%A1%B9%E7%9B%AE%E5%92%8CQt%E9%A1%B9%E7%9B%AE/"/>
    <id>https://hubery-lee.github.io/2020/05/19/%E5%88%A9%E7%94%A8VSCode%E8%B0%83%E8%AF%95Geant4%E9%A1%B9%E7%9B%AE%E5%92%8CQt%E9%A1%B9%E7%9B%AE/</id>
    <published>2020-05-19T12:57:46.000Z</published>
    <updated>2020-05-19T13:10:14.414Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ğŸŒŒåˆ©ç”¨VSCodeè°ƒè¯•Geant4é¡¹ç›®å’ŒQté¡¹ç›®"><a href="#ğŸŒŒåˆ©ç”¨VSCodeè°ƒè¯•Geant4é¡¹ç›®å’ŒQté¡¹ç›®" class="headerlink" title="ğŸŒŒåˆ©ç”¨VSCodeè°ƒè¯•Geant4é¡¹ç›®å’ŒQté¡¹ç›®"></a>ğŸŒŒåˆ©ç”¨VSCodeè°ƒè¯•Geant4é¡¹ç›®å’ŒQté¡¹ç›®</h1><p>==<strong>æ³¨æ„</strong>==</p><ul><li><p>VSCodeåªæ˜¯ä¸€ä¸ªå…·æœ‰ç”¨æˆ·äº¤äº’ç•Œé¢ã€å¯è®¾ç½®æ–­ç‚¹è°ƒè¯•çš„é›†æˆå¼€å‘ç¯å¢ƒï¼Œå¹¶å…·æœ‰ç¼–è¾‘å™¨çš„ä¸€äº›ç‰¹è‰²åŠŸèƒ½ï¼Œå¦‚ï¼šä»£ç è¡¥å…¨ã€æ ¼å¼è‡ªåŠ¨åŒ–å’Œè¯­æ³•è‡ªåŠ¨æ£€æŸ¥ç­‰ã€‚ç›´ç™½çš„ç†è§£ï¼Œä»–æ˜¯ä¸€ä¸ªå…·æœ‰å¾ˆå¤šé›†æˆåŠŸèƒ½çš„é«˜ç«¯ç¼–è¾‘å™¨ï¼Œå±äºå‰ç«¯ï¼Œä»£ç çš„ç¼–è¯‘é“¾æ¥æ‰§è¡Œéœ€è¦äº¤ç»™å…¶ä»–ä¸€äº›è½¯ä»¶ï¼Œå¦‚CMakeç­‰ã€‚</p></li><li><p>Geant4å’ŒQtå‡æ˜¯åŸºäºc++è¯­è¨€ï¼Œè°ƒè¯•ç¨‹åºéœ€è¦ç”¨gdbã€‚é‚£ä¹ˆï¼Œè°ƒè¯•geant4å’ŒQtç¨‹åºä¸è°ƒè¯•C++ç¨‹åºä¸€æ ·æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ã€‚</p></li></ul><h2 id="ğŸ§­c-å¦‚ä½•å¼€å¯è°ƒè¯•æ¨¡å¼"><a href="#ğŸ§­c-å¦‚ä½•å¼€å¯è°ƒè¯•æ¨¡å¼" class="headerlink" title="ğŸ§­c++å¦‚ä½•å¼€å¯è°ƒè¯•æ¨¡å¼"></a>ğŸ§­c++å¦‚ä½•å¼€å¯è°ƒè¯•æ¨¡å¼</h2><p>C++å•æ–‡ä»¶ç¼–è¯‘</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">g++ main.cpp -o a.out</span><br></pre></td></tr></table></figure><p>C++å•æ–‡ä»¶gdbè°ƒè¯•</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">g++ -g main.cpp -o a.out</span><br><span class="line">gdb a.out</span><br></pre></td></tr></table></figure><h2 id="ğŸš€geant4-å’Œqtç­‰é¡¹ç›®æ–‡ä»¶å¦‚ä½•ç”¨è°ƒè¯•"><a href="#ğŸš€geant4-å’Œqtç­‰é¡¹ç›®æ–‡ä»¶å¦‚ä½•ç”¨è°ƒè¯•" class="headerlink" title="ğŸš€geant4 å’Œqtç­‰é¡¹ç›®æ–‡ä»¶å¦‚ä½•ç”¨è°ƒè¯•"></a>ğŸš€geant4 å’Œqtç­‰é¡¹ç›®æ–‡ä»¶å¦‚ä½•ç”¨è°ƒè¯•</h2><p>C++é¡¹ç›®çš„é“¾æ¥é€šå¸¸é‡‡ç”¨å¯é‡‡ç”¨CMakeï¼Œéœ€è¦ç¼–å†™<code>CMakeLists.txt</code><br>å¦‚éœ€æ‰“å¼€è°ƒè¯•æ¨¡å¼ï¼Œåªéœ€å¥–<code>CMAKE_BUILD_TYPE</code> è®¾ç½®æˆ<code>&quot;Debug&quot;</code>æ¨¡å¼å³å¯ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set(CMAKE_BUILD_TYPE &quot;Debug&quot;)</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      vscodeåœ¨æ‰‹ï¼Œå¤©ä¸‹æˆ‘æœ‰
    
    </summary>
    
    
      <category term="ç¼–ç¨‹å·¥å…·å­¦ä¹ ä¸åº”ç”¨" scheme="https://Hubery-Lee.github.io/categories/%E7%BC%96%E7%A8%8B%E5%B7%A5%E5%85%B7%E5%AD%A6%E4%B9%A0%E4%B8%8E%E5%BA%94%E7%94%A8/"/>
    
    
      <category term="vscode" scheme="https://Hubery-Lee.github.io/tags/vscode/"/>
    
  </entry>
  
  <entry>
    <title>ç§‘å­¦ä¸Šç½‘æ–¹æ³•</title>
    <link href="https://hubery-lee.github.io/2020/05/08/%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91%E6%96%B9%E6%B3%95/"/>
    <id>https://hubery-lee.github.io/2020/05/08/%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91%E6%96%B9%E6%B3%95/</id>
    <published>2020-05-07T16:07:51.000Z</published>
    <updated>2020-05-07T16:29:32.614Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ğŸššç§‘å­¦ä¸Šç½‘æ–¹æ³•"><a href="#ğŸššç§‘å­¦ä¸Šç½‘æ–¹æ³•" class="headerlink" title="ğŸššç§‘å­¦ä¸Šç½‘æ–¹æ³•"></a>ğŸššç§‘å­¦ä¸Šç½‘æ–¹æ³•</h1><h2 id="âš“google-bingæ£€ç´¢"><a href="#âš“google-bingæ£€ç´¢" class="headerlink" title="âš“google/bingæ£€ç´¢"></a>âš“google/bingæ£€ç´¢</h2><ul><li><code>è°·æ­Œä¸Šç½‘åŠ©æ‰‹</code></li><li><code>iGugeæ’ä»¶</code></li></ul><p>å®‰è£…æ–¹æ³•ï¼š</p><p><img src="/2020/05/08/ç§‘å­¦ä¸Šç½‘æ–¹æ³•/a.png" alt></p><h2 id="ğŸšæ–‡çŒ®æœç´¢ç¥å™¨"><a href="#ğŸšæ–‡çŒ®æœç´¢ç¥å™¨" class="headerlink" title="ğŸšæ–‡çŒ®æœç´¢ç¥å™¨"></a>ğŸšæ–‡çŒ®æœç´¢ç¥å™¨</h2><p><a href="https://www.researcher-app.com/" target="_blank" rel="noopener"><code>researcher</code></a></p>]]></content>
    
    <summary type="html">
    
      æ¨èä¸¤æ¬¾è°·æ­Œä¸Šç½‘æ’ä»¶
    
    </summary>
    
    
      <category term="è½¯ä»¶ä½“éªŒ" scheme="https://Hubery-Lee.github.io/categories/%E8%BD%AF%E4%BB%B6%E4%BD%93%E9%AA%8C/"/>
    
    
      <category term="google" scheme="https://Hubery-Lee.github.io/tags/google/"/>
    
  </entry>
  
  <entry>
    <title>ç”¨VSCodeçš„IDEè°ƒè¯•CPP</title>
    <link href="https://hubery-lee.github.io/2020/05/05/%E7%94%A8VSCode%E7%9A%84IDE%E8%B0%83%E8%AF%95CPP/"/>
    <id>https://hubery-lee.github.io/2020/05/05/%E7%94%A8VSCode%E7%9A%84IDE%E8%B0%83%E8%AF%95CPP/</id>
    <published>2020-05-05T01:46:08.000Z</published>
    <updated>2020-05-05T01:50:09.856Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ğŸ’˜VSCODE-IDEåœ¨C-C-é¡¹ç›®ç¼–ç¨‹ä¸­çš„ä½¿ç”¨"><a href="#ğŸ’˜VSCODE-IDEåœ¨C-C-é¡¹ç›®ç¼–ç¨‹ä¸­çš„ä½¿ç”¨" class="headerlink" title="ğŸ’˜VSCODE IDEåœ¨C/C++é¡¹ç›®ç¼–ç¨‹ä¸­çš„ä½¿ç”¨"></a>ğŸ’˜VSCODE IDEåœ¨C/C++é¡¹ç›®ç¼–ç¨‹ä¸­çš„ä½¿ç”¨</h1><h2 id="ğŸŒ´IDEçš„ä½œç”¨"><a href="#ğŸŒ´IDEçš„ä½œç”¨" class="headerlink" title="ğŸŒ´IDEçš„ä½œç”¨"></a>ğŸŒ´IDEçš„ä½œç”¨</h2><p>IDEçš„ä½œç”¨å°±æ˜¯æœ‰ç”¨æˆ·äº¤äº’ç•Œé¢çš„ä»£ç è°ƒè¯•ç¼–è¾‘å™¨ï¼ˆä¹Ÿç§°é›†æˆå¼€å‘ç¯å¢ƒï¼ŒIntegrated Development Environmentï¼‰</p><h3 id="ğŸ’¨c-c-ç¼–ç¨‹ä¸»è¦åŸºäºä¸¤ç±»ç¼–è¯‘å™¨"><a href="#ğŸ’¨c-c-ç¼–ç¨‹ä¸»è¦åŸºäºä¸¤ç±»ç¼–è¯‘å™¨" class="headerlink" title="ğŸ’¨c/c++ç¼–ç¨‹ä¸»è¦åŸºäºä¸¤ç±»ç¼–è¯‘å™¨"></a>ğŸ’¨c/c++ç¼–ç¨‹ä¸»è¦åŸºäºä¸¤ç±»ç¼–è¯‘å™¨</h3><ul><li>gcc, <code>å¼€æºã€æ›´æ–°è¾ƒå¿«</code></li><li>visual studio,<code>å¾®è½¯å…¨å®¶æ¡¶</code></li></ul><p>æ‰€æœ‰linuxç³»ç»Ÿçš„å‡æ˜¯ç”¨gccï¼Œlinuxç³»ç»Ÿå¯¹c/c++çš„æ”¯æŒæ›´å¥½ã€‚linuxç³»ç»Ÿçš„æ ¸å¿ƒä»£ç åŸºæœ¬æ˜¯ç”¨c/c++ç¼–å†™çš„ã€‚</p><p>windowsç³»ç»Ÿä¸Šc/c++ç¼–ç¨‹ä¸€èˆ¬ç”¨<code>visual studio</code>,å½“ç„¶ï¼Œä¸ºäº†ç”¨åˆ°ä¸linuxä¸Šä¸€æ ·çš„å¼€æºgccç¼–è¯‘å™¨ï¼Œå¯ä»¥åœ¨windowsä¸Šå®‰è£…<code>mingw</code>æˆ–è€…<code>cywin</code>ä¸¤ç§ä¸­çš„ä»»æ„ä¸€æ¬¾ç¼–è¯‘å™¨ã€‚</p><h3 id="ğŸ›´gccç¼–è¯‘å™¨çš„æ²¡æœ‰å›¾å½¢Debugç•Œé¢"><a href="#ğŸ›´gccç¼–è¯‘å™¨çš„æ²¡æœ‰å›¾å½¢Debugç•Œé¢" class="headerlink" title="ğŸ›´gccç¼–è¯‘å™¨çš„æ²¡æœ‰å›¾å½¢Debugç•Œé¢"></a>ğŸ›´gccç¼–è¯‘å™¨çš„æ²¡æœ‰å›¾å½¢Debugç•Œé¢</h3><p>visual studioè‡ªå¸¦çš„è°ƒè¯•ç•Œé¢ï¼Œç¼–ç¨‹æ¯”è¾ƒæ–¹ä¾¿ã€‚gccçš„è°ƒè¯•éœ€è¦ç”¨<code>gdb</code>,è€Œgdbå­˜åœ¨çš„ç¼ºé™·æ˜¯å…¶æ²¡æœ‰é‡‡ç”¨å‘½ä»¤è¡Œè°ƒè¯•ï¼Œéœ€è¦è®°ä½çš„å‘½ä»¤å¤ªå¤šï¼Œä½†ç¼ºå°‘å›¾åƒç•Œé¢ï¼Œå¤§å¤§é™ä½äº†ç¼–ç¨‹äººå‘˜çš„ç”Ÿæˆæ•ˆç‡ã€‚</p><p>ç”±äºgdbè‡ªèº«æ²¡æœ‰åˆé€‚çš„IDE,é¡¹ç›®é…ç½®é€šå¸¸ç”¨<code>makefile</code>ã€‚makefileç»§æ‰¿linuxç³»ç»Ÿä¸‹ä¸‡ç‰©ç”¨å‘½ä»¤è¡Œè§£å†³çš„é£æ ¼ã€‚ä¸ºäº†é¿å…ç¼–å†™ä»¤äººéš¾æ‡‚çš„makefileæ–‡ä»¶ï¼Œç¨‹åºå‘˜å¼€å‘äº†ç”¨äºç”Ÿæˆmakefileçš„<code>cmake</code>å·¥å…· .</p><p>gccç­‰å±äºå¼€æºç¤¾åŒºçš„è½¯ä»¶ï¼Œç‰¹ç‚¹æ˜¯ç‰ˆæœ¬å¤šï¼Œæ²¡æœ‰ç»Ÿä¸€çš„æ ‡å‡†ã€‚å¯¼è‡´å¾ˆå¤šå…¬å¸å¼€å‘äº†å„è‡ªçš„IDEï¼Œå¦‚ï¼ŒJetBrain å…¬å¸çš„<code>Cion</code>, å¾®è½¯å…¬å¸çš„<code>VSCode</code>å’ŒIBMå…¬å¸çš„<code>eclipse</code>ç­‰ã€‚VSCode,Cionå’ŒEclipseå‡æ˜¯top5çš„c/c++ç¼–è¾‘å™¨ã€‚å…¶ä¸­ï¼ŒVSCodeæ˜¯åèµ·ä¹‹ç§€ï¼Œç”±å¾®è½¯2015å¹´å‘å¸ƒçš„å¿«å¹³å°ç¼–è¾‘å™¨ã€‚ç½‘ä¸Šä»‹ç»è¾ƒå¤šï¼Œå†æ­¤ä¸å†ç»†è¯´ï¼Œæ„Ÿå…´è¶£çš„åŒå¿—å¯ä»¥è‡ªå·±å»ç™¾åº¦æˆ–è°·æ­Œä¸€ä¸‹ã€‚ä¸‹é¢å°†ä»‹ç»VSCodeçš„C++ä»£ç è°ƒè¯•ã€‚</p><h2 id="ğŸš€VSCode"><a href="#ğŸš€VSCode" class="headerlink" title="ğŸš€VSCode"></a>ğŸš€VSCode</h2><p>VSCodeæ˜¯ä¸€æ¬¾IDEç¼–è¾‘å™¨ï¼Œæ³¨æ„æ˜¯<code>ç¼–è¾‘å™¨</code>è¯´ç™½äº†å°±è·Ÿ<code>è®°äº‹æœ¬</code>ä¸€æ ·ï¼Œåªæ˜¯å®ƒé¢å¤–å…·å¤‡é…ç½®ç¼–è¯‘ç¯å¢ƒå’Œè°ƒè¯•ä»£ç çš„åŠŸèƒ½ã€‚å°±è·Ÿnotepat++å¾ˆåƒã€‚é¡¹ç›®çš„ç¼–è¯‘ç¯å¢ƒé…ç½®æ–‡ä»¶é€šå¸¸ç”±ä¸¤ä¸ªç»„æˆ<code>task.json</code>å’Œ<code>launch.json</code>ã€‚</p><ul><li>task.json <code>è´Ÿè´£é…ç½®ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶</code></li><li>launch.json <code>è´Ÿè´£è°ƒè¯•</code></li></ul><p>å…·ä½“VSCodeçš„ä½¿ç”¨æ–‡ä»¶å¯ä»¥å‚è€ƒ<span class="exturl" data-url="aHR0cHM6Ly9jb2RlLnZpc3VhbHN0dWRpby5jb20vZG9jcw==">å®˜æ–¹è¯´æ˜æ–‡æ¡£<i class="fa fa-external-link-alt"></i></span><br>ä¸‹é¢åˆ†åˆ«ä»å•æ–‡ä»¶è°ƒè¯•å’Œé¡¹ç›®æ–‡ä»¶è°ƒè¯•ä¸¤ä¸ªæ–¹é¢è¿›è¡Œæµ‹è¯•ï¼Œå…·ä½“æµ‹è¯•æ–‡æ¡£å¯å‚çœ‹<span class="exturl" data-url="aHR0cHM6Ly93d3cuYmlsaWJpbGkuY29tL3ZpZGVvL0JWMVRLNHkxODdrbg==">æˆ‘çš„å“”å“©å“”å“©è§†é¢‘<i class="fa fa-external-link-alt"></i></span></p><h3 id="ğŸš²å•æ–‡ä»¶ï¼Œå•æ­¥è°ƒè¯•"><a href="#ğŸš²å•æ–‡ä»¶ï¼Œå•æ­¥è°ƒè¯•" class="headerlink" title="ğŸš²å•æ–‡ä»¶ï¼Œå•æ­¥è°ƒè¯•"></a>ğŸš²å•æ–‡ä»¶ï¼Œå•æ­¥è°ƒè¯•</h3><ul><li><p>é…ç½®ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶task.json</p></li><li><p>é…ç½®è°ƒè¯•æ‰§è¡Œæ–‡ä»¶lauch.json</p></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;version&quot;: &quot;2.0.0&quot;,</span><br><span class="line">    &quot;tasks&quot;: [</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;type&quot;: &quot;shell&quot;,</span><br><span class="line">            &quot;label&quot;: &quot;C/C++: cpp.exe build active file&quot;,</span><br><span class="line">            &quot;command&quot;: &quot;D:\\Qt\\Tools\\mingw730_64\\bin\\cpp.exe&quot;,</span><br><span class="line">            &quot;args&quot;: [</span><br><span class="line">                &quot;-g&quot;,</span><br><span class="line">                &quot;$&#123;file&#125;&quot;,</span><br><span class="line">                &quot;-o&quot;,</span><br><span class="line">                &quot;$&#123;fileDirname&#125;\\$&#123;fileBasenameNoExtension&#125;.exe&quot;</span><br><span class="line">            ],</span><br><span class="line">            &quot;options&quot;: &#123;</span><br><span class="line">                &quot;cwd&quot;: &quot;D:\\Qt\\Tools\\mingw730_64\\bin&quot;</span><br><span class="line">            &#125;,</span><br><span class="line">            &quot;problemMatcher&quot;: [</span><br><span class="line">                &quot;$gcc&quot;</span><br><span class="line">            ],</span><br><span class="line">            &quot;group&quot;: &quot;build&quot;</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    // ä½¿ç”¨ IntelliSense äº†è§£ç›¸å…³å±æ€§ã€‚ </span><br><span class="line">    // æ‚¬åœä»¥æŸ¥çœ‹ç°æœ‰å±æ€§çš„æè¿°ã€‚</span><br><span class="line">    // æ¬²äº†è§£æ›´å¤šä¿¡æ¯ï¼Œè¯·è®¿é—®: https://go.microsoft.com/fwlink/?linkid=830387</span><br><span class="line">    &quot;version&quot;: &quot;0.2.0&quot;,</span><br><span class="line">    &quot;configurations&quot;: [</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;name&quot;: &quot;g++.exe - ç”Ÿæˆå’Œè°ƒè¯•æ´»åŠ¨æ–‡ä»¶&quot;,</span><br><span class="line">            &quot;type&quot;: &quot;cppdbg&quot;,</span><br><span class="line">            &quot;request&quot;: &quot;launch&quot;,</span><br><span class="line">            &quot;program&quot;: &quot;$&#123;fileDirname&#125;\\$&#123;fileBasenameNoExtension&#125;.exe&quot;,</span><br><span class="line">            &quot;args&quot;: [],</span><br><span class="line">            &quot;stopAtEntry&quot;: false,</span><br><span class="line">            &quot;cwd&quot;: &quot;$&#123;workspaceFolder&#125;&quot;,</span><br><span class="line">            &quot;environment&quot;: [],</span><br><span class="line">            &quot;externalConsole&quot;: false,</span><br><span class="line">            &quot;MIMode&quot;: &quot;gdb&quot;,</span><br><span class="line">            &quot;miDebuggerPath&quot;: &quot;D:\\Qt\\Tools\\mingw730_64\\bin\\gdb.exe&quot;,</span><br><span class="line">            &quot;setupCommands&quot;: [</span><br><span class="line">                &#123;</span><br><span class="line">                    &quot;description&quot;: &quot;ä¸º gdb å¯ç”¨æ•´é½æ‰“å°&quot;,</span><br><span class="line">                    &quot;text&quot;: &quot;-enable-pretty-printing&quot;,</span><br><span class="line">                    &quot;ignoreFailures&quot;: true</span><br><span class="line">                &#125;</span><br><span class="line">            ],</span><br><span class="line">            &quot;preLaunchTask&quot;: &quot;g++.exe build active file&quot;</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ğŸšé¡¹ç›®æ–‡ä»¶ï¼Œå•æ­¥è°ƒè¯•"><a href="#ğŸšé¡¹ç›®æ–‡ä»¶ï¼Œå•æ­¥è°ƒè¯•" class="headerlink" title="ğŸšé¡¹ç›®æ–‡ä»¶ï¼Œå•æ­¥è°ƒè¯•"></a>ğŸšé¡¹ç›®æ–‡ä»¶ï¼Œå•æ­¥è°ƒè¯•</h3><ul><li>CMake <code>è´Ÿè´£é…ç½®ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶</code></li><li>launch.json <code>è´Ÿè´£è°ƒè¯•</code></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">cmake_minimum_required(VERSION 3.10.0)</span><br><span class="line"># å®šä¹‰é¡¹ç›®åç§°å˜é‡PROJECT_NAME, é»˜è®¤å€¼ä¸ºdemo</span><br><span class="line">set(PROJECT_NAME demo)</span><br><span class="line"></span><br><span class="line">set(CMAKE_BUILD_TYPE &quot;Debug&quot;)</span><br><span class="line"></span><br><span class="line">set(CMAKE_CXX_STANDARD_REQUIRED 14)</span><br><span class="line">#----------------------------------------------------------------------------</span><br><span class="line"># Setup include directory for this project</span><br><span class="line">#</span><br><span class="line"></span><br><span class="line">include_directories($&#123;PROJECT_SOURCE_DIR&#125;/include)</span><br><span class="line">#----------------------------------------------------------------------------</span><br><span class="line"># Locate sources and headers for this project</span><br><span class="line"># NB: headers are included so they will show up in IDEs</span><br><span class="line">#</span><br><span class="line">file(GLOB sources $&#123;PROJECT_SOURCE_DIR&#125;/src/*.cc)</span><br><span class="line">file(GLOB headers $&#123;PROJECT_SOURCE_DIR&#125;/include/*.h)</span><br><span class="line"></span><br><span class="line"># æŒ‡å®šç”Ÿæˆç›®æ ‡</span><br><span class="line">add_executable($&#123;PROJECT_NAME&#125; main.cc $&#123;sources&#125; $&#123;headers&#125;)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    // ä½¿ç”¨ IntelliSense äº†è§£ç›¸å…³å±æ€§ã€‚ </span><br><span class="line">    // æ‚¬åœä»¥æŸ¥çœ‹ç°æœ‰å±æ€§çš„æè¿°ã€‚</span><br><span class="line">    // æ¬²äº†è§£æ›´å¤šä¿¡æ¯ï¼Œè¯·è®¿é—®: https://go.microsoft.com/fwlink/?linkid=830387</span><br><span class="line">    &quot;version&quot;: &quot;0.2.0&quot;,</span><br><span class="line">    &quot;configurations&quot;: [</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;name&quot;: &quot;(gdb) å¯åŠ¨&quot;,</span><br><span class="line">            &quot;type&quot;: &quot;cppdbg&quot;,</span><br><span class="line">            &quot;request&quot;: &quot;launch&quot;,</span><br><span class="line">            &quot;program&quot;: &quot;$&#123;workspaceFolder&#125;\\build\\demo.exe&quot;,</span><br><span class="line">            &quot;args&quot;: [],</span><br><span class="line">            &quot;stopAtEntry&quot;: false,</span><br><span class="line">            &quot;cwd&quot;: &quot;$&#123;workspaceFolder&#125;&quot;,</span><br><span class="line">            &quot;environment&quot;: [],</span><br><span class="line">            &quot;externalConsole&quot;: false,</span><br><span class="line">            &quot;MIMode&quot;: &quot;gdb&quot;,</span><br><span class="line">            &quot;miDebuggerPath&quot;: &quot;D:\\Qt\\Tools\\mingw730_64\\bin\\gdb.exe&quot;,</span><br><span class="line">            &quot;setupCommands&quot;: [</span><br><span class="line">                &#123;</span><br><span class="line">                    &quot;description&quot;: &quot;ä¸º gdb å¯ç”¨æ•´é½æ‰“å°&quot;,</span><br><span class="line">                    &quot;text&quot;: &quot;-enable-pretty-printing&quot;,</span><br><span class="line">                    &quot;ignoreFailures&quot;: true</span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      VSCodeä½ å€¼å¾—æ‹¥æœ‰ã€‚è·¨å¹³å°IDEç¼–è¾‘å™¨VSCodeï¼Œæœ‰äº†å¥¹ä½ è¿˜è¦ä»€ä¹ˆemacs?
    
    </summary>
    
    
      <category term="ç¼–ç¨‹å·¥å…·å­¦ä¹ ä¸åº”ç”¨" scheme="https://Hubery-Lee.github.io/categories/%E7%BC%96%E7%A8%8B%E5%B7%A5%E5%85%B7%E5%AD%A6%E4%B9%A0%E4%B8%8E%E5%BA%94%E7%94%A8/"/>
    
    
      <category term="VSCode" scheme="https://Hubery-Lee.github.io/tags/VSCode/"/>
    
  </entry>
  
  <entry>
    <title>hexoç»“åˆnextä¸»é¢˜æ­å»ºåšå®¢åŠå…¶ç‰ˆæœ¬æ›´æ–°æ–¹æ³•</title>
    <link href="https://hubery-lee.github.io/2020/05/01/hexo%E7%BB%93%E5%90%88next%E4%B8%BB%E9%A2%98%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2%E5%8F%8A%E5%85%B6%E7%89%88%E6%9C%AC%E6%9B%B4%E6%96%B0%E6%96%B9%E6%B3%95/"/>
    <id>https://hubery-lee.github.io/2020/05/01/hexo%E7%BB%93%E5%90%88next%E4%B8%BB%E9%A2%98%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2%E5%8F%8A%E5%85%B6%E7%89%88%E6%9C%AC%E6%9B%B4%E6%96%B0%E6%96%B9%E6%B3%95/</id>
    <published>2020-05-01T02:48:55.000Z</published>
    <updated>2020-05-05T01:30:26.316Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ğŸ³æ­¤æ–‡è¦è§£å†³çš„é—®é¢˜"><a href="#ğŸ³æ­¤æ–‡è¦è§£å†³çš„é—®é¢˜" class="headerlink" title="ğŸ³æ­¤æ–‡è¦è§£å†³çš„é—®é¢˜"></a>ğŸ³æ­¤æ–‡è¦è§£å†³çš„é—®é¢˜</h1><ul><li>åŸåšå®¢æœ¬åœ°æ–‡ä»¶åº“åœ¨linuxç³»ç»Ÿä¸‹ï¼Œç°åœ¨æƒ³è¿ç§»åˆ°windowsä¸‹ã€‚</li><li>åŸåšå®¢ä½¿ç”¨çš„nextä¸»é¢˜ç‰ˆæœ¬è½å</li><li>å¦‚ä½•ä½¿é…ç½®æ–‡ä»¶ä¸ä¾èµ–nextä¸»é¢˜é…ç½®æ–‡ä»¶ï¼Œä½¿nextä¸»é¢˜æ–‡æ¡£æ›´æ–°æ›´æ–¹ä¾¿ï¼Ÿ</li></ul><h1 id="ğŸš²æ–¹æ³•"><a href="#ğŸš²æ–¹æ³•" class="headerlink" title="ğŸš²æ–¹æ³•"></a>ğŸš²æ–¹æ³•</h1><h2 id="ğŸ—åšå®¢æ­å»ºå·¥å…·æœ‰å“ªäº›ï¼Ÿ"><a href="#ğŸ—åšå®¢æ­å»ºå·¥å…·æœ‰å“ªäº›ï¼Ÿ" class="headerlink" title="ğŸ—åšå®¢æ­å»ºå·¥å…·æœ‰å“ªäº›ï¼Ÿ"></a>ğŸ—åšå®¢æ­å»ºå·¥å…·æœ‰å“ªäº›ï¼Ÿ</h2><ol><li>hexo  é€Ÿåº¦å¿«ï¼Œä¸­æ–‡æ–‡æ¡£å’Œæ•™ç¨‹æ¯”è¾ƒå¤š</li><li>jekyll  åŸºäºrubyè¯­è¨€</li><li>hugo  åŸºäºgoè¯­è¨€ éƒ¨ç½²æœ€å¿«</li><li>pelican åŸºäºpythonè¯­è¨€ å¿«ä¸å®‰å…¨</li></ol><p><img src="/2020/05/01/hexoç»“åˆnextä¸»é¢˜æ­å»ºåšå®¢åŠå…¶ç‰ˆæœ¬æ›´æ–°æ–¹æ³•/comp.jpg" alt></p><h2 id="ğŸ§¨åŸºæœ¬åŸç†"><a href="#ğŸ§¨åŸºæœ¬åŸç†" class="headerlink" title="ğŸ§¨åŸºæœ¬åŸç†"></a>ğŸ§¨åŸºæœ¬åŸç†</h2><pre class="mermaid" style="text-align: center;">            graph LR            A[æ¨¡æ¿] --> B[ç¼–è¯‘]C(å†…å®¹) --> BB --> D[ç½‘ç»œå‘å¸ƒ]          </pre><p><img src="/2020/05/01/hexoç»“åˆnextä¸»é¢˜æ­å»ºåšå®¢åŠå…¶ç‰ˆæœ¬æ›´æ–°æ–¹æ³•/frame.png" alt></p><h2 id="ğŸ”æˆ‘ä»¬ç”¨å“ªä¸ªå·¥å…·ï¼Ÿ"><a href="#ğŸ”æˆ‘ä»¬ç”¨å“ªä¸ªå·¥å…·ï¼Ÿ" class="headerlink" title="ğŸ”æˆ‘ä»¬ç”¨å“ªä¸ªå·¥å…·ï¼Ÿ"></a>ğŸ”æˆ‘ä»¬ç”¨å“ªä¸ªå·¥å…·ï¼Ÿ</h2><p><strong>åœ¨æ­¤ï¼Œä½œè€…é€‰æ‹©é‡‡ç”¨hexoå·¥å…·ã€‚åŸå› å¦‚ä¸‹</strong></p><ol><li>ä½œè€…ä»¥å‰çš„åšå®¢æ—¢æ˜¯ä½¿ç”¨hexoæ­å»ºçš„ï¼Œé…ç½®å’Œä¸Šæ‰‹è¾ƒå¿«ã€‚</li><li>ä½œè€…å°è¯•è¿‡ä½¿ç”¨githubæœåŠ¡å™¨è‡ªå¸¦çš„jekyllï¼Œå‘ç°ç”Ÿæˆé€Ÿåº¦æ¯”è¾ƒæ…¢ï¼Œé™¤æ­¤ä¹‹å¤–è¿˜éœ€è¦<code>git</code>å‘½ä»¤è¡Œæ“ä½œï¼Œè®°ä½å‘½ä»¤è¡Œæ¯”è¾ƒéº»çƒ¦ã€‚</li><li>hexo å¼€å‘è€…æ˜¯å°æ¹¾äººï¼Œæ•…è€Œä¸­æ–‡ç¤¾åŒºæ¯”è¾ƒåºå¤§ï¼›</li><li>hexoçš„æ¨¡æ¿ä¸ªäººæ„Ÿè§‰æ¯”è¾ƒjekyllæ¨¡æ¿åŠŸèƒ½æ›´åŠ ä¸°å¯Œã€‚</li></ol><p>*<em>hexoä¸»é¢˜æ¨¡æ¿æœ‰å¾ˆå¤šï¼Œé…ç½®æ–‡ä»¶ä¸­æ–‡æ–‡æ¡£æœ€å…¨çš„å½“å±nextä¸»é¢˜ *</em></p><ol><li><span class="exturl" data-url="aHR0cDovL3RoZW1lLW5leHQuaWlzc25hbi5jb20v">è€ç‰ˆæœ¬ä¸­æ–‡é…ç½®æ–‡æ¡£<i class="fa fa-external-link-alt"></i></span>  <code>ä¸æ¨èä½¿ç”¨</code></li><li><span class="exturl" data-url="aHR0cHM6Ly90aGVtZS1uZXh0Lm9yZy8=">next ä¸»é¢˜å®˜ç½‘è¯´æ˜æ–‡æ¡£<i class="fa fa-external-link-alt"></i></span> <code>å…·æœ‰å®˜æ–¹ç»´æŠ¤å›¢é˜Ÿï¼Œæ¨èä½¿ç”¨è¯¥æ–‡æ¡£è¿›è¡Œå­¦ä¹ </code></li></ol><h1 id="ğŸš†å¦‚ä½•å°†åšå®¢çš„æœ¬åœ°æ–‡æ¡£è¿ç§»åˆ°windowsä¸‹"><a href="#ğŸš†å¦‚ä½•å°†åšå®¢çš„æœ¬åœ°æ–‡æ¡£è¿ç§»åˆ°windowsä¸‹" class="headerlink" title="ğŸš†å¦‚ä½•å°†åšå®¢çš„æœ¬åœ°æ–‡æ¡£è¿ç§»åˆ°windowsä¸‹"></a>ğŸš†å¦‚ä½•å°†åšå®¢çš„æœ¬åœ°æ–‡æ¡£è¿ç§»åˆ°windowsä¸‹</h1><ol><li><p>å°†åšå®¢æ–‡ä»¶å¤¹æ‹·è´åˆ°windows</p></li><li><p>å®‰è£…<code>node.js</code></p></li><li><p>è¿›å…¥åšå®¢æ–‡ä»¶å¤¹ï¼Œå®‰è£…npm</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install</span><br></pre></td></tr></table></figure></li><li><p>å®‰è£…hexo</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo</span><br></pre></td></tr></table></figure></li><li><p>hexoç”Ÿæˆéƒ¨ç½²å³å¯</p></li></ol><h1 id="ğŸ‘¼å¦‚ä½•æ›´æ–°nextä¸»é¢˜"><a href="#ğŸ‘¼å¦‚ä½•æ›´æ–°nextä¸»é¢˜" class="headerlink" title="ğŸ‘¼å¦‚ä½•æ›´æ–°nextä¸»é¢˜"></a>ğŸ‘¼å¦‚ä½•æ›´æ–°nextä¸»é¢˜</h1><p>1.ä»githubä¸Šä¸‹è½½nextä¸»é¢˜ï¼Œè§£å‹åæ”¾ç½®åˆ°themesä¸»é¢˜ä¸‹ï¼›</p><div class="tabs" id="fourth-unique-name"><ul class="nav-tabs"><li class="tab active"><a href="#fourth-unique-name-1">Solution 1</a></li><li class="tab"><a href="#fourth-unique-name-2">Solution 2</a></li></ul><div class="tab-content"><div class="tab-pane active" id="fourth-unique-name-1"><p>githubç½‘é¡µä¸‹è½½å¹¶è§£å‹</p></div><div class="tab-pane" id="fourth-unique-name-2"><p>åœ¨åšå®¢æ ¹æ–‡ä»¶å¤¹ä¸‹ï¼Œå‘½ä»¤è¡Œå…‹éš†</p>undefined</div></div></div><ol start="2"><li>ä¿®æ”¹<code>themes/next/_config.yml</code>é…ç½®æ–‡ä»¶ï¼Œå…·ä½“é…ç½®æ–¹æ³•å‚è€ƒ<span class="exturl" data-url="aHR0cHM6Ly90aGVtZS1uZXh0Lm9yZy8=">next ä¸»é¢˜å®˜ç½‘è¯´æ˜æ–‡æ¡£<i class="fa fa-external-link-alt"></i></span> </li></ol><h1 id="ğŸ˜å¦‚ä½•ä½¿é…ç½®æ–‡ä»¶ä¸ä¾èµ–themes-next-config-yml"><a href="#ğŸ˜å¦‚ä½•ä½¿é…ç½®æ–‡ä»¶ä¸ä¾èµ–themes-next-config-yml" class="headerlink" title="ğŸ˜å¦‚ä½•ä½¿é…ç½®æ–‡ä»¶ä¸ä¾èµ–themes/next/_config.yml"></a>ğŸ˜å¦‚ä½•ä½¿é…ç½®æ–‡ä»¶ä¸ä¾èµ–<code>themes/next/_config.yml</code></h1><p>åªéœ€å°†<code>themes/next/_config.yml</code>ä¸­ä½ æƒ³ä¿®æ”¹çš„å†…å®¹ï¼Œæ‹·è´åˆ°ä½ çš„åšå®¢æ ¹ç›®å½•ä¸‹çš„<code>_config.yml</code>æ–‡ä»¶ä¸­å°±å¯ä»¥äº†ã€‚</p><p><strong>æ³¨æ„</strong> ï¼šåœ¨æ‹·è´åˆ°æ ¹ç›®å½•ä¸‹çš„<code>_config.yml</code>æ–‡ä»¶ä¸­å‰ï¼Œéœ€è¦æ·»åŠ <code>theme_config:</code>, æ‹·è´å†…å®¹ä¸ºå…¶å­å†…å®¹ï¼Œæ³¨æ„æ ¼å¼ã€‚æ‹·è´å†…å®¹æ¯è¡Œå‰éœ€è¦æœ‰ä¸¤ä¸ªç©ºæ ¼ï¼Œå¯ä»¥é€šè¿‡æ–‡æ¡£åˆ—ç¼–è¾‘æ·»åŠ ã€‚</p><p>ä¸‹æ¬¡æ›´æ–°nextç‰ˆæœ¬ï¼Œåªéœ€åˆ°nextæ–‡ä»¶å¤¹ä¸‹ï¼Œè¿è¡Œå‘½ä»¤è¡Œ<code>get pull</code>å³å¯ã€‚</p><h1 id="ğŸˆå¦‚ä½•è‡ªå®šä¹‰é…è‰²å¸ƒå±€ç­‰"><a href="#ğŸˆå¦‚ä½•è‡ªå®šä¹‰é…è‰²å¸ƒå±€ç­‰" class="headerlink" title="ğŸˆå¦‚ä½•è‡ªå®šä¹‰é…è‰²å¸ƒå±€ç­‰"></a>ğŸˆå¦‚ä½•è‡ªå®šä¹‰é…è‰²å¸ƒå±€ç­‰</h1><h2 id="ğŸ©é¡µé¢å¸ƒå±€é…ç½®"><a href="#ğŸ©é¡µé¢å¸ƒå±€é…ç½®" class="headerlink" title="ğŸ©é¡µé¢å¸ƒå±€é…ç½®"></a>ğŸ©é¡µé¢å¸ƒå±€é…ç½®</h2><p>ç¼–è¾‘æ ¹ç›®å½•ä¸‹<code>source\_data</code>ä¸‹çš„é…ç½®æ–‡æ¡£ï¼Œå¦‚<code>styles.styl``variables.styl</code>ç­‰å³å¯ã€‚</p><h1 id="ğŸƒé…ç½®æˆåŠŸæµ‹è¯•"><a href="#ğŸƒé…ç½®æˆåŠŸæµ‹è¯•" class="headerlink" title="ğŸƒé…ç½®æˆåŠŸæµ‹è¯•"></a>ğŸƒé…ç½®æˆåŠŸæµ‹è¯•</h1><p>æ’ä»¶æµ‹è¯•å…·ä½“è§<span class="exturl" data-url="aHR0cHM6Ly90aGVtZS1uZXh0Lm9yZy9kb2NzL3RhZy1wbHVnaW5zLw==">å®˜æ–¹ç½‘ç«™è¯´æ˜<i class="fa fa-external-link-alt"></i></span></p><h2 id="ğŸ§¨Labelæµ‹è¯•"><a href="#ğŸ§¨Labelæµ‹è¯•" class="headerlink" title="ğŸ§¨Labelæµ‹è¯•"></a>ğŸ§¨Labelæµ‹è¯•</h2><figure class="highlight md"><figcaption><span>label.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;% label [class]@Text %&#125;</span><br><span class="line"></span><br><span class="line">[class] : default | primary | success | info | warning | danger.</span><br><span class="line"><span class="code">          '@Text' can be specified with or without space</span></span><br><span class="line"><span class="code">          E.g. 'success @text' similar to 'success@text'.</span></span><br><span class="line"><span class="code">          If not specified, default class will be selected.</span></span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% label @ipsum %&#125; &#123;% label primary@dolor sit %&#125; &#123;% label success@adipiscing elit, %&#125; sed &#123;% label info@do eiusmod %&#125;</span><br></pre></td></tr></table></figure><p>Lorem <span class="label default">ipsum</span> <span class="label primary">dolor sit</span> amet, consectetur <span class="label success">adipiscing elit,</span> sed <span class="label info">do eiusmod</span> tempor incididunt ut labore et dolore magna aliqua.</p><p>Ut enim *<span class="label warning">ad</span>* minim veniam, quis <strong><span class="label danger">nostrud</span></strong> exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p><p>Duis aute irure dolor in reprehenderit in voluptate <del><span class="label default">velit</span></del> <mark>esse</mark> cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p><h2 id="âœ¨å›¾ç‰‡ç»„åŠ è½½é…ç½®ï¼Œ3å‰¯å›¾ä¸¤è¡Œæ’åˆ—"><a href="#âœ¨å›¾ç‰‡ç»„åŠ è½½é…ç½®ï¼Œ3å‰¯å›¾ä¸¤è¡Œæ’åˆ—" class="headerlink" title="âœ¨å›¾ç‰‡ç»„åŠ è½½é…ç½®ï¼Œ3å‰¯å›¾ä¸¤è¡Œæ’åˆ—"></a>âœ¨å›¾ç‰‡ç»„åŠ è½½é…ç½®ï¼Œ3å‰¯å›¾ä¸¤è¡Œæ’åˆ—</h2><figure class="highlight md"><figcaption><span>grouppicture.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;% grouppicture [group]-[layout] %&#125;&#123;% endgrouppicture %&#125;</span><br><span class="line">&#123;% gp [group]-[layout] %&#125;&#123;% endgp %&#125;</span><br><span class="line"></span><br><span class="line">[group]  : Total number of pictures to add in the group.</span><br><span class="line">[layout] : Default picture under the group to show.</span><br></pre></td></tr></table></figure><div class="group-picture"><div class="group-picture-container"><div class="group-picture-row"><div class="group-picture-column" style="width: 100%;"><img src="/2020/05/01/hexoç»“åˆnextä¸»é¢˜æ­å»ºåšå®¢åŠå…¶ç‰ˆæœ¬æ›´æ–°æ–¹æ³•/%E5%B8%8C%E8%85%8A%E5%AD%97%E6%AF%8D%E7%AE%80%E8%A1%A8.png" alt></div></div><div class="group-picture-row"><div class="group-picture-column" style="width: 50%;"><img src="/2020/05/01/hexoç»“åˆnextä¸»é¢˜æ­å»ºåšå®¢åŠå…¶ç‰ˆæœ¬æ›´æ–°æ–¹æ³•/%E5%B8%8C%E8%85%8A%E5%AD%97%E6%AF%8D%E7%AE%80%E8%A1%A8.png" alt></div><div class="group-picture-column" style="width: 50%;"><img src="/2020/05/01/hexoç»“åˆnextä¸»é¢˜æ­å»ºåšå®¢åŠå…¶ç‰ˆæœ¬æ›´æ–°æ–¹æ³•/%E5%B8%8C%E8%85%8A%E5%AD%97%E6%AF%8D%E7%AE%80%E8%A1%A8.png" alt></div></div></div></div><h2 id="ğŸ„mermaid-æµ‹è¯•"><a href="#ğŸ„mermaid-æµ‹è¯•" class="headerlink" title="ğŸ„mermaid æµ‹è¯•"></a>ğŸ„mermaid æµ‹è¯•</h2><figure class="highlight md"><figcaption><span>mermaid.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;% mermaid type %&#125;</span><br><span class="line">&#123;% endmermaid %&#125;</span><br><span class="line"></span><br><span class="line">type : type of the mermaid chart, visit https://github.com/knsv/mermaid for more information.</span><br></pre></td></tr></table></figure><pre class="mermaid" style="text-align: center;">            sequenceDiagram            participant Aliceparticipant Bobparticipant John as John<br>Second LineAlice ->> Bob: Hello Bob, how are you?Bob-->>John: How about you John?Bob--x Alice: I am good thanks!Bob-x John: I am good thanks!Note right of John: Bob thinks a long<br>long time, so long<br>that the text does<br>not fit on a row.Bob-->Alice: Checking with John...alt either thisAlice->>John: Yeselse or thisAlice->>John: Noelse or this will happenAlice->John: Maybeendpar this happens in parallelAlice -->> Bob: Parallel message 1andAlice -->> John: Parallel message 2end          </pre><pre class="mermaid" style="text-align: center;">            graph LR            47(SAM.CommonFA.FMESummary)-->48(SAM.CommonFA.CommonFAFinanceBudget)37(SAM.CommonFA.BudgetSubserviceLineVolume)-->48(SAM.CommonFA.CommonFAFinanceBudget)35(SAM.CommonFA.PopulationFME)-->47(SAM.CommonFA.FMESummary)41(SAM.CommonFA.MetricCost)-->47(SAM.CommonFA.FMESummary)44(SAM.CommonFA.MetricOutliers)-->47(SAM.CommonFA.FMESummary)46(SAM.CommonFA.MetricOpportunity)-->47(SAM.CommonFA.FMESummary)40(SAM.CommonFA.OPVisits)-->47(SAM.CommonFA.FMESummary)38(SAM.CommonFA.CommonFAFinanceRefund)-->47(SAM.CommonFA.FMESummary)43(SAM.CommonFA.CommonFAFinancePicuDays)-->47(SAM.CommonFA.FMESummary)42(SAM.CommonFA.CommonFAFinanceNurseryDays)-->47(SAM.CommonFA.FMESummary)45(SAM.CommonFA.MetricPreOpportunity)-->46(SAM.CommonFA.MetricOpportunity)35(SAM.CommonFA.PopulationFME)-->45(SAM.CommonFA.MetricPreOpportunity)41(SAM.CommonFA.MetricCost)-->45(SAM.CommonFA.MetricPreOpportunity)41(SAM.CommonFA.MetricCost)-->44(SAM.CommonFA.MetricOutliers)39(SAM.CommonFA.ChargeDetails)-->43(SAM.CommonFA.CommonFAFinancePicuDays)39(SAM.CommonFA.ChargeDetails)-->42(SAM.CommonFA.CommonFAFinanceNurseryDays)39(SAM.CommonFA.ChargeDetails)-->41(SAM.CommonFA.MetricCost)39(SAM.CommonFA.ChargeDetails)-->40(SAM.CommonFA.OPVisits)35(SAM.CommonFA.PopulationFME)-->39(SAM.CommonFA.ChargeDetails)36(SAM.CommonFA.PremetricCost)-->39(SAM.CommonFA.ChargeDetails)          </pre><h2 id="ğŸ‰tabsæµ‹è¯•"><a href="#ğŸ‰tabsæµ‹è¯•" class="headerlink" title="ğŸ‰tabsæµ‹è¯•"></a>ğŸ‰tabsæµ‹è¯•</h2><p>ä½¿ç”¨æ–¹æ³•</p><figure class="highlight md"><figcaption><span>tabs.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tabs Unique name, [index] %&#125;</span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- tab [Tab caption] [@icon] --&gt;</span></span></span><br><span class="line">Any content (support inline tags too).</span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- endtab --&gt;</span></span></span><br><span class="line">&#123;% endtabs %&#125;</span><br><span class="line"></span><br><span class="line">Unique name   : Unique name of tabs block tag without comma.</span><br><span class="line"><span class="code">                Will be used in #id's as prefix for each tab with their index numbers.</span></span><br><span class="line"><span class="code">                If there are whitespaces in name, for generate #id all whitespaces will replaced by dashes.</span></span><br><span class="line"><span class="code">                Only for current url of post/page must be unique!</span></span><br><span class="line">[index]       : Index number of active tab.</span><br><span class="line"><span class="code">                If not specified, first tab (1) will be selected.</span></span><br><span class="line"><span class="code">                If index is -1, no tab will be selected. It's will be something like spoiler.</span></span><br><span class="line"><span class="code">                Optional parameter.</span></span><br><span class="line">[Tab caption] : Caption of current tab.</span><br><span class="line"><span class="code">                If not caption specified, unique name with tab index suffix will be used as caption of tab.</span></span><br><span class="line"><span class="code">                If not caption specified, but specified icon, caption will empty.</span></span><br><span class="line"><span class="code">                Optional parameter.</span></span><br><span class="line">[@icon]       : FontAwesome icon name (without 'fa-' at the begining).</span><br><span class="line"><span class="code">                Can be specified with or without space; e.g. 'Tab caption @icon' similar to 'Tab caption@icon'.</span></span><br><span class="line"><span class="code">                Optional parameter.</span></span><br></pre></td></tr></table></figure><div class="tabs" id="tags"><ul class="nav-tabs"><li class="tab active"><a href="#tags-1">Tags 1</a></li><li class="tab"><a href="#tags-2">Tags 2</a></li><li class="tab"><a href="#tags-3">Tags 3</a></li></ul><div class="tab-content"><div class="tab-pane active" id="tags-1"><p><strong>This is Tab 1.</strong></p><ol><li>One</li><li>Two</li><li>Three</li></ol><p>4-spaces code block:</p><pre><code>nano /etc</code></pre><p>Tagged code block:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">code tag</span><br><span class="line">code tag</span><br><span class="line">code tag</span><br></pre></td></tr></table></figure><div class="note default">            <p>Note default tag.</p>          </div></div><div class="tab-pane" id="tags-2"><p><strong>This is Tab 2.</strong></p><ul><li>Five</li><li>Six</li><li>Seven</li></ul><div class="note primary">            <div class="video-container"><iframe src="//www.youtube.com/embed/Kt7u5kr_P5o" frameborder="0" allowfullscreen></iframe></div>          </div></div><div class="tab-pane" id="tags-3"><p><strong>This is Tab 3.</strong></p><div class="tabs" id="sub-tabs"><ul class="nav-tabs"><li class="tab active"><a href="#sub-tabs-1">Sub Tabs 1</a></li><li class="tab"><a href="#sub-tabs-2">Sub Tabs 2</a></li><li class="tab"><a href="#sub-tabs-3">Sub Tabs 3</a></li></ul><div class="tab-content"><div class="tab-pane active" id="sub-tabs-1"><p><strong>This is Sub Tab 1.</strong></p><div class="note success">            <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Phasellus hendrerit. Pellentesque aliquet nibh nec urna. In nisi neque, aliquet vel, dapibus id, mattis vel, nisi. Sed pretium, ligula sollicitudin laoreet viverra, tortor libero sodales leo, eget blandit nunc tortor eu nibh. Nullam mollis. Ut justo. Suspendisse potenti. Pellentesque fermentum dolor. Aliquam quam lectus, facilisis auctor, ultrices ut, elementum vulputate, nunc.</p><div class="note warning">            <p>Sed egestas, ante et vulputate volutpat, eros pede semper est, vitae luctus metus libero eu augue. Morbi purus libero, faucibus adipiscing, commodo quis, gravida id, est. Sed lectus. Praesent elementum hendrerit tortor. Sed semper lorem at felis. Vestibulum volutpat, lacus a ultrices sagittis, mi neque euismod dui, eu pulvinar nunc sapien ornare nisl. Phasellus pede arcu, dapibus eu, fermentum et, dapibus sed, urna.</p>          </div><p>Morbi interdum mollis sapien. Sed ac risus. Phasellus lacinia, magna a ullamcorper laoreet, lectus arcu pulvinar risus, vitae facilisis libero dolor a purus. Sed vel lacus. Mauris nibh felis, adipiscing varius, adipiscing in, lacinia vel, tellus. Suspendisse ac urna. Etiam pellentesque mauris ut lectus. Nunc tellus ante, mattis eget, gravida vitae, ultricies ac, leo. Integer leo pede, ornare a, lacinia eu, vulputate vel, nisl.</p>          </div></div><div class="tab-pane" id="sub-tabs-2"><p><strong>This is Sub Tab 2.</strong></p><div class="note success">            <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Phasellus hendrerit. Pellentesque aliquet nibh nec urna. In nisi neque, aliquet vel, dapibus id, mattis vel, nisi. Sed pretium, ligula sollicitudin laoreet viverra, tortor libero sodales leo, eget blandit nunc tortor eu nibh. Nullam mollis. Ut justo. Suspendisse potenti. Pellentesque fermentum dolor. Aliquam quam lectus, facilisis auctor, ultrices ut, elementum vulputate, nunc.</p><p>Sed egestas, ante et vulputate volutpat, eros pede semper est, vitae luctus metus libero eu augue. Morbi purus libero, faucibus adipiscing, commodo quis, gravida id, est. Sed lectus. Praesent elementum hendrerit tortor. Sed semper lorem at felis. Vestibulum volutpat, lacus a ultrices sagittis, mi neque euismod dui, eu pulvinar nunc sapien ornare nisl. Phasellus pede arcu, dapibus eu, fermentum et, dapibus sed, urna.</p><div class="note danger">            <p>Morbi interdum mollis sapien. Sed ac risus. Phasellus lacinia, magna a ullamcorper laoreet, lectus arcu pulvinar risus, vitae facilisis libero dolor a purus. Sed vel lacus. Mauris nibh felis, adipiscing varius, adipiscing in, lacinia vel, tellus. Suspendisse ac urna. Etiam pellentesque mauris ut lectus. Nunc tellus ante, mattis eget, gravida vitae, ultricies ac, leo. Integer leo pede, ornare a, lacinia eu, vulputate vel, nisl.</p>          </div>          </div></div><div class="tab-pane" id="sub-tabs-3"><p><strong>This is Sub Tab 3.</strong></p><div class="tabs" id="sub-sub-tabs"><ul class="nav-tabs"><li class="tab active"><a href="#sub-sub-tabs-1">Sub-Sub Tabs 1</a></li><li class="tab"><a href="#sub-sub-tabs-2">Sub-Sub Tabs 2</a></li><li class="tab"><a href="#sub-sub-tabs-3">Sub-Sub Tabs 3</a></li></ul><div class="tab-content"><div class="tab-pane active" id="sub-sub-tabs-1"><p><strong>This is Sub-Sub Tab 1 of Sub Tab 3.</strong></p><div class="note success">            <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Phasellus hendrerit. Pellentesque aliquet nibh nec urna. In nisi neque, aliquet vel, dapibus id, mattis vel, nisi. Sed pretium, ligula sollicitudin laoreet viverra, tortor libero sodales leo, eget blandit nunc tortor eu nibh. Nullam mollis. Ut justo. Suspendisse potenti. Pellentesque fermentum dolor. Aliquam quam lectus, facilisis auctor, ultrices ut, elementum vulputate, nunc.</p><p>Sed egestas, ante et vulputate volutpat, eros pede semper est, vitae luctus metus libero eu augue. Morbi purus libero, faucibus adipiscing, commodo quis, gravida id, est. Sed lectus. Praesent elementum hendrerit tortor. Sed semper lorem at felis. Vestibulum volutpat, lacus a ultrices sagittis, mi neque euismod dui, eu pulvinar nunc sapien ornare nisl. Phasellus pede arcu, dapibus eu, fermentum et, dapibus sed, urna.</p><p>Morbi interdum mollis sapien. Sed ac risus. Phasellus lacinia, magna a ullamcorper laoreet, lectus arcu pulvinar risus, vitae facilisis libero dolor a purus. Sed vel lacus. Mauris nibh felis, adipiscing varius, adipiscing in, lacinia vel, tellus. Suspendisse ac urna. Etiam pellentesque mauris ut lectus. Nunc tellus ante, mattis eget, gravida vitae, ultricies ac, leo. Integer leo pede, ornare a, lacinia eu, vulputate vel, nisl.</p>          </div></div><div class="tab-pane" id="sub-sub-tabs-2"><p><strong>This is Sub-Sub Tab 2 of Sub Tab 3.</strong></p><div class="note success">            <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Phasellus hendrerit. Pellentesque aliquet nibh nec urna. In nisi neque, aliquet vel, dapibus id, mattis vel, nisi. Sed pretium, ligula sollicitudin laoreet viverra, tortor libero sodales leo, eget blandit nunc tortor eu nibh. Nullam mollis. Ut justo. Suspendisse potenti. Pellentesque fermentum dolor. Aliquam quam lectus, facilisis auctor, ultrices ut, elementum vulputate, nunc.</p><div class="note warning">            <p>Sed egestas, ante et vulputate volutpat, eros pede semper est, vitae luctus metus libero eu augue. Morbi purus libero, faucibus adipiscing, commodo quis, gravida id, est. Sed lectus. Praesent elementum hendrerit tortor. Sed semper lorem at felis. Vestibulum volutpat, lacus a ultrices sagittis, mi neque euismod dui, eu pulvinar nunc sapien ornare nisl. Phasellus pede arcu, dapibus eu, fermentum et, dapibus sed, urna.</p><p>Morbi interdum mollis sapien. Sed ac risus. Phasellus lacinia, magna a ullamcorper laoreet, lectus arcu pulvinar risus, vitae facilisis libero dolor a purus. Sed vel lacus. Mauris nibh felis, adipiscing varius, adipiscing in, lacinia vel, tellus. Suspendisse ac urna. Etiam pellentesque mauris ut lectus. Nunc tellus ante, mattis eget, gravida vitae, ultricies ac, leo. Integer leo pede, ornare a, lacinia eu, vulputate vel, nisl.</p>          </div>          </div></div><div class="tab-pane" id="sub-sub-tabs-3"><p><strong>This is Sub-Sub Tab 3 of Sub Tab 3.</strong></p><div class="note success">            <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Phasellus hendrerit. Pellentesque aliquet nibh nec urna. In nisi neque, aliquet vel, dapibus id, mattis vel, nisi. Sed pretium, ligula sollicitudin laoreet viverra, tortor libero sodales leo, eget blandit nunc tortor eu nibh. Nullam mollis. Ut justo. Suspendisse potenti. Pellentesque fermentum dolor. Aliquam quam lectus, facilisis auctor, ultrices ut, elementum vulputate, nunc.</p><div class="note warning">            <p>Sed egestas, ante et vulputate volutpat, eros pede semper est, vitae luctus metus libero eu augue. Morbi purus libero, faucibus adipiscing, commodo quis, gravida id, est. Sed lectus. Praesent elementum hendrerit tortor. Sed semper lorem at felis. Vestibulum volutpat, lacus a ultrices sagittis, mi neque euismod dui, eu pulvinar nunc sapien ornare nisl. Phasellus pede arcu, dapibus eu, fermentum et, dapibus sed, urna.</p><div class="note danger">            <p>Morbi interdum mollis sapien. Sed ac risus. Phasellus lacinia, magna a ullamcorper laoreet, lectus arcu pulvinar risus, vitae facilisis libero dolor a purus. Sed vel lacus. Mauris nibh felis, adipiscing varius, adipiscing in, lacinia vel, tellus. Suspendisse ac urna. Etiam pellentesque mauris ut lectus. Nunc tellus ante, mattis eget, gravida vitae, ultricies ac, leo. Integer leo pede, ornare a, lacinia eu, vulputate vel, nisl.</p>          </div>          </div>          </div></div></div></div></div></div></div></div></div></div><h2 id="ğŸŠNoteæµ‹è¯•"><a href="#ğŸŠNoteæµ‹è¯•" class="headerlink" title="ğŸŠNoteæµ‹è¯•"></a>ğŸŠNoteæµ‹è¯•</h2><p>ä½¿ç”¨æ–¹æ³•ï¼š</p><figure class="highlight md"><figcaption><span>note.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note [class] [no-icon] %&#125;</span><br><span class="line">Any content (support inline tags too.io).</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">[class]   : default | primary | success | info | warning | danger.</span><br><span class="line">[no-icon] : Disable icon in note.</span><br><span class="line"></span><br><span class="line">All parameters are optional.</span><br></pre></td></tr></table></figure><div class="note primary">            <h4 id="Primary-Header"><a href="#Primary-Header" class="headerlink" title="Primary Header"></a>Primary Header</h4><p><strong>Welcome</strong> to <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo!<i class="fa fa-external-link-alt"></i></span></p>          </div><div class="note info">            <h3 id="Info-Header"><a href="#Info-Header" class="headerlink" title="Info Header"></a>Info Header</h3><p><strong>Welcome</strong> to <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo!<i class="fa fa-external-link-alt"></i></span></p>          </div><div class="note success">            <h4 id="Success-Header"><a href="#Success-Header" class="headerlink" title="Success Header"></a>Success Header</h4><p><strong>Welcome</strong> to <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo!<i class="fa fa-external-link-alt"></i></span></p>          </div><div class="note warning">            <h4 id="Warning-Header"><a href="#Warning-Header" class="headerlink" title="Warning Header"></a>Warning Header</h4><p><strong>Welcome</strong> to <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo!<i class="fa fa-external-link-alt"></i></span></p>          </div><div class="note danger">            <h4 id="Danger-Header"><a href="#Danger-Header" class="headerlink" title="Danger Header"></a>Danger Header</h4><p><strong>Welcome</strong> to <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo!<i class="fa fa-external-link-alt"></i></span></p>          </div><p><code>ç­‰ç­‰</code></p><h2 id="ğŸ‹buttonæµ‹è¯•"><a href="#ğŸ‹buttonæµ‹è¯•" class="headerlink" title="ğŸ‹buttonæµ‹è¯•"></a>ğŸ‹buttonæµ‹è¯•</h2><figure class="highlight md"><figcaption><span>button.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;% button url, text, icon [class], [title] %&#125;</span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- Tag Alias --&gt;</span></span></span><br><span class="line">&#123;% btn url, text, icon [class], [title] %&#125;</span><br><span class="line"></span><br><span class="line">url     : Absolute or relative path to URL.</span><br><span class="line">text    : Button text. Required if no icon specified.</span><br><span class="line">icon    : FontAwesome icon name (without 'fa-' at the begining). Required if no text specified.</span><br><span class="line">[class] : FontAwesome class(es): fa-fw | fa-lg | fa-2x | fa-3x | fa-4x | fa-5x</span><br><span class="line"><span class="code">          Optional parameter.</span></span><br><span class="line">[title] : Tooltip at mouseover.</span><br><span class="line"><span class="code">          Optional parameter.</span></span><br></pre></td></tr></table></figure><a class="btn" href="#">            <i class="fa fa-"></i>Text          </a><a class="btn" href="#" title="Title">            <i class="fa fa-"></i>Text & Title          </a><p><a class="btn" href="#">            <i class="fa fa-home fa-fw fa-lg"></i>Text & Large Icon          </a><a class="btn" href="#" title="Title">            <i class="fa fa-home fa-fw fa-lg"></i>Text & Large Icon & Title          </a></p>Lorem <a class="btn" href="#">            <i class="fa fa-home fa-fw fa-lg"></i>Lorem          </a> ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident <a class="btn" href="#">            <i class="fa fa-home fa-fw fa-lg"></i>Ipsum          </a>, sunt in culpa qui officia deserunt mollit anim id est laborum.</p><div class="note info">            <a class="btn" href="#">            <i class="fa fa-home fa-fw"></i>Text & Icon          </a><a class="btn" href="#" title="Title">            <i class="fa fa-home"></i>          </a><a class="btn" href="#">            <i class="fa fa-"></i>Text          </a><p><a href="#">Link</a></p>          </div><div class="text-center"><div><a class="btn" href="#">            <i class="fa fa-heading"></i>          </a><a class="btn" href="#">            <i class="fab fa-edge"></i>          </a><a class="btn" href="#">            <i class="fa fa-times"></i>          </a><a class="btn" href="#">            <i class="far fa-circle"></i>          </a></div><div><a class="btn" href="#">            <i class="fa fa-italic"></i>          </a><a class="btn" href="#">            <i class="fab fa-scribd"></i>          </a></div><div><a class="btn" href="#">            <i class="fab fa-google"></i>          </a><a class="btn" href="#">            <i class="fab fa-chrome"></i>          </a><a class="btn" href="#">            <i class="fab fa-opera"></i>          </a><a class="btn" href="#">            <i class="fa fa-gem fa-rotate-270"></i>          </a></div></div><div class="text-center"><a class="btn" href="#" title="Previous Chapter (Full Image)">            <i class="fa fa-arrow-left fa-fw fa-lg"></i>Previous Chapter          </a> <a class="btn" href="#" title="Next Chapter (Label)">            <i class="fa fa-arrow-right fa-fw fa-lg"></i>Next Chapter          </a></div><div class="text-center"><a class="btn" href="https://github.com/theme-next/hexo-theme-next" title="NexT source code" target="_blank" rel="noopener">            <i class="fab fa-github fa-fw fa-lg"></i>NexT          </a></div><h2 id="ğŸCaniuseæµ‹è¯•"><a href="#ğŸCaniuseæµ‹è¯•" class="headerlink" title="ğŸCaniuseæµ‹è¯•"></a>ğŸCaniuseæµ‹è¯•</h2><figure class="highlight md"><figcaption><span>canius.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;% caniuse feature @ periods %&#125;</span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- Tag Alias --&gt;</span></span></span><br><span class="line">&#123;% can feature @ periods %&#125;</span><br><span class="line"></span><br><span class="line">feature : Search for the feature you want on https://caniuse.com, then click on the hash sign to the left of the search result heading and you will get the unique name of this feature.</span><br><span class="line">periods : Select the browser versions to display. Supported values: past<span class="emphasis">_1, past_</span>2, past<span class="emphasis">_3, past_</span>4, past<span class="emphasis">_5, current, future_</span>3, future<span class="emphasis">_2, future_</span>1. If this value is empty, the default value 'current' will be used.</span><br></pre></td></tr></table></figure><iframe data-feature="sharedarraybuffer" src="https://caniuse.bitsofco.de/embed/index.html?feat=sharedarraybuffer&periods=current&accessible-colours=false" frameborder="0" width="100%" height="400px"></iframe><iframe data-feature="link-rel-modulepreload" src="https://caniuse.bitsofco.de/embed/index.html?feat=link-rel-modulepreload&periods=past_1,past_2,past_3,past_4,past_5&accessible-colours=false" frameborder="0" width="100%" height="400px"></iframe><h2 id="ğŸ§§pdfæµ‹è¯•"><a href="#ğŸ§§pdfæµ‹è¯•" class="headerlink" title="ğŸ§§pdfæµ‹è¯•"></a>ğŸ§§pdfæµ‹è¯•</h2><figure class="highlight md"><figcaption><span>pdf.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;% pdf url [height] %&#125;</span><br><span class="line"></span><br><span class="line">[url]    : Relative path to PDF file.</span><br><span class="line">[height] : Optional. Height of the PDF display element, e.g. 800px.</span><br></pre></td></tr></table></figure><div class="pdfobject-container" data-target="https://sci-hub.tw/downloads-ii/2020-03-01/f0/licata2020.pdf" data-height="600px"></div><h2 id="ğŸvideoæµ‹è¯•"><a href="#ğŸvideoæµ‹è¯•" class="headerlink" title="ğŸvideoæµ‹è¯•"></a>ğŸvideoæµ‹è¯•</h2><figure class="highlight md"><figcaption><span>video.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% video url %&#125;</span><br></pre></td></tr></table></figure><video src="https://assets.mixkit.co/videos/download/mixkit-watering-a-flower-pot-1780.mp4" preload="metadata" controls playsinline poster>Sorry, your browser does not support the video tag.</video>]]></content>
    
    <summary type="html">
    
      åšå®¢æ­å»ºåŠä¸»é¢˜åˆ‡æ¢ä¸æ›´æ–°æ–¹æ³•
    
    </summary>
    
    
      <category term="ç¼–ç¨‹å·¥å…·å­¦ä¹ ä¸åº”ç”¨" scheme="https://Hubery-Lee.github.io/categories/%E7%BC%96%E7%A8%8B%E5%B7%A5%E5%85%B7%E5%AD%A6%E4%B9%A0%E4%B8%8E%E5%BA%94%E7%94%A8/"/>
    
    
      <category term="hexo" scheme="https://Hubery-Lee.github.io/tags/hexo/"/>
    
      <category term="åšå®¢æ­å»º" scheme="https://Hubery-Lee.github.io/tags/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/"/>
    
      <category term="nextä¸»é¢˜" scheme="https://Hubery-Lee.github.io/tags/next%E4%B8%BB%E9%A2%98/"/>
    
  </entry>
  
  <entry>
    <title>ä½œè€…githubé¡¹ç›®å¯¼èˆª</title>
    <link href="https://hubery-lee.github.io/2020/04/30/%E4%BD%9C%E8%80%85github%E9%A1%B9%E7%9B%AE%E5%AF%BC%E8%88%AA/"/>
    <id>https://hubery-lee.github.io/2020/04/30/%E4%BD%9C%E8%80%85github%E9%A1%B9%E7%9B%AE%E5%AF%BC%E8%88%AA/</id>
    <published>2020-04-29T16:00:00.000Z</published>
    <updated>2020-05-01T09:19:35.366Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ä¸ªäººç¬”è®°"><a href="#ä¸ªäººç¬”è®°" class="headerlink" title="ä¸ªäººç¬”è®°"></a>ä¸ªäººç¬”è®°</h1><ol><li>æ—¥å¸¸å­¦ä¹ ç¬”è®°<a href="https://hubery-lee.github.io/Notes/">Notes</a></li></ol><h1 id="Bilibiliè§†é¢‘èµ„æ–™"><a href="#Bilibiliè§†é¢‘èµ„æ–™" class="headerlink" title="Bilibiliè§†é¢‘èµ„æ–™"></a>Bilibiliè§†é¢‘èµ„æ–™</h1><ol><li>Geant4æ•™ç¨‹<a href="https://hubery-lee.github.io/Geant4-jiaocheng/">Geant4-jiaocheng</a></li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;ä¸ªäººç¬”è®°&quot;&gt;&lt;a href=&quot;#ä¸ªäººç¬”è®°&quot; class=&quot;headerlink&quot; title=&quot;ä¸ªäººç¬”è®°&quot;&gt;&lt;/a&gt;ä¸ªäººç¬”è®°&lt;/h1&gt;&lt;ol&gt;
&lt;li&gt;æ—¥å¸¸å­¦ä¹ ç¬”è®°&lt;a href=&quot;https://hubery-lee.github.io/Notes/&quot;&gt;Note
      
    
    </summary>
    
    
      <category term="ä½œè€…githubé¡¹ç›®å¯¼èˆª" scheme="https://Hubery-Lee.github.io/categories/%E4%BD%9C%E8%80%85github%E9%A1%B9%E7%9B%AE%E5%AF%BC%E8%88%AA/"/>
    
    
      <category term="ä½œè€…githubé¡¹ç›®å¯¼èˆª" scheme="https://Hubery-Lee.github.io/tags/%E4%BD%9C%E8%80%85github%E9%A1%B9%E7%9B%AE%E5%AF%BC%E8%88%AA/"/>
    
  </entry>
  
  <entry>
    <title>archlinuxå®‰è£…ä¸ä½¿ç”¨ä½“éªŒ</title>
    <link href="https://hubery-lee.github.io/2020/04/28/archlinux%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8%E4%BD%93%E9%AA%8C/"/>
    <id>https://hubery-lee.github.io/2020/04/28/archlinux%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8%E4%BD%93%E9%AA%8C/</id>
    <published>2020-04-28T10:01:44.000Z</published>
    <updated>2020-04-28T14:10:50.152Z</updated>
    
    <content type="html"><![CDATA[<h1 id="archlinuxä¹‹manjaroä¹‹ä½¿ç”¨ä½“éªŒ"><a href="#archlinuxä¹‹manjaroä¹‹ä½¿ç”¨ä½“éªŒ" class="headerlink" title="archlinuxä¹‹manjaroä¹‹ä½¿ç”¨ä½“éªŒ"></a>archlinuxä¹‹manjaroä¹‹ä½¿ç”¨ä½“éªŒ</h1><h2 id="1-åŠ¨æœº"><a href="#1-åŠ¨æœº" class="headerlink" title="1.åŠ¨æœº"></a>1.åŠ¨æœº</h2><p>æ—©ä¸Šåœ¨å¾®ä¿¡ç¾¤é‡Œçœ‹åˆ°æœ‰äººå‘äº†ä¸€ä¸ªmanjaroç³»ç»Ÿä¸Šè·‘ç¨‹åºçš„å›¾ã€‚æˆ‘ç¬é—´æƒŠå¹äºå…¶æ“ä½œç³»ç»Ÿå›¾åƒç•Œé¢çš„ç‚«é…·ã€‚ç„¶åå°è¯•å»æŸ¥è¯å’Œå®‰è£…manjaroã€‚åœ¨æŸ¥é˜…ç›¸å…³èµ„æ–™åï¼Œå‘ç°ç½‘ä¸Šå¾ˆå¤šäººåœ¨æ¨èmanjaroã€mintå’Œdeepinã€‚ä»Šå¤©åˆ†åˆ«å¯¹manjaroå’Œdeepinè¿›è¡Œäº†å®‰è£…å’Œä½¿ç”¨å°è¯•ã€‚</p><h2 id="2-â€‹ç°ä»ŠLinuxç³»ç»Ÿé‚£ä¹ˆå¤šï¼Œè¯¥æ€ä¹ˆé€‰å‘¢ï¼Ÿ"><a href="#2-â€‹ç°ä»ŠLinuxç³»ç»Ÿé‚£ä¹ˆå¤šï¼Œè¯¥æ€ä¹ˆé€‰å‘¢ï¼Ÿ" class="headerlink" title="2.â€‹ç°ä»ŠLinuxç³»ç»Ÿé‚£ä¹ˆå¤šï¼Œè¯¥æ€ä¹ˆé€‰å‘¢ï¼Ÿ"></a>2.â€‹ç°ä»ŠLinuxç³»ç»Ÿé‚£ä¹ˆå¤šï¼Œè¯¥æ€ä¹ˆé€‰å‘¢ï¼Ÿ</h2><p>å°†linuxç³»ç»Ÿæ¨å¹¿åˆ°å¹¿ä¸ºäººçŸ¥çš„åŠŸè‡£ä¸»è¦æ˜¯Canoicalå’Œredhatã€‚Canoicalç»´æŠ¤çš„Ubuntuå…·æœ‰å®‰è£…ç®€æ˜“å’Œå›¾åƒç•Œé¢ç‚«é…·ç­‰ç‰¹ç‚¹ï¼Œè¿™äº›ä½¿å¾—Ubuntuè¿…é€Ÿå æ®ä¸ªäººPCè£…æœºé‡ã€‚Redhatç³»åˆ—çš„linuxç³»ç»Ÿæå…¶ç¨³å®šï¼Œä½¿å¾—å…¶è¢«ä¼ä¸šå¹¿æ³›ä½¿ç”¨ã€‚</p><p>UbuntuåŸºäºDebianï¼Œå±äºDebianå®¶æ—ã€‚å…·ä½“çš„Debiançš„ä»‹ç»å¯çœ‹<span class="exturl" data-url="aHR0cHM6Ly9iYWlrZS5iYWlkdS5jb20vaXRlbS9EZWJpYW4vNzQ4NjY3P2ZyPWFsYWRkaW4=">ç™¾ç§‘<i class="fa fa-external-link-alt"></i></span>ï¼ŒDebianæ˜¯ç”±è‡ªç”±æ“ä½œç³»ç»Ÿåˆä½œç»„ç»‡çš„ä½œå“ï¼Œæ‰€å»ºåŸºç¡€å·¥å…·å‡æ¥ç€å¼€æºç¤¾åŒºã€‚ç‰¹ç‚¹æ˜¯ç³»ç»Ÿå°è¿è¡Œé€Ÿåº¦å¿«ã€‚åœ¨debianä¸Šè™šæ‹Ÿçš„windowsè¿è¡Œé€Ÿåº¦æ¯”windowsåŸç”Ÿç³»ç»Ÿè¿˜è¦å¿«ã€‚</p><p>Redhatæ˜¯ä¸€å®¶å¼€æºè§£å†³æ–¹æ¡ˆä¾›åº”å•†ï¼Œä¸»è¦æœåŠ¡äºä¼ä¸šã€‚è€Œä¼ä¸šå¯¹æ“ä½œç³»ç»Ÿçš„è¦æ±‚ä¸»è¦æ˜¯ç¨³å®šï¼Œç»´æŠ¤æ–¹ä¾¿ï¼Œä¸ä¼šå› ä¸ºç»å¸¸æ›´æ–°è½¯ä»¶è€Œå‡ºç°å¥”æºƒæˆ–é—®é¢˜ï¼Œæ•…è€Œredhat çš„linuxç³»ç»Ÿä¸€èˆ¬ä¸ä¼šåƒä¸ªäººlinux PCç³»ç»Ÿé‚£æ ·é¢‘ç¹çš„æ›´æ–°ã€‚redhatç³»ç»Ÿä¸€èˆ¬è½¯ä»¶ç‰ˆæœ¬ä¸æ–°ï¼Œç‰ˆæœ¬æ›´æ–°ä¸€èˆ¬ä»¥5å¹´ä¸ºå‘¨æœŸï¼Œä¸”ä»˜è´¹ã€‚ä½†redhatå‘å±•äº†å…¶ä¸Šæ¸¸ç³»ç»ŸFedoraå’Œä¸‹æ¸¸ç³»ç»ŸCentosã€‚ Fedoraçš„ç‰¹ç‚¹æ˜¯redhatç³»ç»Ÿçš„åˆ›æ–°å°è¯•ã€‚æ–°æŠ€æœ¯æ–°é›†æˆå…ˆåœ¨fedoraä¸Šå°è¯•ï¼Œæ²¡æœ‰é—®é¢˜åå†å°†å…¶åº”ç”¨åˆ°redhatç³»ç»Ÿä¸Šã€‚è€ŒCentosæ˜¯å…è´¹çš„redhatç³»ç»Ÿï¼Œå…¶ç‰¹ç‚¹æ˜¯å¼€æºç¨³å®šå…è´¹ï¼Œä½†å…¶æŠ€æœ¯ç‰ˆæœ¬è¦è½åäºredhatç³»ç»Ÿã€‚</p><p>å†çœ‹ä¸€ä¸‹<span class="exturl" data-url="aHR0cHM6Ly9kaXN0cm93YXRjaC5jb20vZHdyZXMucGhwP3Jlc291cmNlPXBvcHVsYXJpdHk=">å…¨çƒlinuxä¸‹è½½çƒ­ç‚¹æ’è¡Œç‰ˆ<i class="fa fa-external-link-alt"></i></span>    </p><p>æ’åå‰ä¸‰çš„MXlinuxã€manjaroå’Œmintçš„ç‰¹ç‚¹æ˜¯ï¼Œå›¾åƒç•Œé¢ç‚«ä¸½ï¼Œå®‰è£…è½¯ä»¶æ–¹ä¾¿ã€‚æ¯”è¾ƒé€‚åˆä¸ªäººç”¨æˆ·å·¥ä½œå’Œä½“éªŒã€‚å„ç§è½¯ä»¶åº“æ»šåŠ¨æ›´æ–°å¿«ï¼Œè¿½æ±‚æ–°é¢–æ€§ï¼Œç¼ºç‚¹æ˜¯ç¨³å®šæ€§è¾ƒå·®å’Œå›¾åƒç•Œé¢å†…å­˜å ç”¨è¾ƒå¤šã€‚æ¯”è¾ƒé€‚åˆä¸ªäººç”¨æˆ·ä½¿ç”¨å’Œå­¦ä¹ ã€‚</p><p>manjaro åŸºäºarchlinuxã€‚archlinuxçš„ç‰¹ç‚¹æ˜¯ä¼˜é›…ã€æç®€å’Œæ³¨é‡ä»£ç æ­£ç¡®ã€‚é€šè¿‡å®‰è£…ç³»ç»Ÿå’Œè½¯ä»¶ï¼Œå¯ä»¥ä½¿ç”¨æˆ·å­¦ä¹ linuxçš„åŸç†å’Œç³»ç»Ÿçš„æ“ä½œã€‚</p><table><thead><tr><th>å®¶æ—</th><th>Debian</th><th>redhat</th><th>archlinux</th></tr></thead><tbody><tr><td>ç‰¹ç‚¹</td><td>è½¯ä»¶å¤šå¼€æºã€ç³»ç»Ÿå°ã€è¿è¡Œé€Ÿåº¦å¿«</td><td>ç¨³å®š</td><td>ä¼˜é›…ã€ç®€æ´</td></tr><tr><td>ç”¨æˆ·å¯¹è±¡</td><td>ä¸ªäººPCã€å•ç‰‡æœºï¼Œä¼ä¸šç­‰</td><td>ä¼ä¸š</td><td>ä¸ªäºº</td></tr><tr><td>ç”¨æˆ·è¿½æ±‚</td><td>ä½¿ç”¨ç®€æ˜“ï¼Œå›¾å½¢ç‚«é…·</td><td>ç³»ç»Ÿç¨³å®šä¸å½±å“ä¼ä¸šç»è¥</td><td>å­¦ä¹ å’Œä¼˜é›…çš„ä½¿ç”¨ä½“éªŒ</td></tr></tbody></table><h2 id="License"><a href="#License" class="headerlink" title="License"></a>License</h2><p>ç”±Hubery-Leeç¼–å†™ï¼Œå–œæ¬¢è¯·æ”¶è—ç»™ä¸€ä¸ªèµå§æèµ </p><h2 id="Copyright-copyright-2019-Hubery-Lee"><a href="#Copyright-copyright-2019-Hubery-Lee" class="headerlink" title="Copyright :copyright:2019 Hubery-Lee"></a>Copyright :copyright:2019 <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL0h1YmVyeS1MZWU=">Hubery-Lee<i class="fa fa-external-link-alt"></i></span></h2>]]></content>
    
    <summary type="html">
    
      æœ¬æ–‡ä»‹ç»å¦‚ä½•é€‰æ‹©linuxç³»ç»Ÿ
    
    </summary>
    
    
      <category term="è½¯ä»¶ä½¿ç”¨ä½“éªŒ" scheme="https://Hubery-Lee.github.io/categories/%E8%BD%AF%E4%BB%B6%E4%BD%BF%E7%94%A8%E4%BD%93%E9%AA%8C/"/>
    
    
      <category term="linux" scheme="https://Hubery-Lee.github.io/tags/linux/"/>
    
  </entry>
  
  <entry>
    <title>å¦‚ä½•åˆ©ç”¨pythonçˆ¬å–ç½‘é¡µå›¾ç‰‡-ä½ æ‡‚çš„</title>
    <link href="https://hubery-lee.github.io/2020/04/28/%E5%A6%82%E4%BD%95%E5%88%A9%E7%94%A8python%E7%88%AC%E5%8F%96%E7%BD%91%E9%A1%B5%E5%9B%BE%E7%89%87-%E4%BD%A0%E6%87%82%E7%9A%84/"/>
    <id>https://hubery-lee.github.io/2020/04/28/%E5%A6%82%E4%BD%95%E5%88%A9%E7%94%A8python%E7%88%AC%E5%8F%96%E7%BD%91%E9%A1%B5%E5%9B%BE%E7%89%87-%E4%BD%A0%E6%87%82%E7%9A%84/</id>
    <published>2020-04-28T08:27:37.000Z</published>
    <updated>2020-04-30T17:46:44.186Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å¦‚ä½•åˆ©ç”¨pythonçˆ¬å–ç½‘é¡µå›¾ç‰‡"><a href="#å¦‚ä½•åˆ©ç”¨pythonçˆ¬å–ç½‘é¡µå›¾ç‰‡" class="headerlink" title="å¦‚ä½•åˆ©ç”¨pythonçˆ¬å–ç½‘é¡µå›¾ç‰‡"></a>å¦‚ä½•åˆ©ç”¨pythonçˆ¬å–ç½‘é¡µå›¾ç‰‡</h1><h2 id="1-ç›¸å…³ä¾èµ–åº“"><a href="#1-ç›¸å…³ä¾èµ–åº“" class="headerlink" title="1.ç›¸å…³ä¾èµ–åº“"></a>1.ç›¸å…³ä¾èµ–åº“</h2><ul><li><p><span class="exturl" data-url="aHR0cHM6Ly93d3cuY3J1bW15LmNvbS9zb2Z0d2FyZS9CZWF1dGlmdWxTb3VwLw==">BeautifulSoup<i class="fa fa-external-link-alt"></i></span>   å¯ä»¥ä»HTMLæˆ–XMLæ–‡ä»¶ä¸­æå–æ•°æ®çš„Pythonåº“</p></li><li><p><span class="exturl" data-url="aHR0cHM6Ly8yLnB5dGhvbi1yZXF1ZXN0cy5vcmcvL2VuL21hc3Rlci8=">requests<i class="fa fa-external-link-alt"></i></span>  <strong>Requests</strong> is an elegant and simple HTTP library for Python, built for human beings. </p></li></ul><h2 id="2-ä»£ç å®ç°"><a href="#2-ä»£ç å®ç°" class="headerlink" title="2.ä»£ç å®ç°"></a>2.ä»£ç å®ç°</h2><p>ä»£ç ç¼–å†™è°ƒè¯•è¿‡ç¨‹ï¼Œå¯ä»¥å‚è€ƒç®€ä¹¦ğŸ“• <span class="exturl" data-url="aHR0cHM6Ly93d3cuamlhbnNodS5jb20vcC8zNzIwMmJlYzhmOTc=">å°è‘£ä¸å¤ªæ‡‚<i class="fa fa-external-link-alt"></i></span>çš„æ•™ç¨‹ï¼Œå…¶ä»£ç ç¼–å†™æ€è·¯å¦‚ä¸‹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">st=&gt;start: å¼€å§‹</span><br><span class="line">e=&gt;end: ä¿å­˜æˆ–å¤„ç†çˆ¬å»çš„ä¿¡æ¯</span><br><span class="line">op1=&gt;operation: åˆ©ç”¨è·å–çˆ¬å–çš„ç½‘é¡µç½‘å€çš„html</span><br><span class="line">op2=&gt;operation: åˆ©ç”¨BeautifulSoupå°†htmlä¿¡æ¯è½¬æ¢æˆxmlä¿¡æ¯</span><br><span class="line">op3=&gt;operation: åˆ©ç”¨BeautifulSoupæŒ‘é€‰xmlä¸­æƒ³è¦çš„ä¿¡æ¯</span><br><span class="line"></span><br><span class="line">st-&gt;op1-&gt;op2-&gt;op3-&gt;e</span><br></pre></td></tr></table></figure><p>ä¸‹é¢è´´å‡ºä»£ç å…¨æ–‡</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">from</span> hashlib <span class="keyword">import</span> md5</span><br><span class="line"><span class="keyword">from</span> requests.exceptions <span class="keyword">import</span> RequestException</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"></span><br><span class="line">headers = &#123;<span class="string">'If-None-Match'</span>: <span class="string">'W/"5cc2cd8f-2c58"'</span>,</span><br><span class="line">           <span class="string">"Referer"</span>: <span class="string">"http://www.mzitu.com/all/"</span>,</span><br><span class="line">           <span class="string">'User-Agent'</span>: <span class="string">'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/50.0.2661.102 UBrowser/6.1.2107.204 SafarMozilla/5.0 (Windows NT 6.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36'</span>&#125;</span><br><span class="line"><span class="comment">#è¯·æ±‚å¤´çš„è¿™ä¸ªRefererä¸€å®šè¦åŠ ï¼Œå¦¹å­ç½‘æœ‰åçˆ¬ï¼Œåæ­£ç²˜è´´å¤åˆ¶å°±è¡Œï¼Œå¤šåŠ å‡ ä¸ªä¿¡æ¯æ— æ‰€è°“</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_page</span><span class="params">(url)</span>:</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        response = requests.get(url, headers=headers)</span><br><span class="line">        <span class="keyword">if</span> response.status_code == <span class="number">200</span>:</span><br><span class="line">            <span class="comment">#print(response.text)</span></span><br><span class="line">            <span class="keyword">return</span> response.text</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line">    <span class="keyword">except</span> RequestException:</span><br><span class="line">        print(<span class="string">'è·å–ç´¢å¼•é¡µå¤±è´¥'</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">parse_page</span><span class="params">(html)</span>:</span></span><br><span class="line">    soup = BeautifulSoup(html, <span class="string">'lxml'</span>)</span><br><span class="line">    items = soup.select(<span class="string">'#pins li'</span>)</span><br><span class="line">    <span class="keyword">for</span> link <span class="keyword">in</span> items:</span><br><span class="line">        href = link.a[<span class="string">'href'</span>]</span><br><span class="line">        <span class="comment">#print(href)</span></span><br><span class="line">        get_detail_page(href)</span><br><span class="line">    <span class="comment"># print(items)</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_detail_page</span><span class="params">(href)</span>:</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,<span class="number">100</span>):</span><br><span class="line">        detail_url = href + <span class="string">'/'</span> + str(i)</span><br><span class="line">        <span class="keyword">if</span> requests.get(detail_url, headers=headers).status_code == <span class="number">200</span>:</span><br><span class="line">            <span class="comment">#print(detail_url)</span></span><br><span class="line">            parse_detail_page(detail_url)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            print(<span class="string">'å·²è‡³æœ«å°¾é¡µ'</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">parse_detail_page</span><span class="params">(detail_url)</span>:</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        response = requests.get(detail_url, headers=headers)</span><br><span class="line">        <span class="keyword">if</span> response.status_code == <span class="number">200</span>:</span><br><span class="line">            print(<span class="string">'è·å–è¯¦æƒ…é¡µæˆåŠŸ'</span>)</span><br><span class="line">            detail_html = response.text</span><br><span class="line">            <span class="comment"># print(detail_html)</span></span><br><span class="line">            get_image(detail_html)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line">    <span class="keyword">except</span> RequestException:</span><br><span class="line">        print(<span class="string">'è·å–è¯¦æƒ…é¡µå¤±è´¥'</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_image</span><span class="params">(detail_html)</span>:</span></span><br><span class="line">    soup = BeautifulSoup(detail_html, <span class="string">'lxml'</span>)</span><br><span class="line">    items= soup.select(<span class="string">'.main-image'</span>)</span><br><span class="line">    <span class="comment"># print(items)</span></span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> items:</span><br><span class="line">        <span class="comment">#return item.img['src']</span></span><br><span class="line">    image = item.img[<span class="string">'src'</span>]</span><br><span class="line">        save_image(image)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">save_image</span><span class="params">(image)</span>:</span></span><br><span class="line">   response = requests.get(image,headers=headers)</span><br><span class="line">   <span class="keyword">if</span> response.status_code == <span class="number">200</span>:</span><br><span class="line">       data = response.content</span><br><span class="line">       file_path = <span class="string">'&#123;0&#125;/&#123;1&#125;.&#123;2&#125;'</span>.format(os.getcwd(), md5(data).hexdigest(), <span class="string">'jpg'</span>)</span><br><span class="line">       print(file_path)</span><br><span class="line">       <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(file_path):</span><br><span class="line">           <span class="keyword">with</span> open(file_path, <span class="string">'wb'</span>) <span class="keyword">as</span> f:</span><br><span class="line">               f.write(data)</span><br><span class="line">               f.close()</span><br><span class="line">               print(<span class="string">'ä¿å­˜æˆåŠŸ'</span>)</span><br><span class="line">   <span class="keyword">else</span>:</span><br><span class="line">       print(<span class="string">'ä¿å­˜å¤±è´¥'</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    url = <span class="string">'https://www.mzitu.com/tag/youhuo/'</span></span><br><span class="line">    html = get_page(url)</span><br><span class="line">    parse_page(html)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure><p>[^1] <span class="exturl" data-url="aHR0cHM6Ly93d3cuamlhbnNodS5jb20vcC8zNzIwMmJlYzhmOTc=">https://www.jianshu.com/p/37202bec8f97<i class="fa fa-external-link-alt"></i></span></p>]]></content>
    
    <summary type="html">
    
      åˆ©ç”¨pythonä»£ç è‡ªåŠ¨çˆ¬å–å¦¹å­å›¾
    
    </summary>
    
    
      <category term="pythonä»£ç åº”ç”¨" scheme="https://Hubery-Lee.github.io/categories/python%E4%BB%A3%E7%A0%81%E5%BA%94%E7%94%A8/"/>
    
    
      <category term="pythonçˆ¬å¦¹å­å›¾" scheme="https://Hubery-Lee.github.io/tags/python%E7%88%AC%E5%A6%B9%E5%AD%90%E5%9B%BE/"/>
    
  </entry>
  
  <entry>
    <title>å¦‚ä½•åˆ©ç”¨pythonå‘é€é‚®ä»¶è¿›è¡Œè¡¨ç™½å’Œé—®å®‰</title>
    <link href="https://hubery-lee.github.io/2020/04/28/%E5%A6%82%E4%BD%95%E5%88%A9%E7%94%A8python%E5%8F%91%E9%80%81%E9%82%AE%E4%BB%B6%E8%BF%9B%E8%A1%8C%E8%A1%A8%E7%99%BD%E5%92%8C%E9%97%AE%E5%AE%89/"/>
    <id>https://hubery-lee.github.io/2020/04/28/%E5%A6%82%E4%BD%95%E5%88%A9%E7%94%A8python%E5%8F%91%E9%80%81%E9%82%AE%E4%BB%B6%E8%BF%9B%E8%A1%8C%E8%A1%A8%E7%99%BD%E5%92%8C%E9%97%AE%E5%AE%89/</id>
    <published>2020-04-28T08:20:26.000Z</published>
    <updated>2020-04-28T08:31:08.010Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å¦‚ä½•åˆ©ç”¨pythonå‘é€é‚®ä»¶"><a href="#å¦‚ä½•åˆ©ç”¨pythonå‘é€é‚®ä»¶" class="headerlink" title="å¦‚ä½•åˆ©ç”¨pythonå‘é€é‚®ä»¶"></a>å¦‚ä½•åˆ©ç”¨pythonå‘é€é‚®ä»¶</h1><h3 id="1-python-ç›¸å…³ä¾èµ–åº“"><a href="#1-python-ç›¸å…³ä¾èµ–åº“" class="headerlink" title="1. python ç›¸å…³ä¾èµ–åº“"></a>1. python ç›¸å…³ä¾èµ–åº“</h3><p>è¯´æ˜ ï¼šæœ¬æ–‡æ¡£é’ˆå¯¹çš„å¼åˆ©ç”¨python 3.7 å‘é€é‚®ä»¶ï¼Œpythonå‘é€é‚®ä»¶çš„ç›¸å…³åŒ…æ¯”è¾ƒå¤šï¼Œé™¤äº†SMTPè¿˜æœ‰POP3å’ŒIMAPä¸¤ç§é‚®ä»¶åè®®ã€‚æœ¬æ–‡æ¡£é’ˆå¯¹çš„å¼åˆ©ç”¨stmpæœåŠ¡å™¨å‘é€é‚®ä»¶</p><p><strong>ç›¸å…³ä¾èµ–åº“</strong></p><ul><li>stmplib</li><li>EmailMessage</li></ul><h3 id="2-æµ‹è¯•åˆ©ç”¨smtpå‘é€é‚®ä»¶"><a href="#2-æµ‹è¯•åˆ©ç”¨smtpå‘é€é‚®ä»¶" class="headerlink" title="2. æµ‹è¯•åˆ©ç”¨smtpå‘é€é‚®ä»¶"></a>2. æµ‹è¯•åˆ©ç”¨smtpå‘é€é‚®ä»¶</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> smtplib</span><br><span class="line"></span><br><span class="line">EMAIL_ADDRESSS =  <span class="string">"xxx@126.com"</span></span><br><span class="line">EMAIL_PASSWORD = <span class="string">"xxx"</span>   <span class="comment">#é‚®ç®±smtpæˆæƒç </span></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> smtplib.SMTP(<span class="string">'smtp.126.com'</span>,<span class="number">25</span>) <span class="keyword">as</span> smtp:</span><br><span class="line">    </span><br><span class="line">    smtp.login(EMAIL_ADDRESSS,EMAIL_PASSWORD)</span><br><span class="line">    </span><br><span class="line">    subject = <span class="string">'grab dinner this weekend?'</span></span><br><span class="line">    body = <span class="string">'how about dinner at 7pm this saturday?'</span></span><br><span class="line">    </span><br><span class="line">    msg = <span class="string">f'Subject:<span class="subst">&#123;subject&#125;</span>\n\n<span class="subst">&#123;body&#125;</span>'</span></span><br><span class="line">    </span><br><span class="line">    smtp.sendmail(EMAIL_ADDRESSS,<span class="string">'xxx@126.com'</span>,msg)</span><br></pre></td></tr></table></figure><h3 id="3-email-messageä½¿ç”¨"><a href="#3-email-messageä½¿ç”¨" class="headerlink" title="3. email.messageä½¿ç”¨"></a>3. email.messageä½¿ç”¨</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> smtplib</span><br><span class="line"><span class="keyword">from</span> email.message <span class="keyword">import</span> EmailMessage</span><br><span class="line"></span><br><span class="line">EMAIL_ADDRESSS =  <span class="string">"XXX@126.com"</span></span><br><span class="line">EMAIL_PASSWORD = <span class="string">"XXX"</span>   <span class="comment">#é‚®ç®±smtpæˆæƒç </span></span><br><span class="line"></span><br><span class="line">msg = EmailMessage()</span><br><span class="line">msg[<span class="string">'Subject'</span>] = <span class="string">'grab dinner this weekend?'</span></span><br><span class="line">msg[<span class="string">'From'</span>] = EMAIL_ADDRESSS</span><br><span class="line">msg[<span class="string">'To'</span>] = <span class="string">'hrbeulh@126.com'</span></span><br><span class="line">msg.set_content(<span class="string">'how about dinner at 7pm this saturday?'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> smtplib.SMTP(<span class="string">'smtp.126.com'</span>,<span class="number">25</span>) <span class="keyword">as</span> smtp:</span><br><span class="line">    </span><br><span class="line">    smtp.login(EMAIL_ADDRESSS,EMAIL_PASSWORD)    </span><br><span class="line">    smtp.send_message(msg)</span><br></pre></td></tr></table></figure><h3 id="4-å‘é€ç»™å¤šä¸ªç”¨æˆ·"><a href="#4-å‘é€ç»™å¤šä¸ªç”¨æˆ·" class="headerlink" title="4.å‘é€ç»™å¤šä¸ªç”¨æˆ·"></a>4.å‘é€ç»™å¤šä¸ªç”¨æˆ·</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> smtplib</span><br><span class="line"><span class="keyword">from</span> email.message <span class="keyword">import</span> EmailMessage</span><br><span class="line"></span><br><span class="line">EMAIL_ADDRESSS =  <span class="string">"hrbeulh@126.com"</span></span><br><span class="line">EMAIL_PASSWORD = <span class="string">"XXX"</span>   <span class="comment">#é‚®ç®±smtpæˆæƒç </span></span><br><span class="line"></span><br><span class="line">multi_recipients = [<span class="string">'Fxxx@gmail.com'</span>,<span class="string">'Mxxx@gmail.com'</span>]</span><br><span class="line"></span><br><span class="line">msg = EmailMessage()</span><br><span class="line">msg[<span class="string">'Subject'</span>] = <span class="string">'grab dinner this weekend?'</span></span><br><span class="line">msg[<span class="string">'From'</span>] = EMAIL_ADDRESSS</span><br><span class="line">msg[<span class="string">'To'</span>] = <span class="string">','</span>.join(multi_recipients)</span><br><span class="line">msg.set_content(<span class="string">'how about dinner at 7pm this saturday?'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> smtplib.SMTP(<span class="string">'smtp.126.com'</span>,<span class="number">25</span>) <span class="keyword">as</span> smtp:</span><br><span class="line">    </span><br><span class="line">    smtp.login(EMAIL_ADDRESSS,EMAIL_PASSWORD)    </span><br><span class="line">    smtp.send_message(msg)</span><br></pre></td></tr></table></figure><h3 id="5-Add-image-attachment"><a href="#5-Add-image-attachment" class="headerlink" title="5.Add image attachment"></a>5.Add image attachment</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> smtplib</span><br><span class="line"><span class="keyword">import</span> imghdr</span><br><span class="line"><span class="keyword">from</span> email.message <span class="keyword">import</span> EmailMessage</span><br><span class="line"></span><br><span class="line">EMAIL_ADDRESSS =  <span class="string">"hrbeulh@126.com"</span></span><br><span class="line">EMAIL_PASSWORD = <span class="string">"XXX"</span>   <span class="comment">#é‚®ç®±smtpæˆæƒç </span></span><br><span class="line"></span><br><span class="line">msg = EmailMessage()</span><br><span class="line">msg[<span class="string">'Subject'</span>] = <span class="string">'Check out Bronx as puppy!'</span></span><br><span class="line">msg[<span class="string">'From'</span>] = EMAIL_ADDRESSS</span><br><span class="line">msg[<span class="string">'To'</span>] = <span class="string">'hrbeulh@126.com'</span></span><br><span class="line">msg.set_content(<span class="string">'Image attched ...'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> open(<span class="string">'P1.png'</span>,<span class="string">'rb'</span>) <span class="keyword">as</span> f:</span><br><span class="line">    file_data = f.read()</span><br><span class="line">    <span class="comment">#file_path = os.getcwd()</span></span><br><span class="line">    <span class="comment">#print(file_path)</span></span><br><span class="line">    file_type = imghdr.what(f.name)</span><br><span class="line">    <span class="comment">#print(file_type)</span></span><br><span class="line">    <span class="comment">#file_name =f.name</span></span><br><span class="line"></span><br><span class="line">msg.add_attachment(file_data, maintype=<span class="string">'image'</span>,subtype=imghdr.what(f.name, file_data))</span><br><span class="line"><span class="comment">#msg.add_attachment(file_data, maintype='image',subtype= filetype, filename = file_name))</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> smtplib.SMTP(<span class="string">'smtp.126.com'</span>,<span class="number">25</span>) <span class="keyword">as</span> smtp:</span><br><span class="line">    </span><br><span class="line">    smtp.login(EMAIL_ADDRESSS,EMAIL_PASSWORD)    </span><br><span class="line">    smtp.send_message(msg)</span><br></pre></td></tr></table></figure><h3 id="6-Add-images-attachments"><a href="#6-Add-images-attachments" class="headerlink" title="6. Add images attachments"></a>6. Add images attachments</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> smtplib</span><br><span class="line"><span class="keyword">import</span> imghdr</span><br><span class="line"><span class="keyword">from</span> email.message <span class="keyword">import</span> EmailMessage</span><br><span class="line"></span><br><span class="line">EMAIL_ADDRESSS =  <span class="string">"hrbeulh@126.com"</span></span><br><span class="line">EMAIL_PASSWORD = <span class="string">"XXX"</span>   <span class="comment">#é‚®ç®±smtpæˆæƒç </span></span><br><span class="line"></span><br><span class="line">msg = EmailMessage()</span><br><span class="line">msg[<span class="string">'Subject'</span>] = <span class="string">'Check out Bronx as puppy!'</span></span><br><span class="line">msg[<span class="string">'From'</span>] = EMAIL_ADDRESSS</span><br><span class="line">msg[<span class="string">'To'</span>] = <span class="string">'hrbeulh@126.com'</span></span><br><span class="line">msg.set_content(<span class="string">'Image attched ...'</span>)</span><br><span class="line"></span><br><span class="line">files =[<span class="string">'P1.png'</span>,<span class="string">'P2.png'</span>,<span class="string">'girl.jpeg'</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> file <span class="keyword">in</span> files:</span><br><span class="line">    <span class="keyword">with</span> open(file,<span class="string">'rb'</span>) <span class="keyword">as</span> f:</span><br><span class="line">        file_data = f.read()</span><br><span class="line"><span class="comment">#         file_path = os.getcwd()</span></span><br><span class="line"><span class="comment">#         print(file_path)</span></span><br><span class="line"><span class="comment">#         file_type = imghdr.what(f.name)</span></span><br><span class="line"><span class="comment">#         print(file_type)</span></span><br><span class="line"></span><br><span class="line">    msg.add_attachment(file_data, maintype=<span class="string">'image'</span>,subtype=imghdr.what(f.name, file_data))</span><br><span class="line"><span class="comment">#     msg.add_attachment(file_data, maintype='image',subtype=imghdr.what(None, file_data))</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> smtplib.SMTP(<span class="string">'smtp.126.com'</span>,<span class="number">25</span>) <span class="keyword">as</span> smtp:</span><br><span class="line">    </span><br><span class="line">    smtp.login(EMAIL_ADDRESSS,EMAIL_PASSWORD)    </span><br><span class="line">    smtp.send_message(msg)</span><br></pre></td></tr></table></figure><h3 id="7-Add-pdf-attachment"><a href="#7-Add-pdf-attachment" class="headerlink" title="7. Add pdf attachment"></a>7. Add pdf attachment</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> smtplib</span><br><span class="line"><span class="keyword">import</span> imghdr</span><br><span class="line"><span class="keyword">from</span> email.message <span class="keyword">import</span> EmailMessage</span><br><span class="line"></span><br><span class="line">EMAIL_ADDRESSS =  <span class="string">"hrbeulh@126.com"</span></span><br><span class="line">EMAIL_PASSWORD = <span class="string">"XXX"</span>   <span class="comment">#é‚®ç®±smtpæˆæƒç </span></span><br><span class="line"></span><br><span class="line">msg = EmailMessage()</span><br><span class="line">msg[<span class="string">'Subject'</span>] = <span class="string">'Check out Bronx as puppy!'</span></span><br><span class="line">msg[<span class="string">'From'</span>] = EMAIL_ADDRESSS</span><br><span class="line">msg[<span class="string">'To'</span>] = <span class="string">'hrbeulh@126.com'</span></span><br><span class="line">msg.set_content(<span class="string">'Image attched ...'</span>)</span><br><span class="line"></span><br><span class="line">files =[<span class="string">'EEE.pdf'</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> file <span class="keyword">in</span> files:</span><br><span class="line">    <span class="keyword">with</span> open(file,<span class="string">'rb'</span>) <span class="keyword">as</span> f:</span><br><span class="line">        file_data = f.read()</span><br><span class="line"><span class="comment">#         file_path = os.getcwd()</span></span><br><span class="line"><span class="comment">#         print(file_path)</span></span><br><span class="line"><span class="comment">#         file_type = imghdr.what(f.name)</span></span><br><span class="line"><span class="comment">#         print(file_type)</span></span><br><span class="line"></span><br><span class="line">    msg.add_attachment(file_data, maintype=<span class="string">'application'</span>,subtype=<span class="string">'octet-stream'</span>,filename = f.name)</span><br><span class="line"><span class="comment">#     msg.add_attachment(file_data, maintype='image',subtype=imghdr.what(None, file_data))</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> smtplib.SMTP(<span class="string">'smtp.126.com'</span>,<span class="number">25</span>) <span class="keyword">as</span> smtp:</span><br><span class="line">    </span><br><span class="line">    smtp.login(EMAIL_ADDRESSS,EMAIL_PASSWORD)    </span><br><span class="line">    smtp.send_message(msg)</span><br></pre></td></tr></table></figure><h3 id="8-Using-plain-text-to-send-html-email"><a href="#8-Using-plain-text-to-send-html-email" class="headerlink" title="8.Using plain text to send html  email"></a>8.Using plain text to send html  email</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> smtplib</span><br><span class="line"><span class="keyword">import</span> imghdr</span><br><span class="line"><span class="keyword">from</span> email.message <span class="keyword">import</span> EmailMessage</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">HTML = <span class="string">"""</span></span><br><span class="line"><span class="string">&lt;html lang="en"&gt;</span></span><br><span class="line"><span class="string">&lt;head&gt;</span></span><br><span class="line"><span class="string">    &lt;meta charset="UTF-8"&gt;</span></span><br><span class="line"><span class="string">    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;</span></span><br><span class="line"><span class="string">    &lt;meta http-equiv="X-UA-Compatible" content="ie=edge"&gt;</span></span><br><span class="line"><span class="string">&lt;/head&gt;</span></span><br><span class="line"><span class="string">&lt;body&gt;</span></span><br><span class="line"><span class="string">    &lt;div align="center"&gt;</span></span><br><span class="line"><span class="string">        &lt;h2&gt;ğŸ˜˜ Daily&lt;/h2&gt;</span></span><br><span class="line"><span class="string">        &lt;p&gt;å‚»å®å®ï¼Œä»Šå¤©å·²ç»æ˜¯æˆ‘ä»¬ç›¸æ‹çš„ç¬¬ &#123;loving_days&#125; å¤©äº†å–” ğŸ’“ã€‚&lt;/p&gt;</span></span><br><span class="line"><span class="string">        &lt;br/&gt;</span></span><br><span class="line"><span class="string">#        &lt;img style="padding: 0.60em; background: white; box-shadow: 1px #1px 10px #999;" #src="cid:one" /&gt;</span></span><br><span class="line"><span class="string">    &lt;/div&gt;</span></span><br><span class="line"><span class="string">&lt;/body&gt;</span></span><br><span class="line"><span class="string">&lt;/html&gt;</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"></span><br><span class="line">EMAIL_ADDRESSS =  <span class="string">"hrbeulh@126.com"</span></span><br><span class="line">EMAIL_PASSWORD = <span class="string">"lihui123"</span>   <span class="comment">#é‚®ç®±smtpæˆæƒç </span></span><br><span class="line"></span><br><span class="line">msg = EmailMessage()</span><br><span class="line">msg[<span class="string">'Subject'</span>] = <span class="string">'This is a html email using plain '</span></span><br><span class="line">msg[<span class="string">'From'</span>] = EMAIL_ADDRESSS</span><br><span class="line">msg[<span class="string">'To'</span>] = <span class="string">'hrbeulh@126.com'</span></span><br><span class="line">msg.set_content(<span class="string">'This is a plain test email'</span>)</span><br><span class="line"></span><br><span class="line">msg.add_alternative(HTML,subtype=<span class="string">'html'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> smtplib.SMTP(<span class="string">'smtp.126.com'</span>,<span class="number">25</span>) <span class="keyword">as</span> smtp:</span><br><span class="line">    </span><br><span class="line">    smtp.login(EMAIL_ADDRESSS,EMAIL_PASSWORD)    </span><br><span class="line">    smtp.send_message(msg)</span><br></pre></td></tr></table></figure><h3 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h3><ul><li>python3.7 <span class="exturl" data-url="aHR0cHM6Ly9kb2NzLnB5dGhvbi5vcmcvMy9saWJyYXJ5L2VtYWlsLmV4YW1wbGVzLmh0bWw=">doc/library/email.examples<i class="fa fa-external-link-alt"></i></span></li><li><span class="exturl" data-url="aHR0cHM6Ly93d3cueW91dHViZS5jb20vd2F0Y2g/dj1KUkNKNlJ0RTN4VQ==">Corey Schafer youtubeè§†é¢‘<i class="fa fa-external-link-alt"></i></span></li></ul><h2 id="å¦‚ä½•ç»™htmlé‚®ä»¶æ–‡ä»¶ä¸­æ·»åŠ å›¾ç‰‡"><a href="#å¦‚ä½•ç»™htmlé‚®ä»¶æ–‡ä»¶ä¸­æ·»åŠ å›¾ç‰‡" class="headerlink" title="å¦‚ä½•ç»™htmlé‚®ä»¶æ–‡ä»¶ä¸­æ·»åŠ å›¾ç‰‡"></a>å¦‚ä½•ç»™htmlé‚®ä»¶æ–‡ä»¶ä¸­æ·»åŠ å›¾ç‰‡</h2><h3 id="1-ç›¸å…³ä¾èµ–åº“"><a href="#1-ç›¸å…³ä¾èµ–åº“" class="headerlink" title="1. ç›¸å…³ä¾èµ–åº“"></a>1. ç›¸å…³ä¾èµ–åº“</h3><p>ç›®å‰é‡‡ç”¨çš„å¼python2å‘é‚®ä»¶çš„åº“ï¼Œpython3å‘é€é‚®ä»¶æ–¹å¼ç›¸å¯¹è¦ç®€åŒ–äº†ä¸€äº›ï¼Œä½†æ˜¯è¿˜æ²¡æœ‰å¼„æ‡‚ï¼Œæ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥æ¢ç´¢ä»¥ä¸‹</p><p><strong>ç›¸å…³åº“æ–‡ä»¶</strong></p><ul><li>smtplib</li><li>asyncio</li><li>MIMEImage</li><li>MIMEMultipart</li><li>MIMEText</li><li>Header</li><li>pyppeteer</li></ul><h3 id="2-ä»£ç æ€è·¯"><a href="#2-ä»£ç æ€è·¯" class="headerlink" title="2. ä»£ç æ€è·¯"></a>2. ä»£ç æ€è·¯</h3><pre class="mermaid">graph TDA[import libraries]-->B[è·å–å¾…å‘é€ä¿¡æ¯ææ–™]B-->C[htmlä¿¡æ¯]B--pyppeteer-->D[æ‰“å¼€ç½‘é¡µå¹¶æˆªå›¾å·¥å…·æˆªå–å›¾ç‰‡]D--asyncio-->CC--smtp-->E[å‘é€ä¿¡æ¯]</pre><p><strong>æ³¨é‡Šï¼š</strong> Mermaid(ç¾äººé±¼)å›¾çš„ç¼–å†™å¯å‚è€ƒç®€ä¹¦æ­¤æ–‡  <span class="exturl" data-url="aHR0cHM6Ly93d3cuamlhbnNodS5jb20vcC9iNDIxY2M3MjNkYTU=">1<i class="fa fa-external-link-alt"></i></span></p><h3 id="3-ä»£ç å®ç°"><a href="#3-ä»£ç å®ç°" class="headerlink" title="3.ä»£ç å®ç°"></a>3.ä»£ç å®ç°</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> datetime</span><br><span class="line"><span class="keyword">import</span> asyncio</span><br><span class="line"><span class="keyword">import</span> smtplib</span><br><span class="line"><span class="keyword">from</span> email.header <span class="keyword">import</span> Header</span><br><span class="line"><span class="keyword">from</span> email.mime.image <span class="keyword">import</span> MIMEImage</span><br><span class="line"><span class="keyword">from</span> email.mime.multipart <span class="keyword">import</span> MIMEMultipart</span><br><span class="line"><span class="keyword">from</span> email.mime.text <span class="keyword">import</span> MIMEText</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> pyppeteer <span class="keyword">import</span> launch</span><br><span class="line"></span><br><span class="line">FALL_IN_LOVE = (<span class="number">2019</span>, <span class="number">8</span>, <span class="number">22</span>)</span><br><span class="line"></span><br><span class="line">MAIL_HOST = <span class="string">"smtp.126.com"</span></span><br><span class="line">MAIL_USER = <span class="string">"hrbeulh@126.com"</span></span><br><span class="line">MAIL_PASS = <span class="string">"lihui123"</span></span><br><span class="line">MAIL_SENDER = <span class="string">"hrbeulh@126.com"</span></span><br><span class="line">MAIL_RECEIVER = [<span class="string">"1306504695@qq.com"</span>,<span class="string">"hrbeulh@126.com"</span>]</span><br><span class="line"></span><br><span class="line">MAIL_ENCODING = <span class="string">"utf8"</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_loving_days</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    è·å–æ‹çˆ±å¤©æ•°</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    today = datetime.datetime.today()</span><br><span class="line">    anniversary = datetime.datetime(*FALL_IN_LOVE)</span><br><span class="line">    <span class="keyword">return</span> (today - anniversary).days</span><br><span class="line"></span><br><span class="line">HTML = <span class="string">"""</span></span><br><span class="line"><span class="string">&lt;html lang="en"&gt;</span></span><br><span class="line"><span class="string">&lt;head&gt;</span></span><br><span class="line"><span class="string">    &lt;meta charset="UTF-8"&gt;</span></span><br><span class="line"><span class="string">    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;</span></span><br><span class="line"><span class="string">    &lt;meta http-equiv="X-UA-Compatible" content="ie=edge"&gt;</span></span><br><span class="line"><span class="string">&lt;/head&gt;</span></span><br><span class="line"><span class="string">&lt;body&gt;</span></span><br><span class="line"><span class="string">    &lt;div align="center"&gt;</span></span><br><span class="line"><span class="string">        &lt;h2&gt;ğŸ˜˜ ç”·æœ‹å‹çš„æ—¥å¸¸é—®å€™&lt;/h2&gt;</span></span><br><span class="line"><span class="string">        &lt;p&gt;å‚»å®å®ï¼Œä»Šå¤©å·²ç»æ˜¯æˆ‘ä»¬ç›¸æ‹çš„ç¬¬ &#123;loving_days&#125; å¤©äº†å–” ğŸ’“ã€‚&lt;/p&gt;</span></span><br><span class="line"><span class="string">        &lt;br/&gt;</span></span><br><span class="line"><span class="string">        &lt;img style="padding: 0.60em; background: white; box-shadow: 1px 1px 10px #999;" src="cid:one" /&gt;</span></span><br><span class="line"><span class="string">    &lt;/div&gt;</span></span><br><span class="line"><span class="string">&lt;/body&gt;</span></span><br><span class="line"><span class="string">&lt;/html&gt;</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line">IMAGE_NAME = <span class="string">"one.png"</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#open website and screenshot</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">fetch</span><span class="params">()</span>:</span></span><br><span class="line">    browser = <span class="keyword">await</span> launch(</span><br><span class="line">        &#123;<span class="string">"args"</span>: [<span class="string">"--no-sandbox"</span>, <span class="string">"--disable-setuid-sandbox"</span>]&#125;</span><br><span class="line">    )</span><br><span class="line">    page = <span class="keyword">await</span> browser.newPage()</span><br><span class="line">    <span class="keyword">await</span> page.goto(<span class="string">"http://wufazhuce.com/"</span>)</span><br><span class="line">    <span class="keyword">await</span> page.screenshot(</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">"path"</span>: IMAGE_NAME,</span><br><span class="line">            <span class="string">"clip"</span>: &#123;<span class="string">"x"</span>: <span class="number">60</span>, <span class="string">"y"</span>: <span class="number">120</span>, <span class="string">"height"</span>: <span class="number">570</span>, <span class="string">"width"</span>: <span class="number">700</span>&#125;,</span><br><span class="line">        &#125;</span><br><span class="line">    )</span><br><span class="line">    <span class="keyword">await</span> browser.close()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">send_email</span><span class="params">()</span>:</span></span><br><span class="line">    html_content = HTML.replace(<span class="string">"&#123;loving_days&#125;"</span>, str(get_loving_days()))</span><br><span class="line"></span><br><span class="line">    msg = MIMEMultipart(<span class="string">"alternative"</span>)</span><br><span class="line">    msg[<span class="string">"Subject"</span>] = Header(<span class="string">"ğŸ˜˜ ç”·æœ‹å‹çš„æ—¥å¸¸é—®å€™"</span>, MAIL_ENCODING )</span><br><span class="line">    msg[<span class="string">"From"</span>] = Header(<span class="string">"æš–å®å®"</span>, MAIL_ENCODING)</span><br><span class="line">    msg[<span class="string">"To"</span>] = Header(<span class="string">"å°ä»™å¥³"</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> open(IMAGE_NAME, <span class="string">"rb"</span>) <span class="keyword">as</span> f:</span><br><span class="line">        img = MIMEImage(f.read())</span><br><span class="line">        img.add_header(<span class="string">"Content-ID"</span>, <span class="string">"one"</span>)</span><br><span class="line">        msg.attach(img)</span><br><span class="line">    msg.attach(MIMEText(html_content, <span class="string">"html"</span>, MAIL_ENCODING))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        smtp_obj = smtplib.SMTP_SSL(MAIL_HOST)</span><br><span class="line">        smtp_obj.login(MAIL_USER, MAIL_PASS)</span><br><span class="line">        smtp_obj.sendmail(MAIL_SENDER, MAIL_RECEIVER, msg.as_string())</span><br><span class="line">        smtp_obj.quit()</span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">        print(e)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        asyncio.get_event_loop().run_until_complete(fetch())</span><br><span class="line">    <span class="keyword">except</span> Exception:</span><br><span class="line">        asyncio.get_event_loop().run_until_complete(fetch())</span><br><span class="line">    send_email()</span><br></pre></td></tr></table></figure><h2 id="python3-å¦‚ä½•å°†ä¸­æ–‡è½¬æ¢æˆurlencode"><a href="#python3-å¦‚ä½•å°†ä¸­æ–‡è½¬æ¢æˆurlencode" class="headerlink" title="python3 å¦‚ä½•å°†ä¸­æ–‡è½¬æ¢æˆurlencode"></a>python3 å¦‚ä½•å°†ä¸­æ–‡è½¬æ¢æˆurlencode</h2><h3 id="1-ç›¸å…³ä¾èµ–åº“-1"><a href="#1-ç›¸å…³ä¾èµ–åº“-1" class="headerlink" title="1.ç›¸å…³ä¾èµ–åº“"></a>1.ç›¸å…³ä¾èµ–åº“</h3><ul><li>quote, unquote</li></ul><h3 id="2-ä»£ç å®ç°"><a href="#2-ä»£ç å®ç°" class="headerlink" title="2.ä»£ç å®ç°"></a>2.ä»£ç å®ç°</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> urllib.parse <span class="keyword">import</span> unquote,quote</span><br><span class="line"> </span><br><span class="line">url1 = <span class="string">"https://www.qichacha.com/search?key=æ²³å—æ­£å•†æ²³æ´›ç½®ä¸šæœ‰é™å…¬å¸"</span></span><br><span class="line">url2 = <span class="string">"https://www.qichacha.com/search?key=%E6%B2%B3%E5%8D%97%E6%AD%A3%E5%95%86%E6%B2%B3%E6%B4%9B%E7%BD%AE%E4%B8%9A%E6%9C%89%E9%99%90%E5%85%AC%E5%8F%B8"</span></span><br><span class="line"><span class="comment"># è§£ç </span></span><br><span class="line">url = unquote(url2)</span><br><span class="line">print(url)</span><br><span class="line"><span class="comment">#ç¼–ç </span></span><br><span class="line">url = quote(<span class="string">"æ²³å—æ­£å•†æ²³æ´›ç½®ä¸šæœ‰é™å…¬å¸"</span>)</span><br><span class="line">print(url)</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      æ•™ä½ å¦‚ä½•ç”¨pythonç»™å¥³æœ‹å‹å‘è¡¨ç™½é‚®ä»¶å’Œé—®å®‰
    
    </summary>
    
    
      <category term="pythonä»£ç åº”ç”¨" scheme="https://Hubery-Lee.github.io/categories/python%E4%BB%A3%E7%A0%81%E5%BA%94%E7%94%A8/"/>
    
    
      <category term="pythoné‚®ä»¶è¡¨ç™½" scheme="https://Hubery-Lee.github.io/tags/python%E9%82%AE%E4%BB%B6%E8%A1%A8%E7%99%BD/"/>
    
  </entry>
  
  <entry>
    <title>å¤šäººååŒåœ¨çº¿ç¼–è¾‘æ–‡æ¡£è½¯ä»¶ä½¿ç”¨ä½“éªŒ</title>
    <link href="https://hubery-lee.github.io/2020/04/28/%E5%A4%9A%E4%BA%BA%E5%8D%8F%E5%90%8C%E5%9C%A8%E7%BA%BF%E7%BC%96%E8%BE%91%E6%96%87%E6%A1%A3%E8%BD%AF%E4%BB%B6%E4%BD%BF%E7%94%A8%E4%BD%93%E9%AA%8C/"/>
    <id>https://hubery-lee.github.io/2020/04/28/%E5%A4%9A%E4%BA%BA%E5%8D%8F%E5%90%8C%E5%9C%A8%E7%BA%BF%E7%BC%96%E8%BE%91%E6%96%87%E6%A1%A3%E8%BD%AF%E4%BB%B6%E4%BD%BF%E7%94%A8%E4%BD%93%E9%AA%8C/</id>
    <published>2020-04-28T08:05:16.000Z</published>
    <updated>2020-04-28T14:10:04.469Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å¤šäººååŒåœ¨çº¿ç¼–è¾‘æ–‡æ¡£è½¯ä»¶ä½¿ç”¨ä½“éªŒ"><a href="#å¤šäººååŒåœ¨çº¿ç¼–è¾‘æ–‡æ¡£è½¯ä»¶ä½¿ç”¨ä½“éªŒ" class="headerlink" title="å¤šäººååŒåœ¨çº¿ç¼–è¾‘æ–‡æ¡£è½¯ä»¶ä½¿ç”¨ä½“éªŒ"></a>å¤šäººååŒåœ¨çº¿ç¼–è¾‘æ–‡æ¡£è½¯ä»¶ä½¿ç”¨ä½“éªŒ</h1><h2 id="ä»€ä¹ˆæ˜¯ååŒåœ¨çº¿ç¼–è¾‘æ–‡æ¡£ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯ååŒåœ¨çº¿ç¼–è¾‘æ–‡æ¡£ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯ååŒåœ¨çº¿ç¼–è¾‘æ–‡æ¡£ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯ååŒåœ¨çº¿ç¼–è¾‘æ–‡æ¡£ï¼Ÿ</h2><ul><li><p>ååŒ â€”â€”å¤šäººä¸€èµ·å®Œæˆä¸€ä»¶äº‹æƒ…</p></li><li><p>åœ¨çº¿â€”â€”onlineï¼Œåœ¨ç½‘ç»œä¸Šå®æ—¶åšä¸€ä»¶äº‹</p></li><li><p>ç¼–è¾‘æ–‡æ¡£â€”â€”ç¼–å†™æ–‡æ¡£ï¼Œå¦‚ï¼Œwordï¼Œpptï¼Œexcelï¼Œæ”¯æŒpdfå›¾ç‰‡ç­‰çš„å¯¼å‡ºã€‚</p><h2 id="ğŸš©ç›®å‰å¸‚åœºä¸Šå­˜åœ¨çš„äº§å“"><a href="#ğŸš©ç›®å‰å¸‚åœºä¸Šå­˜åœ¨çš„äº§å“" class="headerlink" title="ğŸš©ç›®å‰å¸‚åœºä¸Šå­˜åœ¨çš„äº§å“"></a>ğŸš©ç›®å‰å¸‚åœºä¸Šå­˜åœ¨çš„äº§å“</h2></li><li><p><strong>onlyoffice</strong></p><ul><li><p>å…¶æ˜¯ä¸€æ¬¾å¼€æºçš„åä½œæ–‡æ¡£ã€é¡¹ç›®åŠé‚®ä»¶ç®¡ç†è½¯ä»¶ã€‚</p></li><li><p>å›¾åƒç•Œé¢è·Ÿæ¥è¿‘officeï¼Œæ¯”è¾ƒæ–¹ä¾¿ä½¿ç”¨</p></li><li><p>å¼€æºç‰¹æ€§ï¼Œæ•°æ®å¯ä»¥æ”¾åˆ°è‡ªå·±çš„æœåŠ¡å™¨ä¸Š</p><p><img src="/2020/04/28/å¤šäººååŒåœ¨çº¿ç¼–è¾‘æ–‡æ¡£è½¯ä»¶ä½¿ç”¨ä½“éªŒ/onlyoffice.png" alt="word"></p><p><img src="/2020/04/28/å¤šäººååŒåœ¨çº¿ç¼–è¾‘æ–‡æ¡£è½¯ä»¶ä½¿ç”¨ä½“éªŒ/onlyoffice_ppt.png" alt="ppt"></p><p><img src="/2020/04/28/å¤šäººååŒåœ¨çº¿ç¼–è¾‘æ–‡æ¡£è½¯ä»¶ä½¿ç”¨ä½“éªŒ/onlyoffice_excel.png" alt="excel"></p></li></ul></li></ul><ul><li><p><strong>çŸ³å¢¨æ–‡æ¡£</strong></p><ul><li><p>å›½äº§çŸ¥åæ–‡æœ¬åä½œç¼–è¾‘è½¯ä»¶ï¼Œä¼˜ç‚¹æ˜¯ç”¨æˆ·äº¤äº’ç•Œé¢åšçš„æ¯”è¾ƒå¥½ï¼Œä¸è¿‡æ˜¯æ°´å¢¨é£æ ¼ï¼Œåæ€§å†·æ·¡é£ã€‚</p></li><li><p>æ•°æ®ä¸å¯ä»¥å‘åˆ°ç”¨æˆ·æœåŠ¡å™¨ä¸Šï¼Œæ²¡æœ‰TIMæ–¹ä¾¿ï¼Œæ— åŠå…¬ç¤¾äº¤åŠŸèƒ½ã€‚</p></li><li><p>æ— è‡ªå·±çš„æ ¸å¿ƒåŠŸèƒ½ï¼Œä½†ä½¿ç”¨ç®€ä¾¿æ€§ç±»ä¼¼äºGoogle Doc</p></li><li><p>æ— å¾…åŠäº‹é¡¹ç­‰åŠŸèƒ½</p><p><img src="/2020/04/28/å¤šäººååŒåœ¨çº¿ç¼–è¾‘æ–‡æ¡£è½¯ä»¶ä½¿ç”¨ä½“éªŒ/%E7%9F%B3%E5%A2%A8%E6%96%87%E6%A1%A3.jpg" alt></p></li></ul></li></ul><ul><li><p><strong>ä¸€èµ·å†™</strong></p></li><li><p><strong>è…¾è®¯æ–‡æ¡£åä½œTIM</strong></p><ul><li>ç»“åˆäº†ç¤¾äº¤ä¸æ–‡æ¡£ååŒç¼–è¾‘åŠŸèƒ½</li><li>æœ‰å¾…åŠäº‹é¡¹å’Œæ—¥ç¨‹å®‰æ’åŠŸèƒ½</li></ul></li><li><p><strong>google doc</strong></p><ul><li><p>æ‰¹æ³¨åŠŸèƒ½æ›´å‹å¥½ï¼Œæ–¹ä¾¿ã€‚</p></li><li><p>æœ‰å¾…åŠäº‹é¡¹å’Œæ—¥ç¨‹å®‰æ’åŠŸèƒ½</p></li><li><p>ç¼ºç‚¹ï¼Œå›½å†…ç”¨ä¸äº†ä»–çš„å¹³æ¿å’Œæ‰‹æœºç­‰åŠŸèƒ½</p><p><img src="/2020/04/28/å¤šäººååŒåœ¨çº¿ç¼–è¾‘æ–‡æ¡£è½¯ä»¶ä½¿ç”¨ä½“éªŒ/googleDOC.jpg" alt></p></li></ul></li></ul><p><a href="ä»¥ä¸‹ä¸‰ä¸ªå‡æ˜¯å›½å†…å¤–officeä¸»è¦å¼€å‘è€…å¼€å‘ï¼Œå‡æœ‰ç”µè„‘ï¼Œå¹³æ¿å’Œæ‰‹æœºç”¨æˆ·ç«¯ã€‚"></a></p><ul><li><p>office 365</p></li><li><p>office online</p></li><li><p>wps</p></li></ul><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>æ¨èä½¿ç”¨TIMï¼Œè…¾è®¯å‡ºå“ç»“åˆäº†ç¤¾äº¤åŠŸèƒ½å¤–ï¼Œå¤§å…¬å¸ç»´æŠ¤æ¯”è¾ƒå¥½ï¼Œä¸ä¼šè½»æ˜“å€’é—­ã€‚</p><p>æ¨èä½¿ç”¨onlyofficeï¼Œå¼€æºè‡ªå®šåˆ¶ç‰¹æ€§è¾ƒå¥½ã€‚</p>]]></content>
    
    <summary type="html">
    
      ååŒåŠå…¬è½¯ä»¶ä½¿ç”¨ä½“éªŒ
    
    </summary>
    
    
      <category term="è½¯ä»¶ä½¿ç”¨ä½“éªŒ" scheme="https://Hubery-Lee.github.io/categories/%E8%BD%AF%E4%BB%B6%E4%BD%BF%E7%94%A8%E4%BD%93%E9%AA%8C/"/>
    
    
      <category term="ååŒåŠå…¬" scheme="https://Hubery-Lee.github.io/tags/%E5%8D%8F%E5%90%8C%E5%8A%9E%E5%85%AC/"/>
    
  </entry>
  
  <entry>
    <title>CMakeLists.txtç¼–å†™åŸºç¡€çŸ¥è¯†</title>
    <link href="https://hubery-lee.github.io/2018/11/23/CMakeLists-txt%E7%BC%96%E5%86%99%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"/>
    <id>https://hubery-lee.github.io/2018/11/23/CMakeLists-txt%E7%BC%96%E5%86%99%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/</id>
    <published>2018-11-22T16:20:51.000Z</published>
    <updated>2020-04-28T00:25:34.845Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å‚è€ƒæ–‡çŒ®"><a href="#å‚è€ƒæ–‡çŒ®" class="headerlink" title="å‚è€ƒæ–‡çŒ®"></a>å‚è€ƒæ–‡çŒ®</h1><p><span class="exturl" data-url="aHR0cDovL3d3dy5jbmJsb2dzLmNvbS81MnBocC9wLzU2ODE3NDUuaHRtbA==">cmake èƒŒæ™¯çŸ¥è¯†<i class="fa fa-external-link-alt"></i></span><br><span class="exturl" data-url="aHR0cDovL3d3dy5jbmJsb2dzLmNvbS81MnBocC9wLzU2ODE3NTEuaHRtbA==">cmake åŸºç¡€2<i class="fa fa-external-link-alt"></i></span><br><span class="exturl" data-url="aHR0cDovL3d3dy5jbmJsb2dzLmNvbS81MnBocC9wLzU2ODE3NTUuaHRtbA==">cmake  å…±äº«åº“æ–‡ä»¶ï¼Œå¤–éƒ¨é“¾æ¥<i class="fa fa-external-link-alt"></i></span></p><h1 id="åº”ç”¨å®ä¾‹"><a href="#åº”ç”¨å®ä¾‹" class="headerlink" title="åº”ç”¨å®ä¾‹"></a>åº”ç”¨å®ä¾‹</h1><p><strong>è¯´æ˜</strong><br>é‡‡ç”¨c++çš„ç±»æ¥å†™hello worldï¼Œç„¶åç¼–å†™æ•™ç¨‹ã€‚</p><ul><li>bin  äºŒè¿›åˆ¶æ–‡æ¡£</li><li>build é“¾æ¥æ–‡æ¡£</li><li>doc READMEã€COPYRIGHTç­‰çš„è¯´æ˜æ–‡æ¡£</li><li>inc å¤´æ–‡ä»¶æ–‡æ¡£  hello.hh</li><li>src æºæ–‡ä»¶æ–‡æ¡£  hello.cc<br>main.cc ä¸ºä¸»æ–‡ä»¶</li></ul><p><strong>é™„å½•</strong></p><ul><li>main.cc</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#include &quot;hello.hh&quot;</span><br><span class="line"></span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">  </span><br><span class="line">  HelloFunc hi;</span><br><span class="line">  hi.Hello();</span><br><span class="line">  return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>hello.hh</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">#ifndef HELLO_hh</span><br><span class="line">#define HELLO_hh 1</span><br><span class="line"></span><br><span class="line">class HelloFunc</span><br><span class="line">&#123;</span><br><span class="line"> public:</span><br><span class="line">  HelloFunc();</span><br><span class="line">  virtual ~HelloFunc();  </span><br><span class="line">  </span><br><span class="line">  void Hello();</span><br><span class="line"> private:</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">#endif</span><br></pre></td></tr></table></figure><ul><li>hello.cc</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">#include &quot;hello.hh&quot;</span><br><span class="line">#include &quot;iostream&quot;</span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">HelloFunc::HelloFunc()</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">HelloFunc::~HelloFunc()</span><br><span class="line">&#123;&#125;</span><br><span class="line"></span><br><span class="line">void HelloFunc::Hello()</span><br><span class="line">&#123;</span><br><span class="line">  cout&lt;&lt;&quot;Hello World&quot;&lt;&lt;endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>-CMakeList.txt ç¼–è¯‘æ–‡ä»¶</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">##</span><br><span class="line">##  cmake module authored by Hubery Lee(æä¼š)</span><br><span class="line">##  2018å¹´11æœˆ22æ—¥ </span><br><span class="line">##</span><br><span class="line"></span><br><span class="line">cmake_minimum_required(VERSION 2.6 FATAL_ERROR) #</span><br><span class="line">set(PROJ_NAME hello)</span><br><span class="line">project($&#123;PROJ_NAME&#125;)</span><br><span class="line"></span><br><span class="line">#project($&#123;PROJ_NAME&#125; C CXX Fortran)</span><br><span class="line">#enable_language(Fortran) ##å…è®¸ä½¿ç”¨è¯­è¨€ç±»å‹</span><br><span class="line">#set(CMAKE_BUILD_TYPE release) ##release or debug</span><br><span class="line">#set(CMAKE_CXX_FLAGS &quot;-std=c++11 $&#123;CMAKE_CXX_FLAGS&#125;&quot;) ##</span><br><span class="line"></span><br><span class="line">#------------------------------------</span><br><span class="line"># Include directory for this project</span><br><span class="line">#</span><br><span class="line">include_directories($&#123;PROJECT_SOURCE_DIR&#125;/inc)</span><br><span class="line"></span><br><span class="line">#------------------------------------</span><br><span class="line"># Locate sources and headers for this project</span><br><span class="line">#</span><br><span class="line">file(GLOB sources $&#123;PROJECT_SOURCE_DIR&#125;/src/*.cc)</span><br><span class="line">file(GLOB headers $&#123;PROJECT_SOURCE_DIR&#125;/inc/*.hh)</span><br><span class="line"></span><br><span class="line">#------------------------------------</span><br><span class="line"># Add the executable and link it to the libraries</span><br><span class="line">#</span><br><span class="line"></span><br><span class="line">add_executable($&#123;PROJ_NAME&#125; main.cc $&#123;sources&#125; $&#123;headers&#125;)</span><br><span class="line"></span><br><span class="line">#target_link_libraries($&#123;PROJ_NAME&#125; -L$&#123;PROJECT_SOURE_DIR&#125;/lib hello.so) ##é“¾æ¥åº“æ–‡ä»¶</span><br><span class="line"></span><br><span class="line">#-------------------------------------</span><br><span class="line"># Install the executable or files to &apos;bin&apos; directory</span><br><span class="line"># under CMAKE_INSTALL_PREFIX</span><br><span class="line">#</span><br><span class="line">install(TARGETS $&#123;PROJ_NAME&#125; DESTINATION bin)</span><br></pre></td></tr></table></figure><h1 id="é—®é¢˜æè¿°"><a href="#é—®é¢˜æè¿°" class="headerlink" title="é—®é¢˜æè¿°"></a>é—®é¢˜æè¿°</h1><h2 id="å¦‚ä½•å¤–éƒ¨ç¼–è¯‘-ï¼Ÿ"><a href="#å¦‚ä½•å¤–éƒ¨ç¼–è¯‘-ï¼Ÿ" class="headerlink" title="å¦‚ä½•å¤–éƒ¨ç¼–è¯‘ ï¼Ÿ"></a>å¦‚ä½•å¤–éƒ¨ç¼–è¯‘ ï¼Ÿ</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:$(pwd)/lib</span><br><span class="line">cd build</span><br><span class="line">cmake -DCMAKE_INSTALL_PREFIX=../ ../</span><br><span class="line">make -j4</span><br><span class="line">make install</span><br><span class="line">cd ../bin</span><br></pre></td></tr></table></figure><h2 id="è®¾ç½®äºŒè¿›åˆ¶æ–‡ä»¶å­˜æ”¾åœ°å€"><a href="#è®¾ç½®äºŒè¿›åˆ¶æ–‡ä»¶å­˜æ”¾åœ°å€" class="headerlink" title="è®¾ç½®äºŒè¿›åˆ¶æ–‡ä»¶å­˜æ”¾åœ°å€"></a>è®¾ç½®äºŒè¿›åˆ¶æ–‡ä»¶å­˜æ”¾åœ°å€</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SET(EXECUTABLE_OUTPUT_PATH $&#123;PROJECT_BINARY_DIR&#125;/bin)</span><br><span class="line">SET(LIBRARY_OUTPUT_PATH $&#123;PROJECT_BINARY_DIR&#125;/lib)</span><br></pre></td></tr></table></figure><h2 id="å¦‚ä½•ç”ŸæˆåŠ¨æ€åº“æˆ–é™æ€åº“ï¼Ÿ"><a href="#å¦‚ä½•ç”ŸæˆåŠ¨æ€åº“æˆ–é™æ€åº“ï¼Ÿ" class="headerlink" title="å¦‚ä½•ç”ŸæˆåŠ¨æ€åº“æˆ–é™æ€åº“ï¼Ÿ"></a>å¦‚ä½•ç”ŸæˆåŠ¨æ€åº“æˆ–é™æ€åº“ï¼Ÿ</h2><p> <span class="exturl" data-url="aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MjExMTc3MC9hcnRpY2xlL2RldGFpbHMvODA1OTU2MzM=">å‚è€ƒæ–‡çŒ®<i class="fa fa-external-link-alt"></i></span></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">1.add_library(name SHARED source1, source2, ..., sourceN)</span><br><span class="line">2.add_library(name_static STATIC source1, source2, ... , sourceN)</span><br><span class="line">3.set_target_properties(name_static PROPERTIES OUTPUT_NAME &quot;name&quot;)</span><br><span class="line">4.set_target_properties(name_static PROPERTIES CLEAN_DIRECT_OUTPUT 1)</span><br><span class="line">5.set_target_properties(name PROPERTIES CLEAN_DIRECT_OUTPUT 1)</span><br><span class="line">6.set_target_properties(name PROPERTIES VERSION 1.2 SOVERSION 1)</span><br><span class="line">7.install(TARGETS name name_static </span><br><span class="line">          LIBRARY DESTINATION lib</span><br><span class="line">          ARCHIVE DESTINATION lib)</span><br><span class="line">8.install(DIRECTORY $&#123;titile_H&#125; DESTINATION include/tH)</span><br></pre></td></tr></table></figure><p>ç¬¬ä¸€æ¡    æŒ‡ä»¤æ˜¯ç”ŸæˆåŠ¨æ€åº“ï¼ˆæ‰©å±•åä¸º.soï¼‰ï¼Œç±»å‹å…³é”®å­—æ˜¯SHAREDï¼Œå¹¶ä¸éœ€è¦å†™å…¨libname.soï¼Œåªéœ€è¦å¡«å†™nameå³å¯ï¼Œcmakeç³»ç»Ÿä¼šè‡ªåŠ¨ç”Ÿæˆlibname.soã€‚</p><p>ç¬¬äºŒæ¡    æŒ‡ä»¤æ˜¯åœ¨æ”¯æŒåŠ¨æ€åº“çš„åŸºç¡€ä¸Šä¸ºå·¥ç¨‹æ·»åŠ ä¸€ä¸ªé™æ€åº“ï¼Œå› ä¸ºé™æ€åº“å’ŒåŠ¨æ€åº“åŒåæ—¶ï¼Œæ„å»ºé™æ€åº“çš„æŒ‡ä»¤æ˜¯æ— æ•ˆçš„ï¼Œæ‰€ä»¥æŠŠä¸Šé¢çš„nameä¿®æ”¹ä¸ºname_staticï¼Œå°±å¯ä»¥æ„å»ºä¸€ä¸ªlibname_staticçš„é™æ€åº“ï¼›ç„¶è€Œæˆ‘ä»¬éœ€è¦çš„æ˜¯åå­—ç›¸åŒçš„é™æ€åº“å’ŒåŠ¨æ€åº“ï¼Œå› ä¸ºtargetçš„å”¯ä¸€æ€§ï¼Œæ‰€ä»¥å°±ä¸èƒ½é€šè¿‡add_libraryæŒ‡ä»¤å®ç°ï¼Œæ‰€ä»¥ç”¨åˆ°ç¬¬ä¸‰æ¡æŒ‡ä»¤</p><p>ç¬¬ä¸‰æ¡    æŒ‡ä»¤æ˜¯ä¸ºäº†èƒ½å¤ŸåŒæ—¶å¾—åˆ°libname.so/libname.aä¸¤ä¸ªåº“æ–‡ä»¶ï¼Œä½†æ˜¯å› ä¸ºcmakeåœ¨æ„å»ºä¸€ä¸ªæ–°çš„targetæ—¶ï¼Œä¼šå°è¯•æ¸…ç†æ‰å…·æœ‰ç›¸åŒå‘½åçš„åº“æ–‡ä»¶ï¼Œæ‰€ä»¥ï¼Œåœ¨æ„å»ºlibname.açš„æ—¶å€™ä¼šå°†libname.soåº“æ–‡ä»¶æ¸…ç†æ‰ï¼Œå› æ­¤éœ€è¦å†æ¬¡ä½¿ç”¨set_target_propertieså®šä¹‰çš„CLEAN_DIRECT_OUTPUTå±æ€§ï¼Œå¦‚ç¬¬å››æ¡å’Œç¬¬äº”æ¡æŒ‡ä»¤æ‰€ç¤ºï¼Œè‡³æ­¤ï¼Œæˆ‘ä»¬å†æ¬¡è¿›è¡Œæ„å»ºï¼Œå°±ä¼šå‘ç°åœ¨ç›®å½•ä¸­åŒæ—¶ç”Ÿæˆlibname.soåŠ¨æ€åº“æ–‡ä»¶å’Œlibname.aé™æ€åº“æ–‡ä»¶</p><p>ç¬¬å…­æ¡    æŒ‡ä»¤æ˜¯å› ä¸ºæŒ‰ç…§è§„åˆ™ï¼ŒåŠ¨æ€åº“æ˜¯åº”å½“åŒ…å«ä¸€ä¸ªç‰ˆæœ¬å·çš„ï¼Œ ä¸ºäº†å®ç°åŠ¨æ€åº“ç‰ˆæœ¬å·ï¼Œä»ç„¶éœ€è¦ä½¿ç”¨SET_TARGET_PROPERTIESæŒ‡ä»¤ï¼Œå…¶ä¸­VERSONæŒ‡ä»£åŠ¨æ€åº“ç‰ˆæœ¬ï¼ŒSOVERSIONæŒ‡ä»£APIç‰ˆæœ¬ã€‚</p><p>ç¬¬ä¸ƒæ¡    æŒ‡ä»¤æ˜¯å°†åŠ¨æ€åº“å’Œé™æ€åº“æ–‡ä»¶å®‰è£…åˆ°ç³»ç»Ÿç›®å½•ï¼Œæ‰èƒ½å¤ŸçœŸæ­£åœ°è®©å…¶ä»–äººå¼€å‘ä½¿ç”¨ï¼Œæˆ‘ä»¬å°†åº“æ–‡ä»¶å®‰è£…åˆ°<prefix>/libç›®å½•ä¸‹</prefix></p><p>ç¬¬å…«æ¡    æŒ‡ä»¤æ˜¯å°†å¤´æ–‡ä»¶å®‰è£…åˆ°<prefix>/include/tHç›®å½•ä¸­ã€‚</prefix></p><h2 id="å¤–éƒ¨å¼•ç”¨åŠ¨æ€åº“å’Œé™æ€åº“"><a href="#å¤–éƒ¨å¼•ç”¨åŠ¨æ€åº“å’Œé™æ€åº“" class="headerlink" title="å¤–éƒ¨å¼•ç”¨åŠ¨æ€åº“å’Œé™æ€åº“"></a>å¤–éƒ¨å¼•ç”¨åŠ¨æ€åº“å’Œé™æ€åº“</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1.INCLUDE_DIRECTORIES(å¤´æ–‡ä»¶åœ¨ç³»ç»Ÿä¸­çš„ä½ç½®)</span><br><span class="line">2.ADD_EXECUTABLE(main source/main.cpp)</span><br><span class="line">3.TARGET_LINK_LIBRARIES(main libfaceDetection.a)</span><br></pre></td></tr></table></figure><p>å› ä¸ºç¼–è¯‘å®‰è£…å°†åŠ¨æ€åº“å®‰è£…åˆ°/usr/local/libï¼Œ/usr/binç›®å½•ä¸‹ï¼Œå¯¹äºåŠ¨æ€åº“çš„å¤–éƒ¨å¼•ç”¨æœ‰äº›éº»çƒ¦ï¼›</p><h1 id="åº“æ–‡ä»¶çš„ç¼–è¯‘å’Œå°è£…"><a href="#åº“æ–‡ä»¶çš„ç¼–è¯‘å’Œå°è£…" class="headerlink" title="åº“æ–‡ä»¶çš„ç¼–è¯‘å’Œå°è£…"></a>åº“æ–‡ä»¶çš„ç¼–è¯‘å’Œå°è£…</h1><ul><li>æ–°å»º<code>build</code>æ–‡ä»¶å¤¹ï¼Œå°†è¦ç¼–è¯‘æˆåº“æ–‡ä»¶çš„<code>inc</code>å’Œ<code>src</code>æ‹·è´åˆ°<code>build</code>æ–‡ä»¶å¤¹ä¸‹ï¼Œç„¶ååœ¨æ­¤ç¼–å†™CMakeLists.txt æ–‡ä»¶,åœ¨å°†å¤´æ–‡ä»¶å’Œæºæ–‡ä»¶å®‰è£…æˆåº“ï¼ŒCMakeListsçš„ç¼–å†™å¦‚ä¸‹ï¼š</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">#----------------------------------------------------------------------------</span><br><span class="line"># Setup the project</span><br><span class="line">cmake_minimum_required(VERSION 2.6 FATAL_ERROR)</span><br><span class="line">set(PROJ_NAME hello)</span><br><span class="line">project($PROJ_NAME)</span><br><span class="line"></span><br><span class="line">#----------------------------------------------------------------------------</span><br><span class="line"># Setup Geant4 include directories and compile definitions</span><br><span class="line"># Setup include directory for this project</span><br><span class="line">#</span><br><span class="line">include_directories($&#123;PROJECT_SOURCE_DIR&#125;/inc)</span><br><span class="line"></span><br><span class="line">#----------------------------------------------------------------------------</span><br><span class="line"># Locate sources and headers for this project</span><br><span class="line"># NB: headers are included so they will show up in IDEs</span><br><span class="line">#</span><br><span class="line">file(GLOB sources $&#123;PROJECT_SOURCE_DIR&#125;/src/*.cc)</span><br><span class="line">file(GLOB headers $&#123;PROJECT_SOURCE_DIR&#125;/inc/*.hh)</span><br><span class="line"></span><br><span class="line">#-------------------------------------------</span><br><span class="line"># Create static and dynamic library</span><br><span class="line">#</span><br><span class="line">add_library($&#123;PROJ_NAME&#125; SHARED $&#123;sources&#125; $&#123;headers&#125;)</span><br><span class="line">set_target_properties($&#123;PROJ_NAME&#125; PROPERTIES VERSION 1.2 SOVERSION 1)</span><br><span class="line"></span><br><span class="line">#----------------------------------------------------------------------------</span><br><span class="line"># Install the executable to &apos;bin&apos; directory under CMAKE_INSTALL_PREFIX</span><br><span class="line">#</span><br><span class="line">#install(TARGETS $&#123;PROJ_NAME&#125;  DESTINATION lib)</span><br><span class="line">#install(FILES $&#123;headers&#125; DESTINATION inc)</span><br><span class="line">SET(LIBRARY_OUTPUT_PATH $&#123;PROJECT_BINARY_DIR&#125;../../../lib)</span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„</strong> </p><ul><li>å°†å¯æ‰§è¡ŒäºŒè¿›åˆ¶æ–‡ä»¶å®‰è£…åˆ°æ–‡ä»¶å¤¹æ—¶ï¼Œé‡‡ç”¨<code>install(TARGETS )</code>æ–¹å¼å­˜åœ¨ä¸€å®šé—®é¢˜ï¼Œç”Ÿå­˜çš„äºŒè¿›åˆ¶æ–‡ä»¶åœ¨<code>usr/bin</code>ï¼ŒåŒç†ï¼Œå¤´æ–‡ä»¶å®‰è£…åœ¨<code>usr/local/inc</code>ä¸‹ã€‚</li><li><code>SET(LIBRARY_OUTPUT_PATH )</code>å¯ä»¥è®¾ç½®åº“æ–‡ä»¶å®‰è£…ä½ç½®ã€‚</li><li>åœ¨<code>main()</code>çš„ç¼–è¯‘é“¾æ¥ä¸­ï¼ŒCMakeLists.txtå°†ä¼šå­˜åœ¨ä»¥ä¸‹é—®é¢˜ï¼Œå¤´æ–‡ä»¶å¿…é¡»åŒ…å«ç”Ÿæˆåº“æ–‡ä»¶æ‰€ç”¨çš„å…¨éƒ¨å¤´æ–‡ä»¶ï¼Œé“¾æ¥ç”Ÿæˆçš„æ‰€æœ‰åŠ¨æ€åº“æ–‡ä»¶ï¼›å¦‚ï¼Œåœ¨ä¸Šè¿°çš„</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set_target_properties($&#123;PROJ_NAME&#125; PROPERTIES VERSION 1.2 SOVERSION 1)</span><br></pre></td></tr></table></figure><p>å…¶å°†ï¼Œç”Ÿæˆä¸‰ä¸ªåº“æ–‡ä»¶ï¼Œåˆ†åˆ«å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">libhello.so</span><br><span class="line">libhello.so.1</span><br><span class="line">libhello.so.1.2</span><br></pre></td></tr></table></figure><p>åœ¨é“¾æ¥åº“æ–‡ä»¶æ—¶ï¼Œåˆ™éœ€è¦å°†ä¸‰ä¸ªåº“æ–‡ä»¶å‡åŒ…å«</p><ul><li>API (Application Programming Interface,åº”ç”¨ç¨‹åºç¼–ç¨‹æ¥å£ï¼‰æ˜¯ä¸€äº›é¢„å…ˆå®šä¹‰çš„å‡½æ•°ï¼Œç›®çš„æ˜¯æä¾›åº”ç”¨ç¨‹åºä¸å¼€å‘äººå‘˜åŸºäºæŸè½¯ä»¶æˆ–ç¡¬ä»¶å¾—ä»¥è®¿é—®ä¸€ç»„ä¾‹ç¨‹çš„èƒ½åŠ›ï¼Œè€Œåˆæ— éœ€è®¿é—®æºç ï¼Œæˆ–ç†è§£å†…éƒ¨å·¥ä½œæœºåˆ¶çš„ç»†èŠ‚ã€‚<span class="exturl" data-url="aHR0cHM6Ly9iYWlrZS5iYWlkdS5jb20vaXRlbS9hcGkvMTAxNTQ=">ç™¾åº¦ç™¾ç§‘<i class="fa fa-external-link-alt"></i></span></li></ul><h1 id="å¤–éƒ¨å¼•ç”¨åº“çš„ä¼˜åŠ¿"><a href="#å¤–éƒ¨å¼•ç”¨åº“çš„ä¼˜åŠ¿" class="headerlink" title="å¤–éƒ¨å¼•ç”¨åº“çš„ä¼˜åŠ¿"></a>å¤–éƒ¨å¼•ç”¨åº“çš„ä¼˜åŠ¿</h1><ul><li>éšè—æºç </li><li>ä¸ä¾èµ–æœºå™¨çš„æ€§èƒ½å’Œé…ç½®å·®å¼‚</li><li>äºŒè¿›åˆ¶åº“æ–‡ä»¶ä½ç½®æ˜ç¡®ï¼Œè„±ç¦»æºç å¯ç§»æ¤æ€§é«˜</li></ul>]]></content>
    
    <summary type="html">
    
      Focus on how to use cmake to compile scripts and library and hide source files.
    
    </summary>
    
    
      <category term="ç¼–ç¨‹å·¥å…·å­¦ä¹ ä¸åº”ç”¨" scheme="https://Hubery-Lee.github.io/categories/%E7%BC%96%E7%A8%8B%E5%B7%A5%E5%85%B7%E5%AD%A6%E4%B9%A0%E4%B8%8E%E5%BA%94%E7%94%A8/"/>
    
    
      <category term="cmake" scheme="https://Hubery-Lee.github.io/tags/cmake/"/>
    
  </entry>
  
  <entry>
    <title>Show RunTime and Solve Problem that Data ReadOut Are Disordered in Geant4 Multi-thread Mode</title>
    <link href="https://hubery-lee.github.io/2018/10/16/Show%20RunTime%20and%20Solve%20Problem%20that%20Data%20ReadOut%20Are%20Disordered%20in%20Geant4%20Multi-thread%20Mode/"/>
    <id>https://hubery-lee.github.io/2018/10/16/Show%20RunTime%20and%20Solve%20Problem%20that%20Data%20ReadOut%20Are%20Disordered%20in%20Geant4%20Multi-thread%20Mode/</id>
    <published>2018-10-16T12:29:30.000Z</published>
    <updated>2020-04-28T00:41:10.935Z</updated>
    
    <content type="html"><![CDATA[<h1 id="How-to-show-runtime"><a href="#How-to-show-runtime" class="headerlink" title="How to show runtime"></a>How to show runtime</h1><h2 id="Using-G4Timer-in-RunAction"><a href="#Using-G4Timer-in-RunAction" class="headerlink" title="Using G4Timer in RunAction"></a>Using G4Timer in RunAction</h2><p>time count start at the begin of run and stop at the end of run. </p><h2 id="Detail-Consturciton"><a href="#Detail-Consturciton" class="headerlink" title="Detail Consturciton"></a>Detail Consturciton</h2><p>declare a pionter to G4Timer in construct function.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fTimer = new G4Timer;</span><br></pre></td></tr></table></figure><p>free memory of G4Timer in distruct function</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">delete fTimer;</span><br></pre></td></tr></table></figure><p>time count start in BeginOfRunAction()</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fTimer -&gt;Start()</span><br></pre></td></tr></table></figure><p>time count stop in EndOfRunAction()</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fTimer -&gt;Stop();</span><br></pre></td></tr></table></figure><h2 id="Result-Shows"><a href="#Result-Shows" class="headerlink" title="Result Shows"></a>Result Shows</h2><p>Time used will be showed in the end of run.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">number of event = ... User=...s Real=...s Sys=...s</span><br></pre></td></tr></table></figure><h1 id="Solve-Problem-that-Data-ReadOut-Are-Disordered-in-Geant4-Multi-thread-Mode"><a href="#Solve-Problem-that-Data-ReadOut-Are-Disordered-in-Geant4-Multi-thread-Mode" class="headerlink" title="Solve Problem that Data ReadOut Are Disordered in Geant4 Multi-thread Mode"></a>Solve Problem that Data ReadOut Are Disordered in Geant4 Multi-thread Mode</h1><h2 id="problem-discription"><a href="#problem-discription" class="headerlink" title="problem discription"></a>problem discription</h2><p> I encountered a problem in Geant4 multi-thread run mode. The data readout from two different sensitive detector with hits  are corrected in single thread mode but disordered  in multi-thread run mode. I don&#39;t know how this problem should happen. I think there must be something wrong in the Merge() function. Memory storage may be disordered in the multi-thread mode.</p><h2 id="problem-solving"><a href="#problem-solving" class="headerlink" title="problem solving"></a>problem solving</h2><p>Do not use Geant4 Data Merge() in root mode</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">//analysisManager-&gt;SetNtupleMerging(<span class="literal">true</span>);</span><br><span class="line">//or</span><br><span class="line">analysisManager-&gt;SetNtupleMerging(<span class="literal">false</span>);</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;How-to-show-runtime&quot;&gt;&lt;a href=&quot;#How-to-show-runtime&quot; class=&quot;headerlink&quot; title=&quot;How to show runtime&quot;&gt;&lt;/a&gt;How to show runtime&lt;/h1&gt;&lt;h2 i
      
    
    </summary>
    
    
      <category term="Geant4åŠRootåº”ç”¨" scheme="https://Hubery-Lee.github.io/categories/Geant4%E5%8F%8ARoot%E5%BA%94%E7%94%A8/"/>
    
    
      <category term="Geant" scheme="https://Hubery-Lee.github.io/tags/Geant/"/>
    
  </entry>
  
  <entry>
    <title>Emacs yasnippets and markdown configure</title>
    <link href="https://hubery-lee.github.io/2018/10/11/Emacs-yasnippets-and-markdown-configure/"/>
    <id>https://hubery-lee.github.io/2018/10/11/Emacs-yasnippets-and-markdown-configure/</id>
    <published>2018-10-11T14:07:58.000Z</published>
    <updated>2020-04-28T00:35:03.794Z</updated>
    
    <content type="html"><![CDATA[<p>@[TOC](emacs yasnippets å’Œmakrdownçš„é…ç½®)</p><h2 id="yasnippets-çš„é…ç½®"><a href="#yasnippets-çš„é…ç½®" class="headerlink" title="yasnippets çš„é…ç½®"></a>yasnippets çš„é…ç½®</h2><ul><li>å®‰è£…</li></ul><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd ~/.emacs.d/site-lisp</span><br><span class="line">git clone https://github.com/capitaomorte/yasnippet</span><br></pre></td></tr></table></figure><ul><li>é…ç½®==init.el==</li></ul><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name">add-to-list</span> 'load-path</span><br><span class="line">              <span class="string">"~/.emacs.d/site-lisp/yasnippet"</span>)</span><br><span class="line">(<span class="name">require</span> 'yasnippet)</span><br><span class="line">(<span class="name">setq</span> yas-snippet-dirs</span><br><span class="line">      '(<span class="string">"~/.emacs.d/snippets"</span> ;; personal snippets</span><br><span class="line">        ))</span><br><span class="line">(<span class="name">yas-global-mode</span> <span class="number">1</span>)</span><br></pre></td></tr></table></figure><ul><li><p>æ·»åŠ è‡ªå®šä¹‰æ¨¡æ¿</p><p> M-x yas-new-snippet åˆ›å»ºæ–°æ¨¡æ¿<br> C-c C-c ä¿å­˜</p></li><li><p>æ¨¡æ¿å†…å®¹è¯´æ˜</p><p>contributor: snippetä½œè€…åç§°åŠç”µé‚®<br>snippetçš„è¯­æ³•å˜é‡æ˜¯ä»¥$ç¾å…ƒç¬¦å¼€å§‹çš„ï¼Œæ ¹æ®å˜é‡$1 $2 $... å®šä¹‰é¡ºåºå…‰æ ‡ç§»åŠ¨ä½ç½®ï¼Œç‰¹æ®Šçš„$0æ˜¯æœ€åå…‰æ ‡åœä½ç½®ï¼Œè¯­æ³•${N:default value}ã€‚</p></li></ul><h2 id="markdown-çš„é…ç½®"><a href="#markdown-çš„é…ç½®" class="headerlink" title="markdown çš„é…ç½®"></a>markdown çš„é…ç½®</h2><ul><li><p><span class="exturl" data-url="aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2NzZG5tb25rZXkvYXJ0aWNsZS9kZXRhaWxzLzU0OTM0NjYz">å‚çœ‹è¿™ç¯‡æ–‡ç« <i class="fa fa-external-link-alt"></i></span><br>google markdown emacs é…ç½®<br><span class="exturl" data-url="aHR0cHM6Ly9saW51eHRveS5vcmcvYXJjaGl2ZXMvZW1hY3MtbWFya2Rvd24tbW9kZS5odG1s">https://linuxtoy.org/archives/emacs-markdown-mode.html<i class="fa fa-external-link-alt"></i></span></p></li><li><p>é‡ç‚¹çœ‹ä¸‹é¢è¿™ä¸ªï¼Œæ­¤ä¸ºäº§å“åŸç½‘å€ã€‚è¯¥ç½‘ç«™ä»‹ç»äº†äº§å“çš„å¤šç§å®‰è£…æ–¹å¼ã€‚<br>google markdown-mode<br>==<span class="exturl" data-url="aHR0cDovL2pibGV2aW5zLm9yZy9wcm9qZWN0cy9tYXJrZG93bi1tb2RlLz09">http://jblevins.org/projects/markdown-mode/==<i class="fa fa-external-link-alt"></i></span>  </p></li><li><p>å¸¸ç”¨å‘½ä»¤</p></li></ul><ul><li><code>C-c C-c m: markdown-command</code> &gt; <code>*markdown-output*</code> buffer.</li><li><code>C-c C-c p: markdown-command</code>&gt; temporary file&gt; browser.</li><li><code>C-c C-c e: markdown-command</code> &gt; <code>basename.html</code>.</li><li><code>C-c C-c v: markdown-command</code> &gt; <code>basename.html</code> &gt; browser.</li><li><code>C-c C-c w: markdown-command</code> &gt; kill ring.</li><li><code>C-c C-c o: markdown-open-command</code>.</li><li><code>C-c C-c l: markdown-live-preview-mode</code> &gt;<code>*eww*</code> buffer.</li></ul><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><p>[1] <span class="exturl" data-url="aHR0cHM6Ly93d3cuY25ibG9ncy5jb20vbGl3ZWlsaWppZS9hcmNoaXZlLzIwMTIvMTIvMzAvMjg0MDA4MS5odG1s">https://www.cnblogs.com/liweilijie/archive/2012/12/30/2840081.html<i class="fa fa-external-link-alt"></i></span><br>[2] <span class="exturl" data-url="aHR0cHM6Ly93d3cuZG91YmFuLmNvbS9ub3RlLzU1MTk4MDc0MC8=">https://www.douban.com/note/551980740/<i class="fa fa-external-link-alt"></i></span><br>[3] <span class="exturl" data-url="aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2NzZG5tb25rZXkvYXJ0aWNsZS9kZXRhaWxzLzU0OTM0NjYz">https://blog.csdn.net/csdnmonkey/article/details/54934663<i class="fa fa-external-link-alt"></i></span><br>[4] <span class="exturl" data-url="aHR0cHM6Ly9qYmxldmlucy5vcmcvcHJvamVjdHMvbWFya2Rvd24tbW9kZS8=">https://jblevins.org/projects/markdown-mode/<i class="fa fa-external-link-alt"></i></span></p>]]></content>
    
    <summary type="html">
    
      Focus on how to use emacs to edit markdown scripts.
    
    </summary>
    
    
      <category term="ç¼–ç¨‹å·¥å…·å­¦ä¹ ä¸åº”ç”¨" scheme="https://Hubery-Lee.github.io/categories/%E7%BC%96%E7%A8%8B%E5%B7%A5%E5%85%B7%E5%AD%A6%E4%B9%A0%E4%B8%8E%E5%BA%94%E7%94%A8/"/>
    
    
      <category term="Emacs24.3" scheme="https://Hubery-Lee.github.io/tags/Emacs24-3/"/>
    
      <category term="markdown" scheme="https://Hubery-Lee.github.io/tags/markdown/"/>
    
  </entry>
  
  <entry>
    <title>G4 Detector CopyNo and MotherCopyNo access</title>
    <link href="https://hubery-lee.github.io/2018/10/11/G4-Detector-CopyNo-and-MotherCopyNo-access/"/>
    <id>https://hubery-lee.github.io/2018/10/11/G4-Detector-CopyNo-and-MotherCopyNo-access/</id>
    <published>2018-10-11T03:41:25.000Z</published>
    <updated>2020-04-28T00:33:43.815Z</updated>
    
    <content type="html"><![CDATA[<h2 id="How-to-construct-assembly-or-replices"><a href="#How-to-construct-assembly-or-replices" class="headerlink" title="How to construct assembly or replices"></a>How to construct assembly or replices</h2><p>You can refer to Geant4 Book for Application Developers <span class="exturl" data-url="aHR0cDovL2dlYW50NC11c2VyZG9jLndlYi5jZXJuLmNoL2dlYW50NC11c2VyZG9jL1VzZXJzR3VpZGVzL0ZvckFwcGxpY2F0aW9uRGV2ZWxvcGVyL2h0bWwvRGV0ZWN0b3IvR2VvbWV0cnkvZ2VvbUFzc2VtYmx5Lmh0bWw=">User Guide<i class="fa fa-external-link-alt"></i></span></p><p>There are discriptions in the chapter4 Geometry/Assemblyã€Navigatorã€TouchableHandles.</p><h2 id="How-to-distinguish-different-detector-array-components"><a href="#How-to-distinguish-different-detector-array-components" class="headerlink" title="How to distinguish different detector array components"></a>How to distinguish different detector array components</h2><p>Using the â€˜stepâ€™ to retrieve geometrical information</p><p>During the tracking run, geometrical information can be retrieved through the touchable handle associated to the current step. For example, to identify the exact copy-number of a specific physical volume in the mass geometry, one should do the following:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">// Given the pointer to the step object ...</span><br><span class="line">//</span><br><span class="line">G4Step* aStep = ..;</span><br><span class="line"></span><br><span class="line">// ... retrieve the <span class="string">'pre-step'</span> point</span><br><span class="line">//</span><br><span class="line">G4StepPoint* preStepPoint = aStep-&gt;GetPreStepPoint();</span><br><span class="line"></span><br><span class="line">// ... retrieve a touchable handle and access to the information</span><br><span class="line">//</span><br><span class="line">G4TouchableHandle theTouchable = preStepPoint-&gt;GetTouchableHandle();</span><br><span class="line">G4int copyNo = theTouchable-&gt;GetCopyNumber();</span><br><span class="line">G4int motherCopyNo = theTouchable-&gt;GetCopyNumber(1);</span><br><span class="line"></span><br><span class="line">To determine the exact position <span class="keyword">in</span> global coordinates <span class="keyword">in</span> the mass geometry and convert to <span class="built_in">local</span> coordinates (<span class="built_in">local</span> to the current volume):</span><br><span class="line"></span><br><span class="line">G4ThreeVector worldPosition = preStepPoint-&gt;GetPosition();</span><br><span class="line">G4ThreeVector localPosition = theTouchable-&gt;GetHistory()-&gt;</span><br><span class="line">              GetTopTransform().TransformPoint(worldPosition);</span><br></pre></td></tr></table></figure><h2 id="Attention"><a href="#Attention" class="headerlink" title="Attention"></a>Attention</h2><p>the motherCopyNo start from 2 to motherNoCopy+1,  copyNo start from 0 to NoCopy-1;</p>]]></content>
    
    <summary type="html">
    
      This page introduce the mehtods to construct detector arrays and how to discriminate the different components with copyNo and motherCopyNo.
    
    </summary>
    
    
      <category term="Geant4åŠRootåº”ç”¨" scheme="https://Hubery-Lee.github.io/categories/Geant4%E5%8F%8ARoot%E5%BA%94%E7%94%A8/"/>
    
    
      <category term="geant4" scheme="https://Hubery-Lee.github.io/tags/geant4/"/>
    
  </entry>
  
</feed>
